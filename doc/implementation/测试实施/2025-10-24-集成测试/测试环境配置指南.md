# ğŸ¯ æµ‹è¯•ç¯å¢ƒå®Œæ•´è®¾ç½®æŒ‡å—

**çŠ¶æ€**: âœ… æ‰€æœ‰ä»£ç é—®é¢˜å·²ä¿®å¤ï¼Œæµ‹è¯•ç”¨æˆ·å·²å¯¼å…¥

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. ä»£ç é—®é¢˜ä¿®å¤
- âœ… ç§»é™¤HTTPå“åº”æ±¡æŸ“ï¼ˆfmt.Printfï¼‰
- âœ… ä¿®å¤ä¹¦åŸè·¯ç”±é¡ºåº
- âœ… ä¿®æ­£æµ‹è¯•URLå’Œå‚æ•°

### 2. æµ‹è¯•æ•°æ®å‡†å¤‡
- âœ… åˆ›å»ºPythonç›´è¿å¯¼å…¥è„šæœ¬
- âœ… æˆåŠŸå¯¼å…¥8ä¸ªæµ‹è¯•ç”¨æˆ·åˆ°MongoDB
- âœ… éªŒè¯å¯†ç åŠ å¯†å…¼å®¹æ€§

### 3. é…ç½®æ–‡ä»¶æ›´æ–°
- âœ… ä¿®æ”¹ `config/config.test.yaml` å»é™¤MongoDBè®¤è¯

---

## ğŸš€ ä¸‹ä¸€æ­¥æ“ä½œï¼ˆé‡è¦ï¼ï¼‰

### æ­¥éª¤1: åœæ­¢å½“å‰è¿è¡Œçš„æœåŠ¡å™¨

**Windows PowerShell**:
```powershell
# æŸ¥çœ‹æœåŠ¡å™¨è¿›ç¨‹
netstat -ano | findstr :8080

# åœæ­¢æœåŠ¡å™¨ï¼ˆä½¿ç”¨æŸ¥åˆ°çš„PIDï¼Œä¾‹å¦‚3964ï¼‰
taskkill /PID 3964 /F
```

**æˆ–è€…åœ¨è¿è¡ŒæœåŠ¡å™¨çš„ç»ˆç«¯æŒ‰** `Ctrl+C`

---

### æ­¥éª¤2: é‡æ–°å¯åŠ¨æœåŠ¡å™¨

```bash
# ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•
cd E:\Github\Qingyu\Qingyu_backend

# å¯åŠ¨æœåŠ¡å™¨ï¼ˆä½¿ç”¨æµ‹è¯•é…ç½®ï¼‰
go run cmd/server/main.go
```

**æˆ–è€…ä½¿ç”¨å·²ç¼–è¯‘çš„ç¨‹åº**:
```bash
./server.exe
```

æœåŠ¡å™¨å¯åŠ¨ååº”è¯¥çœ‹åˆ°ï¼š
```
âœ“ MongoDBè¿æ¥æˆåŠŸ
âœ“ æ‰€æœ‰è·¯ç”±æ³¨å†Œå®Œæˆ
âœ“ æœåŠ¡å™¨å¯åŠ¨åœ¨ :8080
```

---

### æ­¥éª¤3: è¿è¡Œæµ‹è¯•éªŒè¯

**å•ä¸ªæµ‹è¯•**:
```bash
go test -v -run TestAuthScenario ./test/integration -timeout 30s
```

**æ‰€æœ‰æµ‹è¯•**:
```bash
go test -v ./test/integration -timeout 60s
```

**é¢„æœŸç»“æœ**:
- âœ… TestAuthScenario: ç™»å½•æµ‹è¯•åº”è¯¥å…¨éƒ¨é€šè¿‡
- âœ… TestBookstoreScenario: ä¹¦åŸæµ‹è¯•åº”è¯¥é€šè¿‡
- âœ… TestSearchScenario: æœç´¢æµ‹è¯•åº”è¯¥é€šè¿‡

---

## ğŸ“‹ æµ‹è¯•è´¦å·ä¿¡æ¯

| è§’è‰² | ç”¨æˆ·å | é‚®ç®± | å¯†ç  |
|------|---------|------|------|
| ç®¡ç†å‘˜ | `admin` | admin@qingyu.com | `Admin@123456` |
| VIPç”¨æˆ· | `vip_user01` | vip01@qingyu.com | `Vip@123456` |
| VIPç”¨æˆ· | `vip_user02` | vip02@qingyu.com | `Vip@123456` |
| æ™®é€šç”¨æˆ· | `test_user01` | test01@qingyu.com | `Test@123456` |
| æ™®é€šç”¨æˆ· | `test_user02` | test02@qingyu.com | `Test@123456` |
| æ™®é€šç”¨æˆ· | `test_user03` | test03@qingyu.com | `Test@123456` |
| æ™®é€šç”¨æˆ· | `test_user04` | test04@qingyu.com | `Test@123456` |
| æ™®é€šç”¨æˆ· | `test_user05` | test05@qingyu.com | `Test@123456` |

**âš ï¸ é‡è¦æç¤º**: ç™»å½•æ—¶ä½¿ç”¨ `username` å­—æ®µï¼Œä¸æ˜¯ `email`ï¼

---

## ğŸ”§ æ•…éšœæ’é™¤

### é—®é¢˜1: æœåŠ¡å™¨æ— æ³•å¯åŠ¨

**æ£€æŸ¥MongoDBæ˜¯å¦è¿è¡Œ**:
```bash
# Windows
net start | findstr MongoDB

# æˆ–ä½¿ç”¨MongoDB Compassè¿æ¥æµ‹è¯•
mongodb://localhost:27017
```

### é—®é¢˜2: æµ‹è¯•ä»ç„¶å¤±è´¥

**é‡æ–°å¯¼å…¥ç”¨æˆ·æ•°æ®**:
```bash
python scripts/testing/import_users_direct.py
```

**æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨**:
```bash
python scripts/testing/check_users.py
```

### é—®é¢˜3: å¯†ç éªŒè¯å¤±è´¥

**æµ‹è¯•å¯†ç åŠ å¯†**:
```bash
python scripts/testing/test_bcrypt.py
```

---

## ğŸ“ ç›¸å…³æ–‡ä»¶

### å·²ä¿®æ”¹çš„æ–‡ä»¶
1. `service/user/user_service.go` - ç§»é™¤fmt.Printf
2. `service/shared/auth/auth_service.go` - ç§»é™¤fmt.Printf  
3. `service/shared/auth/session_service.go` - ç§»é™¤fmt.Printf
4. `router/bookstore/bookstore_router.go` - ä¿®å¤è·¯ç”±é¡ºåº
5. `config/config.test.yaml` - ç§»é™¤MongoDBè®¤è¯
6. `test/integration/scenario_*.go` - ä¿®å¤æµ‹è¯•URLå’Œå‚æ•°

### æ–°å¢çš„è„šæœ¬
1. `scripts/testing/import_users_direct.py` - ç›´è¿MongoDBå¯¼å…¥ç”¨æˆ·
2. `scripts/testing/check_users.py` - æ£€æŸ¥ç”¨æˆ·æ•°æ®
3. `scripts/testing/test_bcrypt.py` - æµ‹è¯•å¯†ç åŠ å¯†

### æ–‡æ¡£
1. `TEST_FIXES_SUMMARY.md` - æŠ€æœ¯ä¿®å¤æ€»ç»“
2. `TEST_ISSUES_FIXED_FINAL.md` - å®Œæ•´ä¿®å¤æŠ¥å‘Š
3. `FINAL_TEST_SETUP.md` - æœ¬æ–‡ä»¶

---

## âœ… éªŒè¯æ¸…å•

åœ¨è¿è¡Œæµ‹è¯•å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] MongoDBæœåŠ¡æ­£åœ¨è¿è¡Œ
- [ ] æµ‹è¯•ç”¨æˆ·å·²å¯¼å…¥ï¼ˆ8ä¸ªç”¨æˆ·ï¼‰
- [ ] æ—§æœåŠ¡å™¨å·²åœæ­¢
- [ ] æ–°æœåŠ¡å™¨å·²å¯åŠ¨ï¼ˆä½¿ç”¨æ›´æ–°åçš„é…ç½®ï¼‰
- [ ] æœåŠ¡å™¨æ—¥å¿—æ˜¾ç¤ºæ­£å¸¸

---

## ğŸ“ å¦‚é‡é—®é¢˜

å¦‚æœæµ‹è¯•ä»ç„¶å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š
1. æœåŠ¡å™¨æ—¥å¿—è¾“å‡º
2. MongoDBè¿æ¥çŠ¶æ€
3. æµ‹è¯•ç”¨æˆ·æ•°æ®æ˜¯å¦åœ¨æ­£ç¡®çš„æ•°æ®åº“ä¸­ï¼ˆqingyu_testï¼‰
4. é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½

---

**æœ€åæ›´æ–°**: 2025-10-25 00:40  
**çŠ¶æ€**: ç­‰å¾…é‡å¯æœåŠ¡å™¨

