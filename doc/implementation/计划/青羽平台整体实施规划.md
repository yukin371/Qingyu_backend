# 青羽平台整体实施规划

> **文档版本**: v1.0  
> **创建日期**: 2025-10-11  
> **项目名称**: 青羽一站式阅读写作平台  
> **英文名称**: Qingyu Reading & Writing Platform  
> **文档类型**: 实施规划

---

## 📋 文档摘要

本文档是青羽平台的整体实施规划文档，基于《需求分析文档 v3.0》和项目架构设计，制定详细的分阶段实施计划。文档涵盖开发路线图、里程碑规划、资源分配、风险管理、质量保证等内容，为项目团队提供清晰的实施指引。

---

## 目录

- [1. 项目概览](#1-项目概览)
- [2. 实施目标与原则](#2-实施目标与原则)
- [3. 实施策略](#3-实施策略)
- [4. 分阶段实施计划](#4-分阶段实施计划)
- [5. 技术栈与开发环境](#5-技术栈与开发环境)
- [6. 资源规划](#6-资源规划)
- [7. 风险管理](#7-风险管理)
- [8. 质量保证](#8-质量保证)
- [9. 交付物清单](#9-交付物清单)
- [10. 进度监控机制](#10-进度监控机制)

---

## 1. 项目概览

### 1.1 项目背景

青羽平台是一个集阅读、写作、AI辅助于一体的综合性数字内容平台。项目旨在通过AI技术赋能内容创作，降低创作门槛，提升内容质量，构建良性的创作生态系统。

### 1.2 项目定位

- **技术定位**: 基于Go+Gin框架的高性能后端系统，Vue3前端，深度集成AI大语言模型
- **业务定位**: 一体化内容创作与阅读平台，连接读者与作者
- **毕业设计定位**: 计算机科学与技术专业毕业设计项目

### 1.3 核心特性

1. **AI Agent工具调用**: 从"说"到"做"的突破，自动创建大纲、角色卡
2. **RAG检索增强**: 基于私有知识库的精准检索，避免AI幻觉
3. **一站式平台**: 打通阅读与写作，构建完整生态
4. **高性能架构**: 支持高并发访问，响应时间<200ms

### 1.4 项目范围

**包含范围**:
- 用户管理与认证授权系统
- 阅读端（书城、阅读器、推荐系统）
- 写作端（编辑器、项目管理、设定百科）
- AI服务（智能续写、改写、对话、RAG检索）
- 共享服务（文件存储、搜索、钱包）
- 管理后台

**不包含范围**:
- 移动端原生App开发（优先Web响应式）
- 支付接入（仅实现钱包充值提现逻辑）
- 第三方平台发布集成
- 音频阅读功能

---

## 2. 实施目标与原则

### 2.1 总体目标

| 目标类别 | 具体目标 | 衡量标准 |
|---------|---------|----------|
| **功能目标** | 实现P0、P1优先级功能 | 核心功能完整可用 |
| **性能目标** | API响应时间P95<200ms | 性能测试达标 |
| **质量目标** | 代码测试覆盖率≥80% | 单元测试+集成测试 |
| **学术目标** | 完成毕业论文与答辩 | 论文质量达标，答辩通过 |

### 2.2 实施原则

#### 2.2.1 MVP优先原则

- **最小可行产品**: 优先实现核心功能，快速验证技术方案
- **迭代优化**: 在MVP基础上逐步完善功能
- **用户反馈**: 及早获取用户反馈，调整产品方向

#### 2.2.2 风险控制原则

- **技术预研**: 对高风险技术进行预研和验证
- **增量开发**: 采用敏捷开发模式，降低风险
- **备用方案**: 为关键技术准备备用方案

#### 2.2.3 质量优先原则

- **代码规范**: 严格遵守编码规范
- **测试驱动**: 编写完整的单元测试和集成测试
- **代码审查**: 关键代码必须经过审查

#### 2.2.4 文档同步原则

- **文档先行**: 设计文档先于代码实现
- **及时更新**: 代码变更后及时更新文档
- **完整性**: 确保文档的完整性和准确性

---

## 3. 实施策略

### 3.1 开发模式

采用**敏捷迭代开发模式**，结合毕业设计时间约束：

```
Sprint 1 (2周) → Sprint 2 (2周) → Sprint 3 (2周) → ...
     ↓               ↓               ↓
   计划              开发            测试 → 发布
   设计              编码            修复
```

**每个Sprint包含**:
- Sprint计划会议（半天）
- 开发与测试（1.5周）
- Sprint评审会议（半天）
- 回顾与改进（半天）

### 3.2 技术路线

#### 3.2.1 分层开发策略

```
第一层（基础设施层）
  ↓ 完成后
第二层（共享服务层）
  ↓ 完成后
第三层（业务服务层）
  ↓ 完成后
第四层（应用层）
```

**优点**:
- 依赖清晰，减少重复工作
- 基础稳固，上层开发顺畅
- 便于测试和调试

#### 3.2.2 前后端并行策略

- **后端优先**: 先完成API设计和实现
- **前端跟进**: API完成后立即开始前端开发
- **联调测试**: 定期进行前后端联调

### 3.3 模块化开发策略

按照功能模块划分开发任务：

| 模块 | 优先级 | 依赖关系 |
|------|--------|---------|
| 用户管理 | P0 | 无 |
| 文件存储 | P0 | 无 |
| 项目管理 | P0 | 用户管理、文件存储 |
| AI服务 | P0 | 用户管理 |
| 阅读端 | P0 | 用户管理、文件存储 |
| 写作端 | P0 | 项目管理、AI服务 |
| 推荐系统 | P1 | 阅读端 |
| 社交系统 | P1 | 阅读端 |

---

## 4. 分阶段实施计划

### 4.1 阶段概览

结合毕业设计时间表（2025年9月-2025年3月），将实施分为5个阶段：

| 阶段 | 时间 | 主要任务 | 里程碑 |
|------|------|---------|--------|
| **准备阶段** | 2025.09.05-09.11 | 文献调研、开题报告 | 开题通过 |
| **MVP阶段** | 2025.09.12-11.01 | 核心功能实现 | MVP上线 |
| **完善阶段** | 2025.11.02-02.28 | 功能完善、论文撰写 | 系统完成 |
| **测试阶段** | 2025.02.15-02.28 | 系统测试、论文修改 | 论文定稿 |
| **答辩阶段** | 2025.03.01-03.30 | 论文盲审、答辩准备 | 答辩通过 |

### 4.2 准备阶段（2025.09.05-09.11，1周）

#### 4.2.1 任务清单

**文献调研**（3天）:
- [ ] 阅读10篇以上相关文献
- [ ] 调研现有阅读写作平台（起点、晋江、石墨文档）
- [ ] 调研AI写作工具（Jasper、Copy.ai、Notion AI）
- [ ] 技术栈调研（Go、Gin、MongoDB、LLM）

**技术预研**（2天）:
- [ ] 搭建开发环境
- [ ] 验证技术栈可行性
- [ ] AI API调用测试（OpenAI、Claude）
- [ ] MongoDB基本操作验证

**项目计划**（2天）:
- [ ] 完成开题报告
- [ ] 制定详细开发计划
- [ ] 确定技术架构
- [ ] 准备开题答辩材料

#### 4.2.2 交付物

- ✅ 开题报告
- ✅ 项目计划书
- ✅ 技术调研报告
- ✅ 开发环境搭建文档

#### 4.2.3 里程碑

**开题通过**（2025.09.11）

---

### 4.3 MVP阶段（2025.09.12-11.01，7周）

#### 4.3.1 阶段目标

实现**最小可行产品（MVP）**，验证核心技术方案，包含：
- 用户注册登录
- 基础编辑器
- 简单AI续写功能
- 基础阅读器
- 简单书城首页

#### 4.3.2 第1-2周：基础设施搭建（9.12-9.25）

**后端基础**（5天）:
```
Day 1-2: 项目脚手架搭建
  - 初始化Go项目，配置Gin框架
  - 配置MongoDB连接
  - 配置Redis连接
  - 建立基础目录结构（router-api-service-repository）
  - 配置日志系统

Day 3-4: 核心中间件开发
  - JWT认证中间件
  - CORS跨域中间件
  - 日志中间件
  - 统一错误处理中间件
  - 请求限流中间件

Day 5: 测试与调试
  - 中间件单元测试
  - 集成测试
  - 文档编写
```

**数据库设计**（2天）:
```
Day 1: MongoDB Schema设计
  - users集合设计
  - projects集合设计
  - documents集合设计
  - books集合设计
  - chapters集合设计

Day 2: 索引设计与数据库初始化
  - 创建必要索引
  - 编写数据库迁移脚本
  - 准备测试数据
```

**前端基础**（3天）:
```
Day 1: Vue3项目初始化
  - 使用Vite创建项目
  - 配置Element Plus
  - 配置Vue Router
  - 配置Pinia状态管理

Day 2-3: 基础组件与布局
  - 登录/注册页面
  - 主布局组件
  - 导航栏组件
  - 侧边栏组件
  - 基础样式定义
```

**交付物**:
- ✅ 项目脚手架代码
- ✅ 数据库Schema文档
- ✅ 基础中间件文档
- ✅ 前端项目框架

**里程碑**: 基础设施完成（2025.09.25）

#### 4.3.3 第3-4周：用户管理与认证（9.26-10.09）

**用户模块开发**（7天）:
```
Day 1-2: 用户Model与Repository
  - User模型定义
  - UserRepository接口定义
  - MongoDB实现（CRUD操作）
  - 单元测试

Day 3-4: 用户Service与API
  - UserService业务逻辑
  - 注册、登录、修改资料
  - 密码加密（bcrypt）
  - 参数验证

Day 5-6: JWT认证实现
  - Token生成与验证
  - Refresh Token机制
  - 权限检查
  - 角色管理（Reader、Writer、Admin）

Day 7: 前端用户模块
  - 注册页面
  - 登录页面
  - 个人中心页面
  - Token管理
```

**文件存储模块**（3天）:
```
Day 1-2: MinIO集成
  - MinIO服务搭建
  - 文件上传API
  - 文件下载API
  - 图片压缩与处理

Day 3: 前端上传组件
  - 头像上传组件
  - 封面图上传组件
  - 图片预览功能
```

**测试与优化**（2天）:
```
- 单元测试
- 集成测试
- API文档（Swagger）
- 性能测试
```

**交付物**:
- ✅ 用户管理API
- ✅ JWT认证系统
- ✅ 文件存储服务
- ✅ 前端登录注册功能

**里程碑**: 用户系统完成（2025.10.09）

#### 4.3.4 第5-6周：写作端核心功能（10.10-10.23）

**项目管理模块**（5天）:
```
Day 1-2: 项目CRUD
  - Project模型与Repository
  - ProjectService业务逻辑
  - 创建、查询、更新、删除项目
  - 项目权限控制

Day 3-4: 文档树管理
  - Document模型与Repository
  - 树形结构实现（卷、章、节）
  - 文档排序与层级管理
  - 批量操作（移动、删除、复制）

Day 5: 前端项目管理
  - 项目列表页面
  - 项目创建/编辑表单
  - 文档树组件（el-tree）
  - 拖拽排序功能
```

**编辑器模块**（5天）:
```
Day 1-2: 后端文档编辑API
  - 文档内容保存
  - 自动保存机制（30秒）
  - 版本历史记录
  - 字数统计

Day 3-5: 前端编辑器实现
  - Markdown编辑器集成（v-md-editor）
  - 富文本编辑器集成（Quill）
  - 双模式切换
  - 自动保存功能
  - 快捷键支持
  - 字数统计显示
```

**测试与优化**（2天）:
```
- 功能测试
- 性能测试
- 文档编写
```

**交付物**:
- ✅ 项目管理API
- ✅ 文档编辑API
- ✅ 前端编辑器功能
- ✅ 项目管理界面

**里程碑**: 写作端基础功能完成（2025.10.23）

#### 4.3.5 第6-7周：AI服务集成（10.24-11.01）

**AI服务架构**（3天）:
```
Day 1: AI服务抽象层
  - AIService接口定义
  - 统一请求/响应格式
  - 流式响应支持
  - 错误处理

Day 2: OpenAI适配器
  - GPT-4/GPT-3.5集成
  - Chat Completion API调用
  - 流式响应处理
  - Token计数

Day 3: 配额管理
  - UserQuota模型
  - 配额检查逻辑
  - 配额扣减与恢复
  - 配额统计
```

**AI写作功能**（4天）:
```
Day 1-2: 智能续写
  - 续写API（/api/ai/continue）
  - 上下文提取（最近1000字）
  - Prompt工程优化
  - 流式返回

Day 3: 内容改写
  - 改写API（/api/ai/rewrite）
  - 多种改写模式（扩写、缩写、润色）
  - 质量评估

Day 4: AI聊天助手
  - 对话API（/api/ai/chat）
  - 会话管理
  - 上下文维护
```

**前端AI功能**（3天）:
```
Day 1-2: 编辑器AI集成
  - 续写按钮与交互
  - 流式显示
  - 结果插入编辑器
  - 加载状态显示

Day 3: AI助手面板
  - 聊天界面
  - 消息列表
  - 输入框与发送
  - 配额显示
```

**测试与优化**（2天）:
```
- AI功能测试
- 性能优化
- 错误处理完善
- API文档
```

**交付物**:
- ✅ AI服务架构
- ✅ 智能续写功能
- ✅ AI聊天助手
- ✅ 前端AI交互界面

**里程碑**: **MVP上线**（2025.11.01）

#### 4.3.6 第7周：阅读端基础功能（同步开发）

**书城首页**（3天）:
```
Day 1-2: 后端书籍API
  - Book模型与Repository
  - 书籍列表API
  - 分类筛选
  - 排序（热度、更新）
  - 分页

Day 3: 前端书城页面
  - 书籍网格组件
  - 分类导航
  - 筛选器
  - 分页组件
```

**基础阅读器**（2天）:
```
Day 1: 后端章节API
  - 章节内容获取
  - 上一章/下一章
  - 阅读进度记录

Day 2: 前端阅读器
  - 章节显示
  - 翻页功能
  - 阅读进度条
  - 基础阅读设置（字体、背景）
```

**交付物**:
- ✅ 书城首页
- ✅ 基础阅读器
- ✅ 书籍管理API

---

### 4.4 完善阶段（2025.11.02-02.28，17周）

#### 4.4.1 阶段目标

完善系统功能，提升用户体验，撰写毕业论文：
- 完善写作端功能（设定百科、版本控制）
- 实现RAG检索增强
- 实现AI Agent工具调用
- 完善阅读端功能（推荐、社交）
- 实现钱包系统
- 撰写毕业论文初稿并修改

#### 4.4.2 第8-10周：设定百科系统（11.02-11.22）

**角色卡管理**（1周）:
```
Week 1: 角色卡CRUD
  - CharacterCard模型设计
  - Repository与Service实现
  - 自定义属性字段
  - 关联到项目
  - 前端角色卡列表与编辑表单
```

**世界观设定**（1周）:
```
Week 2: 世界观管理
  - WorldSetting模型
  - 设定分类（修炼体系、势力、地理）
  - 设定关联引用
  - 前端世界观管理界面
```

**设定模板库**（1周）:
```
Week 3: 模板系统
  - 内置设定模板
  - 用户自定义模板
  - 模板导入导出
  - 前端模板选择器
```

**交付物**:
- ✅ 角色卡管理功能
- ✅ 世界观设定功能
- ✅ 设定模板库

#### 4.4.3 第11-13周：RAG检索增强系统（11.23-12.13）

**向量数据库集成**（1周）:
```
Week 1: Milvus集成
  - Milvus服务部署
  - Go客户端集成
  - Collection设计
  - 基础CRUD操作
```

**内容索引**（1周）:
```
Week 2: 私有知识库索引
  - Embedding API调用（OpenAI）
  - 文档向量化
  - 增量索引更新
  - 索引任务队列
```

**语义检索**（1周）:
```
Week 3: 检索与生成
  - 语义检索API
  - 混合检索（向量+关键词）
  - 结果重排序（Rerank）
  - RAG生成流程
  - 引用标注
  - 前端检索界面
```

**交付物**:
- ✅ RAG检索系统
- ✅ 私有知识库
- ✅ 语义检索功能

#### 4.4.4 第14-16周：AI Agent工具调用（12.14-01.03）

**Function Calling实现**（1周）:
```
Week 1: 工具调用框架
  - Tool接口定义
  - 工具注册机制
  - Function Calling适配
  - 工具执行引擎
```

**自动创建功能**（1周）:
```
Week 2: Agent工具开发
  - 大纲生成工具
  - 角色卡创建工具
  - 关系图谱生成工具
  - 设定生成工具
```

**前端集成**（1周）:
```
Week 3: 前端Agent界面
  - AI助手增强（支持工具调用）
  - 工具调用可视化
  - 生成结果预览与确认
  - 一键保存到项目
```

**交付物**:
- ✅ AI Agent系统
- ✅ 自动大纲生成
- ✅ 自动角色卡创建
- ✅ 关系图谱生成

#### 4.4.5 第17-19周：推荐与社交系统（01.04-01.24）

**推荐系统**（1周）:
```
Week 1: 协同过滤推荐
  - 用户行为数据收集
  - 相似度计算
  - 推荐算法实现
  - 推荐API
  - 前端推荐位展示
```

**评论系统**（1周）:
```
Week 2: 评论功能
  - Comment模型
  - 评论CRUD
  - 段落定位评论
  - 评论点赞与回复
  - 前端评论组件
```

**社交功能**（1周）:
```
Week 3: 关注与书圈
  - 关注功能
  - 书圈（Circle）模型
  - 发帖与互动
  - 前端社交界面
```

**交付物**:
- ✅ 推荐系统
- ✅ 评论系统
- ✅ 社交功能

#### 4.4.6 第20-22周：钱包与管理后台（01.25-02.14）

**钱包系统**（1.5周）:
```
Week 1: 钱包核心功能
  - Wallet模型
  - 充值/提现逻辑
  - 交易记录
  - 打赏功能
  - 订阅付费

Week 2前半: 前端钱包界面
  - 钱包页面
  - 充值/提现表单
  - 交易记录列表
```

**管理后台**（1.5周）:
```
Week 2后半-Week 3: 后台管理
  - 用户管理
  - 内容审核
  - 数据统计
  - 系统配置
  - 后台管理界面
```

**交付物**:
- ✅ 钱包系统
- ✅ 管理后台

#### 4.4.7 第23周：论文初稿完成（02.15-02.21）

**论文撰写**:
```
- 完成论文初稿（约2万字）
  - 摘要
  - 引言
  - 相关工作
  - 系统设计
  - 系统实现
  - 测试与分析
  - 总结与展望
  - 参考文献

- 准备论文插图
  - 系统架构图
  - 流程图
  - 界面截图
  - 数据图表
```

**交付物**:
- ✅ 论文初稿

**里程碑**: **论文初稿完成**（2025.02.21）

---

### 4.5 测试阶段（2025.02.15-02.28，2周）

**注**: 与论文撰写部分重叠

#### 4.5.1 系统测试（1周）

```
Day 1-2: 功能测试
  - 测试所有功能模块
  - 边界条件测试
  - 异常处理测试

Day 3-4: 性能测试
  - 压力测试（JMeter）
  - 并发测试
  - 响应时间测试
  - 数据库性能测试

Day 5: 安全测试
  - SQL注入测试
  - XSS测试
  - CSRF测试
  - 权限测试
```

#### 4.5.2 Bug修复与优化（1周）

```
Day 1-3: Bug修复
  - 修复测试发现的问题
  - 回归测试

Day 4-5: 性能优化
  - 数据库查询优化
  - 缓存优化
  - 前端性能优化
  - 代码优化
```

#### 4.5.3 论文修改（同步进行）

```
- 根据初审意见修改论文
- 完善论文内容
- 格式调整
- 查重检测
```

**交付物**:
- ✅ 测试报告
- ✅ Bug修复记录
- ✅ 性能测试报告
- ✅ 论文修改稿

**里程碑**: **系统测试完成，论文定稿**（2025.02.28）

---

### 4.6 答辩阶段（2025.03.01-03.30，4周）

#### 4.6.1 论文盲审（03.01-03.15）

```
- 提交论文进行盲审
- 等待盲审结果
- 根据盲审意见修改
```

#### 4.6.2 答辩准备（03.16-03.25）

```
Week 1: 答辩材料准备
  - PPT制作（30-40页）
  - 演示视频录制
  - 答辩稿撰写
  - 常见问题准备

Week 2: 模拟答辩
  - 进行模拟答辩
  - 改进PPT和答辩稿
  - 熟悉答辩流程
```

#### 4.6.3 正式答辩（03.26-03.30）

```
- 参加正式答辩
- 回答评委提问
- 根据意见修改论文
- 提交最终版论文
```

**交付物**:
- ✅ 答辩PPT
- ✅ 演示视频
- ✅ 答辩稿
- ✅ 最终版论文

**里程碑**: **答辩通过，项目完成**（2025.03.30）

---

## 5. 技术栈与开发环境

### 5.1 后端技术栈

| 类别 | 技术选型 | 版本 | 说明 |
|------|---------|------|------|
| **编程语言** | Go | 1.21+ | 高性能、高并发 |
| **Web框架** | Gin | v1.9+ | 轻量级、高性能 |
| **数据库** | MongoDB | 5.0+ | 文档型数据库 |
| **缓存** | Redis | 6.0+ | KV存储、缓存 |
| **搜索引擎** | Elasticsearch | 7.10+ | 全文搜索（可选） |
| **向量数据库** | Milvus | 2.0+ | RAG检索 |
| **对象存储** | MinIO | Latest | 文件存储 |
| **消息队列** | RabbitMQ | 3.9+ | 异步任务（可选） |

### 5.2 前端技术栈

| 类别 | 技术选型 | 版本 | 说明 |
|------|---------|------|------|
| **框架** | Vue | 3.x | 渐进式框架 |
| **构建工具** | Vite | 4.x+ | 快速构建 |
| **UI组件库** | Element Plus | 2.x+ | 企业级组件库 |
| **状态管理** | Pinia | 2.x+ | 状态管理 |
| **路由** | Vue Router | 4.x+ | 前端路由 |
| **HTTP客户端** | Axios | 1.x+ | HTTP请求 |
| **Markdown编辑器** | v-md-editor | 2.x+ | Markdown编辑 |

### 5.3 AI技术栈

| 类别 | 技术选型 | 说明 |
|------|---------|------|
| **大语言模型** | OpenAI GPT-4/3.5 | 主力模型 |
|  | Anthropic Claude 2/3 | 备用模型 |
| **Embedding模型** | text-embedding-ada-002 | 向量化 |
| **向量数据库** | Milvus | 语义检索 |

### 5.4 开发工具

| 工具类型 | 工具名称 | 用途 |
|---------|---------|------|
| **IDE** | VS Code | 前端开发 |
|  | GoLand | 后端开发 |
| **API测试** | Postman | API测试 |
| **数据库工具** | MongoDB Compass | MongoDB管理 |
|  | RedisInsight | Redis管理 |
| **版本控制** | Git + GitHub | 代码版本管理 |
| **容器化** | Docker + Docker Compose | 本地开发环境 |

### 5.5 开发环境配置

#### 5.5.1 后端开发环境

```bash
# 1. 安装Go 1.21+
https://golang.org/dl/

# 2. 配置GOPATH和GOPROXY
export GOPATH=$HOME/go
export GOPROXY=https://goproxy.cn,direct

# 3. 克隆项目
git clone https://github.com/your-org/qingyu-backend.git
cd qingyu-backend

# 4. 安装依赖
go mod download

# 5. 配置环境变量
cp .env.example .env
# 编辑.env文件，配置数据库等信息

# 6. 启动服务
go run main.go
```

#### 5.5.2 前端开发环境

```bash
# 1. 安装Node.js 18+
https://nodejs.org/

# 2. 克隆项目
git clone https://github.com/your-org/qingyu-frontend.git
cd qingyu-frontend

# 3. 安装依赖
npm install

# 4. 启动开发服务器
npm run dev
```

#### 5.5.3 Docker开发环境

```bash
# 启动所有服务
docker-compose up -d

# 包含服务：
# - MongoDB
# - Redis
# - MinIO
# - Milvus（可选）
# - Elasticsearch（可选）
```

---

## 6. 资源规划

### 6.1 人力资源

**核心团队**（本项目为毕业设计，主要由学生独立完成）:

| 角色 | 人数 | 职责 |
|------|------|------|
| **项目负责人** | 1 | 项目整体规划、架构设计、核心开发 |
| **指导教师** | 1 | 技术指导、进度把控、论文指导 |

**工作量估算**:
- 全职投入时间：约7个月
- 预计总工作量：约800-1000小时
- 平均每周投入：约30-40小时

### 6.2 基础设施资源

#### 6.2.1 开发环境

| 资源 | 配置 | 成本 |
|------|------|------|
| **开发机器** | 个人电脑（8GB+ RAM） | 已有 |
| **测试服务器** | 云服务器（2核4G） | ¥100/月 × 7个月 = ¥700 |

#### 6.2.2 第三方服务

| 服务 | 用途 | 成本估算 |
|------|------|----------|
| **OpenAI API** | AI功能开发与测试 | ¥500-1000 |
| **云服务器** | 部署测试环境 | ¥700 |
| **域名** | 域名注册 | ¥50/年 |
| **SSL证书** | HTTPS | 免费（Let's Encrypt） |
| **合计** | - | **约¥1500-2000** |

**成本控制措施**:
- 开发阶段使用免费AI模型（GPT-3.5、国产模型）
- 使用云服务学生优惠
- 本地Docker环境替代部分云服务

### 6.3 时间资源

| 阶段 | 周数 | 工作量（小时） |
|------|------|---------------|
| 准备阶段 | 1 | 40 |
| MVP阶段 | 7 | 280 |
| 完善阶段 | 17 | 680 |
| 测试阶段 | 2 | 80 |
| 答辩阶段 | 4 | 80 |
| **合计** | **31周** | **1160小时** |

---

## 7. 风险管理

### 7.1 技术风险

#### 风险1: AI API成本超预算

| 项目 | 内容 |
|------|------|
| **风险描述** | OpenAI API调用成本可能超出预算 |
| **影响程度** | 中 |
| **概率** | 中等（40%） |
| **影响** | 开发测试受限，功能验证不充分 |
| **应对措施** | 1. 优先使用GPT-3.5而非GPT-4<br>2. 实施严格的配额管理<br>3. 开发环境使用Mock数据<br>4. 探索国产免费AI模型（文心一言、通义千问） |
| **负责人** | 项目负责人 |

#### 风险2: 向量数据库性能不足

| 项目 | 内容 |
|------|------|
| **风险描述** | Milvus在本地环境性能不足或配置困难 |
| **影响程度** | 中 |
| **概率** | 中等（30%） |
| **影响** | RAG功能延迟高，用户体验差 |
| **应对措施** | 1. 预研阶段充分测试Milvus性能<br>2. 备选方案：使用Qdrant或Elasticsearch<br>3. 简化向量维度（768维代替1536维）<br>4. 实施缓存策略 |
| **负责人** | 项目负责人 |

#### 风险3: 前后端联调困难

| 项目 | 内容 |
|------|------|
| **风险描述** | 前后端接口对接不顺畅，联调困难 |
| **影响程度** | 低 |
| **概率** | 低（20%） |
| **影响** | 开发效率降低，进度延迟 |
| **应对措施** | 1. API设计先行，定义清晰的接口文档<br>2. 使用Swagger自动生成API文档<br>3. 前端使用Mock数据先行开发<br>4. 定期联调测试 |
| **负责人** | 项目负责人 |

### 7.2 进度风险

#### 风险4: 开发进度延迟

| 项目 | 内容 |
|------|------|
| **风险描述** | 功能复杂度超预期，开发进度滞后 |
| **影响程度** | 高 |
| **概率** | 中等（40%） |
| **影响** | 无法按时完成MVP，影响论文进度 |
| **应对措施** | 1. 严格按照优先级开发，P0优先<br>2. 每周进行进度检查，及时调整计划<br>3. 预留2周缓冲时间<br>4. 必要时裁剪P1、P2功能 |
| **负责人** | 项目负责人、指导教师 |

#### 风险5: 论文撰写时间不足

| 项目 | 内容 |
|------|------|
| **风险描述** | 专注开发导致论文撰写时间不足 |
| **影响程度** | 高 |
| **概率** | 中等（30%） |
| **影响** | 论文质量不达标，答辩延期 |
| **应对措施** | 1. 开发过程中同步记录开发文档<br>2. 12月开始逐步撰写论文章节<br>3. 预留3周专门用于论文撰写<br>4. 定期与指导教师沟通论文进展 |
| **负责人** | 项目负责人 |

### 7.3 质量风险

#### 风险6: 代码质量不佳

| 项目 | 内容 |
|------|------|
| **风险描述** | 赶进度导致代码质量低，技术债累积 |
| **影响程度** | 中 |
| **概率** | 中等（40%） |
| **影响** | 系统稳定性差，维护困难 |
| **应对措施** | 1. 遵循编码规范<br>2. 关键模块编写单元测试<br>3. 定期代码审查（自查或请教师审查）<br>4. 重构技术债 |
| **负责人** | 项目负责人 |

#### 风险7: 测试不充分

| 项目 | 内容 |
|------|------|
| **风险描述** | 测试时间不足，bug较多 |
| **影响程度** | 中 |
| **概率** | 中等（35%） |
| **影响** | 答辩演示时出现故障，影响评分 |
| **应对措施** | 1. 开发阶段同步编写测试<br>2. 预留2周专门测试时间<br>3. 关键功能重点测试<br>4. 准备演示数据和备用方案 |
| **负责人** | 项目负责人 |

### 7.4 外部风险

#### 风险8: 第三方服务不稳定

| 项目 | 内容 |
|------|------|
| **风险描述** | OpenAI API不稳定或被墙 |
| **影响程度** | 高 |
| **概率** | 低（15%） |
| **影响** | AI功能无法使用，核心功能受影响 |
| **应对措施** | 1. 使用国内API代理服务<br>2. 集成多个AI提供商（Claude、国产）<br>3. 实施降级策略<br>4. 准备离线演示环境 |
| **负责人** | 项目负责人 |

### 7.5 风险监控机制

**每周风险检查清单**:
- [ ] 开发进度是否符合计划？偏差多少？
- [ ] 是否遇到技术难点？有无解决方案？
- [ ] AI API成本是否在预算内？
- [ ] 代码质量如何？是否有技术债？
- [ ] 论文撰写进展如何？
- [ ] 是否有新的风险出现？

**风险应对流程**:
1. **识别风险**: 每周自查和与导师沟通
2. **评估影响**: 判断风险影响程度和概率
3. **制定对策**: 制定具体应对措施
4. **执行监控**: 跟踪风险状态和应对效果
5. **总结复盘**: 阶段结束后总结经验教训

---

## 8. 质量保证

### 8.1 代码质量标准

#### 8.1.1 编码规范

**Go后端**:
- 遵循Go官方编码规范
- 使用`gofmt`格式化代码
- 使用`golangci-lint`静态检查
- 变量命名清晰，避免单字母（除循环变量）
- 函数长度不超过80行
- 圈复杂度不超过15

**Vue前端**:
- 遵循Vue官方风格指南
- 使用ESLint + Prettier
- 组件命名使用PascalCase
- Props类型必须定义
- 避免在模板中使用复杂表达式

#### 8.1.2 注释规范

```go
// Go后端注释示例

// UserService 提供用户相关的业务逻辑服务
// 包括用户注册、登录、资料管理等功能
type UserService struct {
    userRepo repository.UserRepository
    logger   *zap.Logger
}

// CreateUser 创建新用户
// 参数:
//   - ctx: 上下文
//   - user: 用户信息
// 返回:
//   - *model.User: 创建的用户
//   - error: 错误信息
func (s *UserService) CreateUser(ctx context.Context, user *model.User) (*model.User, error) {
    // 实现逻辑
}
```

**注释覆盖率要求**:
- 所有public函数/方法必须有注释
- 复杂业务逻辑必须有注释说明
- 关键算法必须有注释
- 目标覆盖率: ≥30%

### 8.2 测试策略

#### 8.2.1 单元测试

**覆盖率要求**:
- 整体覆盖率: ≥80%
- Service层: ≥90%
- Repository层: ≥85%
- API层: ≥70%

**测试框架**:
- Go: `testing` + `testify`
- Mock: `gomock` 或 `testify/mock`

**示例**:
```go
func TestUserService_CreateUser(t *testing.T) {
    // 创建mock repository
    mockRepo := new(MockUserRepository)
    
    // 设置期望
    mockRepo.On("Create", mock.Anything, mock.AnythingOfType("*model.User")).
        Return(nil)
    
    // 创建service
    service := NewUserService(mockRepo, nil)
    
    // 执行测试
    user := &model.User{Email: "test@example.com"}
    err := service.CreateUser(context.Background(), user)
    
    // 断言
    assert.NoError(t, err)
    mockRepo.AssertExpectations(t)
}
```

#### 8.2.2 集成测试

**测试范围**:
- API接口测试
- 数据库操作测试
- 第三方服务集成测试

**测试工具**:
- 使用`testcontainers-go`启动测试容器
- Postman/Newman进行API测试

#### 8.2.3 端到端测试

**测试场景**（重点功能）:
- 用户注册→登录→创建项目→编辑文档→AI续写
- 用户注册→浏览书城→阅读章节→添加评论
- 用户登录→充值钱包→打赏作者

**测试工具**:
- 手动测试为主
- 可选：Selenium/Cypress自动化测试

#### 8.2.4 性能测试

**测试指标**:
- 响应时间（P95）: <200ms
- 吞吐量: ≥1000 QPS
- 并发用户: ≥1000

**测试工具**:
- JMeter或Locust
- Go自带的benchmark

**测试场景**:
```
场景1: 书城首页加载
  - 并发用户: 500
  - 持续时间: 5分钟
  - 预期QPS: 1000+

场景2: AI续写功能
  - 并发用户: 100
  - 持续时间: 5分钟
  - 预期响应时间: <2s

场景3: 阅读器章节加载
  - 并发用户: 1000
  - 持续时间: 5分钟
  - 预期响应时间: <500ms
```

### 8.3 代码审查

#### 8.3.1 审查流程

**自审**（每次提交前）:
1. 代码格式检查（gofmt、ESLint）
2. 静态代码检查（golangci-lint）
3. 单元测试运行（go test）
4. 功能自测

**导师审查**（关键模块）:
1. 提交代码审查请求
2. 导师审查代码
3. 根据意见修改
4. 审查通过后合并

#### 8.3.2 审查清单

**代码逻辑**:
- [ ] 逻辑正确，无明显bug
- [ ] 边界条件处理完善
- [ ] 错误处理合理
- [ ] 无性能瓶颈

**代码规范**:
- [ ] 遵循编码规范
- [ ] 命名清晰明了
- [ ] 注释完整准确
- [ ] 无冗余代码

**安全性**:
- [ ] 无SQL注入风险
- [ ] 无XSS风险
- [ ] 敏感数据已加密
- [ ] 权限检查完善

### 8.4 文档质量

#### 8.4.1 API文档

**要求**:
- 使用Swagger自动生成
- 每个接口包含：描述、请求参数、响应格式、错误码
- 提供示例请求和响应

#### 8.4.2 开发文档

**必需文档**:
- [ ] README（项目介绍、快速开始）
- [ ] 开发环境搭建文档
- [ ] API文档
- [ ] 数据库设计文档
- [ ] 部署文档

#### 8.4.3 论文质量

**质量标准**:
- 字数: ≥2万字
- 查重率: <20%
- 格式: 符合学校要求
- 内容: 完整、准确、逻辑清晰

---

## 9. 交付物清单

### 9.1 代码交付物

| 交付物 | 说明 | 交付时间 |
|--------|------|----------|
| **后端代码** | 完整的Go后端代码，包含所有功能模块 | 2025.02.28 |
| **前端代码** | 完整的Vue前端代码 | 2025.02.28 |
| **数据库脚本** | MongoDB初始化脚本、索引创建脚本 | 2025.02.28 |
| **配置文件** | 环境配置文件示例 | 2025.02.28 |
| **Docker配置** | Docker Compose配置文件 | 2025.02.28 |

### 9.2 文档交付物

| 交付物 | 说明 | 交付时间 |
|--------|------|----------|
| **毕业论文** | 完整的毕业论文（≥2万字） | 2025.03.25 |
| **开题报告** | 项目开题报告 | 2025.09.11 |
| **API文档** | Swagger API文档 | 2025.02.28 |
| **数据库设计文档** | ER图、表结构说明 | 2025.02.28 |
| **系统架构文档** | 架构设计说明 | 2025.02.28 |
| **部署文档** | 部署指南 | 2025.02.28 |
| **用户手册** | 系统使用说明 | 2025.02.28 |
| **测试报告** | 测试用例、测试结果 | 2025.02.28 |

### 9.3 演示交付物

| 交付物 | 说明 | 交付时间 |
|--------|------|----------|
| **答辩PPT** | 答辩演示文稿（30-40页） | 2025.03.25 |
| **演示视频** | 系统功能演示视频（5-10分钟） | 2025.03.25 |
| **演示数据** | 用于答辩演示的测试数据 | 2025.03.25 |

### 9.4 源码管理

**Git仓库结构**:
```
qingyu-platform/
├── qingyu-backend/          # 后端仓库
│   ├── api/
│   ├── service/
│   ├── repository/
│   ├── model/
│   ├── router/
│   ├── middleware/
│   ├── config/
│   ├── test/
│   ├── docs/
│   ├── go.mod
│   └── README.md
│
├── qingyu-frontend/         # 前端仓库
│   ├── src/
│   ├── public/
│   ├── tests/
│   ├── docs/
│   ├── package.json
│   └── README.md
│
└── qingyu-docs/             # 文档仓库
    ├── thesis/              # 论文
    ├── defense/             # 答辩材料
    ├── design/              # 设计文档
    └── README.md
```

**提交规范**:
- 使用语义化提交信息（Conventional Commits）
- 格式: `<type>(<scope>): <subject>`
- 类型: feat、fix、docs、style、refactor、test、chore
- 示例: `feat(user): add user registration API`

---

## 10. 进度监控机制

### 10.1 进度跟踪工具

**使用工具**:
- **GitHub Projects**: 任务看板管理
- **Markdown文档**: 进度记录文档
- **周报**: 每周进度总结

**看板列表**:
- 待办（To Do）
- 进行中（In Progress）
- 已完成（Done）
- 阻塞（Blocked）

### 10.2 进度报告制度

#### 10.2.1 每周进度报告

**报告内容**:
1. **本周完成**:
   - 完成的功能模块
   - 解决的技术问题
   - 编写的文档

2. **下周计划**:
   - 计划完成的任务
   - 预计遇到的问题

3. **风险与问题**:
   - 当前遇到的困难
   - 需要的帮助
   - 风险评估

4. **时间统计**:
   - 本周投入时间
   - 累计投入时间
   - 进度百分比

**报告时间**: 每周日晚上

**报告对象**: 指导教师

#### 10.2.2 阶段总结报告

**报告时机**: 每个阶段结束后

**报告内容**:
1. 阶段目标达成情况
2. 完成的功能清单
3. 遇到的问题及解决方案
4. 经验教训
5. 下阶段计划调整

### 10.3 里程碑检查点

| 里程碑 | 日期 | 检查内容 | 评审方式 |
|--------|------|----------|----------|
| **开题通过** | 2025.09.11 | 开题报告质量、技术方案可行性 | 开题答辩 |
| **基础设施完成** | 2025.09.25 | 项目脚手架、中间件、数据库 | 代码审查 |
| **用户系统完成** | 2025.10.09 | 注册、登录、认证功能 | 功能演示 |
| **MVP上线** | 2025.11.01 | 核心功能可用，AI功能集成 | 系统演示 |
| **RAG系统完成** | 2025.12.13 | 语义检索、知识库功能 | 功能演示 |
| **Agent完成** | 2026.01.03 | 工具调用、自动生成功能 | 功能演示 |
| **论文初稿** | 2025.02.21 | 论文完整性、质量 | 导师审阅 |
| **系统完成** | 2025.02.28 | 所有功能完成、测试通过 | 系统演示 |
| **答辩通过** | 2025.03.30 | 论文质量、答辩表现 | 答辩评审 |

### 10.4 偏差分析与调整

**进度偏差处理流程**:

1. **识别偏差**:
   - 每周检查实际进度与计划进度
   - 计算偏差百分比

2. **分析原因**:
   - 技术难度超预期？
   - 工作量估算不准？
   - 外部因素干扰？

3. **制定对策**:
   - 加班赶进度？
   - 调整功能范围？
   - 寻求帮助？

4. **执行调整**:
   - 更新计划
   - 调整任务优先级
   - 裁剪非必要功能

5. **跟踪效果**:
   - 监控调整后的进度
   - 评估对策效果

**偏差容忍度**:
- 偏差<10%: 正常，继续执行
- 偏差10%-20%: 关注，制定应对措施
- 偏差>20%: 严重，立即调整计划

### 10.5 质量检查点

**每Sprint结束检查**:
- [ ] 代码是否通过静态检查？
- [ ] 单元测试是否通过？测试覆盖率是否达标？
- [ ] 功能是否符合需求？
- [ ] 文档是否更新？
- [ ] 是否有技术债？是否已记录？

**阶段结束检查**:
- [ ] 阶段目标是否达成？
- [ ] 所有功能是否测试通过？
- [ ] 代码是否经过审查？
- [ ] 文档是否完整？
- [ ] 是否有遗留问题？是否已记录？

---

## 11. 附录

### 11.1 参考文献

[1] 中国音像与数字出版协会. 2024年度中国数字阅读报告[R]. 2024.

[2] Brown T B, Mann B, Ryder N, et al. Language models are few-shot learners[C]//Advances in Neural Information Processing Systems, 2020.

[3] Lewis P, Perez E, Piktus A, et al. Retrieval-augmented generation for knowledge-intensive NLP tasks[C]//NeurIPS, 2020.

[4] Schick T, Dwivedi-Yu J, Dessì R, et al. Toolformer: Language models can teach themselves to use tools[C]//NeurIPS, 2023.

[5] 朱敏. 基于智慧校园的高校教务系统分析与设计研究[J]. 中国新通信, 2024, 26(16): 16-19.

### 11.2 术语表

| 术语 | 英文 | 解释 |
|------|------|------|
| MVP | Minimum Viable Product | 最小可行产品 |
| RAG | Retrieval-Augmented Generation | 检索增强生成 |
| LLM | Large Language Model | 大语言模型 |
| API | Application Programming Interface | 应用程序接口 |
| CRUD | Create, Read, Update, Delete | 增删改查 |
| JWT | JSON Web Token | JSON网络令牌 |
| QPS | Queries Per Second | 每秒查询数 |
| P95 | 95th Percentile | 95分位数 |

### 11.3 缩略语

| 缩略语 | 全称 |
|--------|------|
| P0 | Priority 0（最高优先级） |
| P1 | Priority 1（次高优先级） |
| P2 | Priority 2（低优先级） |
| DB | Database（数据库） |
| UI | User Interface（用户界面） |
| UX | User Experience（用户体验） |

## 📋 文档修订历史

| 版本 | 日期 | 修订人 | 修订说明 |
|------|------|--------|----------|
| v1.0 | 2025-10-11 | 项目组 | 初始版本，完整实施规划 |

---

## ✅ 核心检查清单

**开始项目前**:
- [ ] 阅读并理解本实施规划
- [ ] 确认技术栈和开发环境
- [ ] 准备好开发工具
- [ ] 制定个人学习计划
- [ ] 与指导教师沟通确认

**开发过程中**:
- [ ] 严格按照优先级开发
- [ ] 每周提交进度报告
- [ ] 及时记录遇到的问题
- [ ] 保持代码质量
- [ ] 同步更新文档