# é’ç¾½è½»é‡çº§è¯»å†™å¹³å° â€”â€” é¡¹ç›®æ¦‚è¿°ï¼ˆV2ï¼‰

## 1. é¡¹ç›®å®šä½

| ç»´åº¦ | è¯´æ˜ |
|------|------|
| ç›®æ ‡äººç¾¤ | ä¸­æ–‡ç½‘ç»œæ–‡å­¦ä½œè€…ã€å­¦ä¹ å‹è¯»è€…ã€AI è¾…åŠ©å†™ä½œç ”ç©¶è€… |
| æ ¸å¿ƒåœºæ™¯ | â‘  å†™ä½œï¼šAI ç»­å†™ + è®¾å®šç™¾ç§‘ + å…³ç³»å›¾è°±<br>â‘¡ é˜…è¯»ï¼šä¸ªæ€§åŒ–æ¨è + ç”Ÿè¯æœ¬ + æ®µè¯„<br>â‘¢ å­¦ä¹ ï¼šé˜…è¯»æ‰“å¡ + ä»£å¸æ¿€åŠ± + å†™ä½œæ•°æ®åˆ†æ |
| äº§å“è¾¹ç•Œ | ä¸åšã€Œèµ·ç‚¹/æ™‹æ±Ÿã€ç±»é‡å‹å•†ä¸šå¹³å°ï¼Œè€Œæ˜¯ã€Œå¯äºŒæ¬¡å¼€å‘çš„æ•™å­¦çº§ã€å¼€æºæ ·æ¿ï¼›æ‰€æœ‰æ¨¡å—å‡ä¿ç•™ Mock æ¥å£ï¼Œæ–¹ä¾¿æ›¿æ¢æˆçœŸå®æ”¯ä»˜ã€ç‰ˆæƒã€å®¡æ ¸ç­‰å¤–éƒ¨ä¾èµ–ã€‚ |

## 2. æŠ€æœ¯æ„¿æ™¯

- æˆä¸ºã€ŒGo + MongoDB + Vue3ã€æŠ€æœ¯æ ˆçš„æœ€ä½³å®è·µæ ·æœ¬
- æ‰€æœ‰ä¸šåŠ¡æ¨¡å—å‡æä¾›ã€ŒåŒå®ç°ã€ï¼šçº¿ä¸Šå¾®æœåŠ¡ç‰ˆ + æœ¬åœ°è½»é‡ç‰ˆï¼ˆgo run å³å¯èµ·ï¼‰
- æ–‡æ¡£å…ˆè¡Œï¼šä»»ä½•ä»£ç  PR å¿…é¡»é™„å¸¦ã€Œæ¥å£æ–‡æ¡£ + è®¾è®¡å†³ç­–è¡¨ + ç¼ºå¤±è¡¥å…¨æ¸…å•ã€

## 3. æ¶æ„æ€»è§ˆä¸è®¾è®¡å†³ç­–

### 3.1 é€»è¾‘æ¶æ„è§†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend Layer                           â”‚
â”‚              Vue3 + TypeScript + Pinia                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ HTTP/WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Gateway Layer                              â”‚
â”‚                 Gin Router + Middleware                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Auth     â”‚   Logger    â”‚ Rate Limit  â”‚  Security   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Business Layer                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Reading   â”‚   Writing   â”‚     AI      â”‚    Core     â”‚  â”‚
â”‚  â”‚   Module    â”‚   Module    â”‚   Module    â”‚   Module    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Platform   â”‚            Shared Services              â”‚  â”‚
â”‚  â”‚   Module    â”‚     (Wallet, Storage, MQ, etc.)        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Data Layer                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   MongoDB   â”‚    Redis    â”‚Elasticsearchâ”‚  File Store â”‚  â”‚
â”‚  â”‚ (Primary)   â”‚  (Cache)    â”‚  (Search)   â”‚   (OSS)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 æ¶æ„è®¾è®¡å†³ç­–ä¸æƒè¡¡

#### å†³ç­–1ï¼šå•ä½“ vs å¾®æœåŠ¡æ¶æ„
**é€‰æ‹©**ï¼šæ¨¡å—åŒ–å•ä½“ + å¾®æœåŠ¡æ¼”è¿›è·¯å¾„

**æƒè¡¡è€ƒè™‘**ï¼š
| æ–¹æ¡ˆ | ä¼˜åŠ¿ | åŠ£åŠ¿ | é€‚ç”¨åœºæ™¯ |
|------|------|------|----------|
| çº¯å•ä½“ | éƒ¨ç½²ç®€å•ã€è°ƒè¯•æ–¹ä¾¿ | æ‰©å±•æ€§å·®ã€æŠ€æœ¯æ ˆç»‘å®š | å°å‹é¡¹ç›®ã€å¿«é€ŸåŸå‹ |
| çº¯å¾®æœåŠ¡ | æ‰©å±•æ€§å¼ºã€æŠ€æœ¯æ ˆçµæ´» | å¤æ‚åº¦é«˜ã€è¿ç»´æˆæœ¬å¤§ | å¤§å‹é¡¹ç›®ã€æˆç†Ÿå›¢é˜Ÿ |
| **æ¨¡å—åŒ–å•ä½“** | **å¹³è¡¡å¤æ‚åº¦å’Œæ‰©å±•æ€§** | **éœ€è¦è‰¯å¥½çš„æ¨¡å—è¾¹ç•Œ** | **ä¸­å‹é¡¹ç›®ã€æ•™å­¦æ ·æœ¬** |

**å®æ–½ç­–ç•¥**ï¼š
```go
// æ¨¡å—åŒ–è®¾è®¡ - æ¸…æ™°çš„è¾¹ç•Œå’Œæ¥å£
type ModuleRegistry struct {
    Reading  ReadingModule
    Writing  WritingModule
    AI       AIModule
    Core     CoreModule
    Platform PlatformModule
}

// æ¯ä¸ªæ¨¡å—éƒ½å¯ä»¥ç‹¬ç«‹éƒ¨ç½²ï¼ˆé€šè¿‡ç¼–è¯‘æ ‡ç­¾æ§åˆ¶ï¼‰
//go:build reading
func init() {
    registry.Register("reading", NewReadingModule())
}
```

#### å†³ç­–2ï¼šåŒæ­¥ vs å¼‚æ­¥å¤„ç†
**é€‰æ‹©**ï¼šæ··åˆæ¨¡å¼ - æ ¸å¿ƒæµç¨‹åŒæ­¥ï¼Œè¾…åŠ©åŠŸèƒ½å¼‚æ­¥

**è®¾è®¡åŸåˆ™**ï¼š
- **ç”¨æˆ·æ„ŸçŸ¥æ“ä½œ**ï¼šåŒæ­¥å¤„ç†ï¼Œç«‹å³åé¦ˆï¼ˆå¦‚ç™»å½•ã€å‘å¸ƒæ–‡ç« ï¼‰
- **åå°ä»»åŠ¡**ï¼šå¼‚æ­¥å¤„ç†ï¼Œæå‡æ€§èƒ½ï¼ˆå¦‚æ¨èè®¡ç®—ã€æ•°æ®ç»Ÿè®¡ï¼‰
- **å¤–éƒ¨ä¾èµ–**ï¼šå¼‚æ­¥å¤„ç†ï¼Œé¿å…é˜»å¡ï¼ˆå¦‚é‚®ä»¶å‘é€ã€AI è°ƒç”¨ï¼‰

**å®ç°æœºåˆ¶**ï¼š
```go
// åŒæ­¥å¤„ç†ç¤ºä¾‹ - ç”¨æˆ·ç™»å½•
func (h *AuthHandler) Login(c *gin.Context) {
    // ç›´æ¥å¤„ç†ï¼Œç«‹å³è¿”å›ç»“æœ
    user, err := h.authService.Login(req.Username, req.Password)
    if err != nil {
        c.JSON(400, gin.H{"error": err.Error()})
        return
    }
    c.JSON(200, gin.H{"token": user.Token})
}

// å¼‚æ­¥å¤„ç†ç¤ºä¾‹ - æ¨èè®¡ç®—
func (s *RecommendService) UpdateRecommendations(userID string) {
    // æ”¾å…¥é˜Ÿåˆ—ï¼Œå¼‚æ­¥å¤„ç†
    s.taskQueue.Enqueue(tasks.NewRecommendTask(userID))
}
```

#### å†³ç­–3ï¼šæ•°æ®ä¸€è‡´æ€§ç­–ç•¥
**é€‰æ‹©**ï¼šæœ€ç»ˆä¸€è‡´æ€§ + å…³é”®ä¸šåŠ¡å¼ºä¸€è‡´æ€§

**ä¸€è‡´æ€§çº§åˆ«è®¾è®¡**ï¼š
```go
// å¼ºä¸€è‡´æ€§åœºæ™¯ï¼ˆç”¨æˆ·ä½™é¢ã€æƒé™ï¼‰
type WalletService struct {
    // ä½¿ç”¨ MongoDB äº‹åŠ¡ä¿è¯ ACID
    func (s *WalletService) Transfer(from, to string, amount int64) error {
        return s.db.WithTransaction(func(ctx context.Context) error {
            // åŸå­æ€§è½¬è´¦æ“ä½œ
            if err := s.debit(ctx, from, amount); err != nil {
                return err
            }
            return s.credit(ctx, to, amount)
        })
    }
}

// æœ€ç»ˆä¸€è‡´æ€§åœºæ™¯ï¼ˆé˜…è¯»ç»Ÿè®¡ã€æ¨èæ•°æ®ï¼‰
type StatisticsService struct {
    // ä½¿ç”¨äº‹ä»¶é©±åŠ¨ï¼Œå¼‚æ­¥æ›´æ–°
    func (s *StatisticsService) OnBookRead(event BookReadEvent) {
        // å¼‚æ­¥æ›´æ–°ç»Ÿè®¡æ•°æ®ï¼Œå…è®¸çŸ­æš‚ä¸ä¸€è‡´
        go s.updateReadCount(event.BookID, event.UserID)
        go s.updateRecommendations(event.UserID)
    }
}
```

#### å†³ç­–4ï¼šç¼“å­˜ç­–ç•¥è®¾è®¡
**é€‰æ‹©**ï¼šå¤šå±‚ç¼“å­˜ + æ™ºèƒ½å¤±æ•ˆ

**ç¼“å­˜å±‚æ¬¡**ï¼š
```go
// L1: åº”ç”¨å†…å­˜ç¼“å­˜ï¼ˆçƒ­ç‚¹æ•°æ®ï¼‰
type MemoryCache struct {
    cache map[string]interface{}
    ttl   time.Duration
}

// L2: Redis åˆ†å¸ƒå¼ç¼“å­˜ï¼ˆå…±äº«æ•°æ®ï¼‰
type RedisCache struct {
    client redis.Client
}

// L3: CDN ç¼“å­˜ï¼ˆé™æ€èµ„æºï¼‰
type CDNCache struct {
    endpoint string
}

// ç¼“å­˜ç­–ç•¥é…ç½®
type CacheConfig struct {
    UserProfile    CacheLevel{L1: 5*time.Minute, L2: 1*time.Hour}
    BookContent    CacheLevel{L2: 24*time.Hour, L3: 7*24*time.Hour}
    SearchResults  CacheLevel{L2: 30*time.Minute}
    Recommendations CacheLevel{L2: 2*time.Hour}
}
```

#### å†³ç­–5ï¼šé”™è¯¯å¤„ç†ä¸ç›‘æ§
**é€‰æ‹©**ï¼šç»Ÿä¸€é”™è¯¯ç  + åˆ†å±‚ç›‘æ§

**é”™è¯¯å¤„ç†è®¾è®¡**ï¼š
```go
// ç»Ÿä¸€é”™è¯¯ç å®šä¹‰
type ErrorCode struct {
    Code    int    `json:"code"`
    Message string `json:"message"`
    Detail  string `json:"detail,omitempty"`
}

var (
    ErrUserNotFound     = ErrorCode{10001, "ç”¨æˆ·ä¸å­˜åœ¨", ""}
    ErrInvalidPassword  = ErrorCode{10002, "å¯†ç é”™è¯¯", ""}
    ErrBookNotFound     = ErrorCode{20001, "ä¹¦ç±ä¸å­˜åœ¨", ""}
    ErrInsufficientBalance = ErrorCode{30001, "ä½™é¢ä¸è¶³", ""}
)

// åˆ†å±‚ç›‘æ§è®¾è®¡
type MonitoringStack struct {
    // åº”ç”¨å±‚ç›‘æ§
    Metrics    prometheus.Registry  // ä¸šåŠ¡æŒ‡æ ‡
    Tracing    jaeger.Tracer       // é“¾è·¯è¿½è¸ª
    
    // åŸºç¡€è®¾æ–½ç›‘æ§
    Database   mongodb.Monitor     // æ•°æ®åº“æ€§èƒ½
    Cache      redis.Monitor       // ç¼“å­˜å‘½ä¸­ç‡
    Queue      rabbitmq.Monitor    // æ¶ˆæ¯é˜Ÿåˆ—
}
```

## 4. æ¨¡å—çŠ¶æ€é€Ÿè§ˆï¼ˆä¸ä»£ç ç›®å½•å®æ—¶å¯¹é½ï¼‰

| æ¨¡å— | ç›®å½• | è®¾è®¡æ–‡æ¡£ | æ¥å£å®Œæˆåº¦ | å¤‡æ³¨ |
|------|------|----------|------------|------|
| Reading | /api/v1/reader<br>/reading<br>/recommendation | âœ… 6 ç¯‡ | 70% | ä¹¦åŸã€é˜…è¯»å™¨ã€æ¨èã€ä»»åŠ¡ã€ç¤¾äº¤ã€ç”Ÿè¯æœ¬ |
| Writing | /api/v1/writer<br>/document | âœ… 4 ç¯‡ | 60% | ç¼–è¾‘å™¨ã€è®¾å®šç™¾ç§‘ã€AI è¾…åŠ©ã€å…³ç³»å›¾è°± |
| AI | /api/v1/ai<br>/service/ai/adapter | âœ… 6 ç¯‡ | 75% | å¤šæ¨¡å‹é€‚é…ã€æµå¼å“åº”ã€ä¸Šä¸‹æ–‡ç®¡ç† |
| Core | /api/v1/system<br>/core<br>/middleware | âœ… 5 ç¯‡ | 80% | JWTã€RBACã€é¡¹ç›®/æ–‡æ¡£ CRUDã€ç‰ˆæœ¬æ§åˆ¶ |
| Platform | /service/user<br>/project | âœ… 7 ç¯‡ | 50% | ç”¨æˆ·ä¸­å¿ƒã€ä½œå“ç®¡ç†ã€æœç´¢ã€æ•°æ®åˆ†æã€é€šçŸ¥ |
| Shared | /service/wallet<br>/storage | âœ… 6 ç¯‡ | 90% | é’±åŒ…ã€æ¨èã€æ–‡ä»¶ã€MQã€æƒé™ã€åå° |
| Security | /middleware + /doc/design/security | âš ï¸ 1 ç¯‡ | 30% | ä»…å¨èƒå»ºæ¨¡ï¼Œç¼ºè½åœ°ç»†èŠ‚ |
| Ops | æš‚æ— ç‹¬ç«‹ç›®å½• | âŒ 0 ç¯‡ | 0% | ç›‘æ§ã€æ—¥å¿—ã€CI/CDã€ç¾å¤‡å…¨ç¼ºå¤± |

## 5. å·²çŸ¥æŠ€æœ¯å€ºä¸çº¦æŸ

| å€ºé¡¹ | çº§åˆ« | è§£å†³æ€è·¯ |
|------|------|----------|
| ç¼ºã€Œé€šä¿¡æ¨¡å—ã€è®¾è®¡ | ğŸ”¥ é«˜ | è¡¥ WebSocket + Push + Mail + SMS å­æ¨¡å— |
| ç¼ºã€Œç›‘æ§è¿ç»´ã€è®¾è®¡ | ğŸ”¥ é«˜ | Prometheus + Grafana + ELK + Sentry ä¸€æ¡é¾™ |
| ç¼ºã€Œæµ‹è¯•ä½“ç³»ã€æ–‡æ¡£ | ğŸ”¥ ä¸­ | å•å…ƒ(go test)ã€æ¥å£(httpexpect)ã€æ€§èƒ½(k6)ä¸‰å±‚ |
| ç¼ºã€Œå®¹å™¨åŒ– & CI/CDã€ | ğŸ”¥ ä¸­ | Dockerfile + docker-compose + GitHub Actions |
| Repository å±‚æ–¹æ³•çˆ†ç‚¸ | âš ï¸ ä¸­ | æŒ‰ã€Œè¯»å†™åˆ†ç¦» + èšåˆæ ¹ã€é‡æ„ï¼Œè§ /doc/é‡æ„è§„åˆ’ |
| Service å±‚å¾ªç¯ä¾èµ– | âš ï¸ ä½ | å¼•å…¥ã€Œæ¥å£å±‚ + å®¹å™¨åŒ–æ³¨å…¥ã€å·²å‡ºæ–¹æ¡ˆï¼Œå¾…å®æ–½ |

## 6. ä¸‹ä¸€é‡Œç¨‹ç¢‘ï¼ˆMVP 0.9ï¼‰

**æˆªæ­¢æ—¶é—´**ï¼š2025-12-31

**éªŒæ”¶æ ‡å‡†**ï¼š
- ç«¯åˆ°ç«¯è·‘é€šã€Œæ³¨å†Œ â†’ åˆ›å»ºé¡¹ç›® â†’ å†™ä½œ â†’ å‘å¸ƒ â†’ é˜…è¯» â†’ è·å¾—ä»£å¸ã€ä¸»æµç¨‹
- æ ¸å¿ƒ 20 ä¸ª API 100% å•æµ‹è¦†ç›–ï¼Œæ€§èƒ½ 500 QPS ä¸‹ P99 < 500 ms
- æä¾›ã€Œdocker-compose upã€ä¸€é”®æ‹‰èµ·ï¼Œæ—¥å¿—ã€ç›‘æ§ã€å‘Šè­¦å¼€ç®±å³ç”¨
- æ–‡æ¡£è¡¥é½ç‡ â‰¥ 90%ï¼ˆå³ä¸‹æ–‡ã€Œç¼ºå¤±æ¸…å•ã€å…¨éƒ¨ âœ…ï¼‰

## 7. ç¼ºå¤±è®¾è®¡æ–‡æ¡£ä¸€è§ˆ

| åºå· | æ–‡æ¡£å | åº”æ”¾è·¯å¾„ | ä¼˜å…ˆçº§ |
|------|--------|----------|--------|
| 1 | WebSocket å®æ—¶é€šä¿¡è®¾è®¡.md | /doc/design/communication/ | ğŸ”¥ |
| 2 | æ¶ˆæ¯æ¨é€ç³»ç»Ÿï¼ˆPush/é‚®ä»¶/çŸ­ä¿¡ï¼‰.md | /doc/design/communication/ | ğŸ”¥ |
| 3 | ç›‘æ§æŒ‡æ ‡ä½“ç³» & Prometheus è§„åˆ’.md | /doc/design/ops/ | ğŸ”¥ |
| 4 | æ—¥å¿—è§„èŒƒ & ELK Stack è½åœ°.md | /doc/design/ops/ | ğŸ”¥ |
| 5 | CI-CD æµæ°´çº¿ä¸å®¹å™¨åŒ–éƒ¨ç½².md | /doc/design/ops/ | ğŸ”¥ |
| 6 | ç¾å¤‡ä¸æ•°æ®å¤‡ä»½æ¢å¤ç­–ç•¥.md | /doc/design/ops/ | âš ï¸ |
| 7 | è‡ªåŠ¨åŒ–æµ‹è¯•æ€»ä½“æ–¹æ¡ˆ.md | /doc/design/testing/ | âš ï¸ |
| 8 | æ€§èƒ½æµ‹è¯•æ¨¡å‹ & k6 è„šæœ¬.md | /doc/design/testing/ | âš ï¸ |
| 9 | å®‰å…¨åŠ å›ºæ¸…å•ï¼ˆOWASP Top10 å¯¹ç…§ï¼‰.md | /doc/design/security/ | âš ï¸ |
| 10 | ç¯å¢ƒé…ç½®ä¸å¤šç§Ÿæˆ·éš”ç¦»æ–¹æ¡ˆ.md | /doc/design/platform/ | âš ï¸ |

## 8. é¡¹ç›®å½“å‰ä¸è¶³é€ŸæŸ¥è¡¨

### ä»£ç å±‚
- handler å±‚ï¼šéƒ¨åˆ†æ¥å£ä»ç›´æ¥è¿”å› mongo åŸå§‹é”™è¯¯ï¼Œéœ€åŒ…è£…ç»Ÿä¸€é”™è¯¯ç 
- service å±‚ï¼šAI é€‚é…å™¨æœªåšç†”æ–­/é™æµï¼Œä¸€æ—¦ 429 ç›´æ¥é›ªå´©
- repository å±‚ï¼šç¼ºå°‘äºŒçº§ç´¢å¼•è„šæœ¬ï¼Œå·²å‡ºç° 200 ms+ çš„ COLLSCAN
- router å±‚ï¼š/api/v1 ä¹‹å¤–ç¼º /healthã€/metricsã€/debug æ ‡å‡†åŒ–ç«¯ç‚¹

### æ–‡æ¡£å±‚
- è®¾è®¡æ–‡æ¡£æœªåŒæ­¥åˆ°ã€Œä»£ç ç‰ˆæœ¬ã€ï¼šREADME é‡Œå¼•ç”¨çš„æ—¶åºå›¾è¿˜æ˜¯ v0.3 å­—æ®µ
- API å˜æ›´æœªèµ°ã€Œç‰ˆæœ¬å·ã€ç­–ç•¥ï¼Œå‡ºç°åŒä¸€è·¯å¾„è¿”å›ç»“æ„ä¸ä¸€è‡´
- ç¼ºå°‘ã€Œå­—æ®µçº§å˜æ›´è®°å½•ã€ï¼Œå‰åç«¯è”è°ƒå¸¸å› å°‘å­—æ®µè¿”ç©º

### å·¥ç¨‹å±‚
- æœ¬åœ°å¯åŠ¨ä¾èµ– mongo/redis/es éœ€æ‰‹åŠ¨è£…ï¼Œæœªæä¾›ä¸€é”® docker-compose
- ç¼ºã€Œå¤šç¯å¢ƒã€é…ç½®ï¼ˆlocal/docker/dev/stage/prodï¼‰ï¼Œç°åœ¨åªæœ‰ config.yaml
- ç¼ºã€Œmake ç›®æ ‡ã€ï¼šæµ‹è¯•ã€lintã€mockã€è¿ç§»ã€å‹æµ‹ éƒ½è¦æ‰‹æ•²é•¿å‘½ä»¤
- ç¼ºã€Œä»£ç ç”Ÿæˆã€ï¼šmodelã€repoã€service ä» copy-pasteï¼Œæ˜“å‡ºé”™

### å®‰å…¨å±‚
- JWT æœªå¯ç”¨åˆ·æ–° + é»‘åå•ï¼Œæ³„éœ²åæ— æ³•å¼ºåˆ¶å¤±æ•ˆ
- æ–‡ä»¶ä¸Šä¼ ä»…æ£€æŸ¥ Content-Typeï¼Œæœªåšé­”æ•° & å°ºå¯¸ & ç—…æ¯’æ‰«æ
- ç®¡ç†åå°æ¥å£ä¸æ™®é€šæ¥å£å…±ç”¨ç«¯å£ï¼Œæœªåšç½‘ç»œéš”ç¦»
- ç¼ºã€Œæ“ä½œå®¡è®¡æ—¥å¿—ã€ï¼Œæ— æ³•è¿½è¸ªã€Œè°åˆ äº†å“ªæœ¬ä¹¦ã€

## 9. ç«‹å³è¡ŒåŠ¨æ¸…å•ï¼ˆæœ¬å‘¨å¯å®Œæˆï¼‰

- [ ] åœ¨ /doc/design ä¸‹æ–°å»º communication/ã€ops/ã€testing/ ä¸‰ä¸ªç›®å½•ï¼Œå¹¶æŠŠä¸Šè¡¨ 10 ç¯‡æ–‡æ¡£å»ºç©ºæ–‡ä»¶
- [ ] æŠŠæœ¬ V2 æ¦‚è¿°æ›¿æ¢æ‰åŸ /doc/architecture/é¡¹ç›®æ¦‚è¿°.mdï¼Œå¹¶åœ¨ Obsidian é‡ŒåŠ ä¸Š [[å¾…åŠ]] é“¾æ¥
- [ ] åœ¨æ ¹ç›®å½•æ–°å¢ Makefileï¼Œå…ˆå†™å››æ¡å‘½ä»¤ï¼šmake runã€make testã€make lintã€make mock
- [ ] æäº¤ä¸€æ¡ PRï¼Œä»…åšã€Œç»Ÿä¸€é”™è¯¯ç ã€+ /health + /metrics ç«¯ç‚¹ï¼Œä½œä¸ºåç»­ç›‘æ§çš„åŸºçº¿
- [ ] å¼€ä¸€æ¡ Issue æ¨¡æ¿ã€Œè®¾è®¡æ–‡æ¡£è¡¥å…¨ç”³è¯·.mdã€ï¼Œæ–¹ä¾¿åç»­åŒå­¦è®¤é¢†ç¼ºå¤±æ–‡æ¡£

åšå®Œä»¥ä¸Š 5 æ­¥ï¼Œå†æŠŠæœ¬æ–‡ä»¶æœ€åä¸€èŠ‚ã€Œä¸‹ä¸€é‡Œç¨‹ç¢‘ã€å‰ªå‡ºæ¥å•ç‹¬å»º /doc/é‡Œç¨‹ç¢‘/MVP0.9.mdï¼Œå°±å¯ä»¥æŒ‰è¿­ä»£æ»šåŠ¨ä¸‹å»äº†ã€‚

---

## æŠ€æœ¯æ ˆè¯¦æƒ…ä¸é€‰å‹åŸå› 

### åç«¯æŠ€æœ¯æ ˆé€‰å‹åˆ†æ

#### 1. ç¼–ç¨‹è¯­è¨€ï¼šGo
**é€‰æ‹©åŸå› **ï¼š
- **æ€§èƒ½ä¼˜åŠ¿**ï¼šåŸç”Ÿå¹¶å‘æ”¯æŒï¼Œgoroutine è½»é‡çº§çº¿ç¨‹æ¨¡å‹é€‚åˆé«˜å¹¶å‘åœºæ™¯
- **éƒ¨ç½²ç®€ä¾¿**ï¼šç¼–è¯‘ä¸ºå•ä¸€å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ— è¿è¡Œæ—¶ä¾èµ–ï¼Œå®¹å™¨åŒ–å‹å¥½
- **ç”Ÿæ€æˆç†Ÿ**ï¼šä¸°å¯Œçš„ç¬¬ä¸‰æ–¹åº“ï¼Œç‰¹åˆ«æ˜¯ Web æ¡†æ¶å’Œæ•°æ®åº“é©±åŠ¨
- **å›¢é˜ŸæŠ€èƒ½**ï¼šå­¦ä¹ æ›²çº¿å¹³ç¼“ï¼Œé€‚åˆä¸­å°å›¢é˜Ÿå¿«é€Ÿä¸Šæ‰‹
- **ç¤¾åŒºæ´»è·ƒ**ï¼šGoogle èƒŒä¹¦ï¼Œé•¿æœŸç»´æŠ¤ä¿éšœ

**å¯¹æ¯”åˆ†æ**ï¼š
| è¯­è¨€ | æ€§èƒ½ | å¼€å‘æ•ˆç‡ | éƒ¨ç½²å¤æ‚åº¦ | ç”Ÿæ€æˆç†Ÿåº¦ | é€‰æ‹©ç†ç”± |
|------|------|----------|------------|------------|----------|
| Go | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | âœ… ç»¼åˆæœ€ä¼˜ |
| Java | â­â­â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ | âŒ è¿‡äºé‡å‹ |
| Node.js | â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | âŒ å•çº¿ç¨‹ç“¶é¢ˆ |
| Python | â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | âŒ æ€§èƒ½ä¸è¶³ |

#### 2. Web æ¡†æ¶ï¼šGin
**é€‰æ‹©åŸå› **ï¼š
- **é«˜æ€§èƒ½**ï¼šåŸºäº httprouterï¼Œè·¯ç”±æ€§èƒ½ä¼˜å¼‚ï¼Œä¸­é—´ä»¶æœºåˆ¶çµæ´»
- **è½»é‡çº§**ï¼šæ ¸å¿ƒä»£ç ç®€æ´ï¼Œå¯åŠ¨å¿«é€Ÿï¼Œå†…å­˜å ç”¨ä½
- **ä¸­é—´ä»¶ç”Ÿæ€**ï¼šä¸°å¯Œçš„ç¬¬ä¸‰æ–¹ä¸­é—´ä»¶ï¼Œæ»¡è¶³è®¤è¯ã€æ—¥å¿—ã€é™æµç­‰éœ€æ±‚
- **JSON å¤„ç†**ï¼šå†…ç½® JSON ç»‘å®šå’ŒéªŒè¯ï¼ŒAPI å¼€å‘æ•ˆç‡é«˜
- **æ–‡æ¡£å®Œå–„**ï¼šå®˜æ–¹æ–‡æ¡£è¯¦ç»†ï¼Œç¤¾åŒºç¤ºä¾‹ä¸°å¯Œ

**æ¶æ„é€‚é…æ€§**ï¼š
```go
// Gin çš„ä¸­é—´ä»¶é“¾å¼è®¾è®¡å®Œç¾é€‚é…æˆ‘ä»¬çš„åˆ†å±‚æ¶æ„
r := gin.Default()
r.Use(middleware.Logger())      // æ—¥å¿—ä¸­é—´ä»¶
r.Use(middleware.CORS())        // è·¨åŸŸä¸­é—´ä»¶
r.Use(middleware.JWT())         // è®¤è¯ä¸­é—´ä»¶
r.Use(middleware.RateLimit())   // é™æµä¸­é—´ä»¶
```

#### 3. æ•°æ®å­˜å‚¨æ¶æ„ï¼šå¤šæ•°æ®åº“ç­–ç•¥
**æ•´ä½“è®¾è®¡æ€è·¯**ï¼šæ ¹æ®æ•°æ®ç‰¹æ€§å’Œè®¿é—®æ¨¡å¼é€‰æ‹©æœ€é€‚åˆçš„å­˜å‚¨æ–¹æ¡ˆ

##### 3.1 ä¸»æ•°æ®åº“ï¼šMongoDB
**é€‰æ‹©åŸå› **ï¼š
- **æ–‡æ¡£æ¨¡å‹**ï¼šå¤©ç„¶é€‚é…å¤æ‚åµŒå¥—æ•°æ®ï¼ˆå¦‚ä¹¦ç±ç« èŠ‚ã€ç”¨æˆ·è®¾å®šï¼‰
- **Schema çµæ´»**ï¼šæ”¯æŒæ•æ·å¼€å‘ï¼Œå­—æ®µå˜æ›´æ— éœ€è¿ç§»è„šæœ¬
- **æ°´å¹³æ‰©å±•**ï¼šåˆ†ç‰‡æœºåˆ¶æˆç†Ÿï¼Œæ”¯æŒæµ·é‡æ•°æ®å­˜å‚¨
- **JSON åŸç”Ÿ**ï¼šä¸ Go struct å’Œå‰ç«¯ JSON æ— ç¼å¯¹æ¥
- **èšåˆç®¡é“**ï¼šå¼ºå¤§çš„æ•°æ®åˆ†æèƒ½åŠ›ï¼Œæ”¯æŒå¤æ‚ç»Ÿè®¡æŸ¥è¯¢

**é€‚ç”¨åœºæ™¯**ï¼š
```go
// ä¹¦ç±æ–‡æ¡£ç»“æ„ç¤ºä¾‹ - ä½“ç° MongoDB æ–‡æ¡£æ¨¡å‹ä¼˜åŠ¿
type Book struct {
    ID          primitive.ObjectID `bson:"_id,omitempty"`
    Title       string            `bson:"title"`
    Author      Author            `bson:"author"`           // åµŒå¥—æ–‡æ¡£
    Chapters    []Chapter         `bson:"chapters"`         // æ•°ç»„å­—æ®µ
    Tags        []string          `bson:"tags"`             // åŠ¨æ€æ ‡ç­¾
    Metadata    map[string]any    `bson:"metadata"`         // çµæ´»å…ƒæ•°æ®
    CreatedAt   time.Time         `bson:"created_at"`
}
```

##### 3.2 ç¼“å­˜å±‚ï¼šRedis
**é€‰æ‹©åŸå› **ï¼š
- **é«˜æ€§èƒ½**ï¼šå†…å­˜å­˜å‚¨ï¼Œå¾®ç§’çº§å“åº”æ—¶é—´
- **æ•°æ®ç»“æ„ä¸°å¯Œ**ï¼šæ”¯æŒ Stringã€Hashã€Listã€Setã€ZSet ç­‰
- **æŒä¹…åŒ–æœºåˆ¶**ï¼šRDB + AOF åŒé‡ä¿éšœæ•°æ®å®‰å…¨
- **é›†ç¾¤æ”¯æŒ**ï¼šRedis Cluster æä¾›é«˜å¯ç”¨æ–¹æ¡ˆ
- **Lua è„šæœ¬**ï¼šåŸå­æ€§æ“ä½œï¼Œæ”¯æŒå¤æ‚ä¸šåŠ¡é€»è¾‘

**ä½¿ç”¨ç­–ç•¥**ï¼š
```go
// ç¼“å­˜ä½¿ç”¨åœºæ™¯è®¾è®¡
type CacheStrategy struct {
    // çƒ­ç‚¹æ•°æ®ç¼“å­˜ï¼ˆTTL: 1å°æ—¶ï¼‰
    BookRanking    string // "ranking:books:daily"
    UserSession    string // "session:user:{id}"
    
    // è®¡æ•°å™¨ç¼“å­˜ï¼ˆTTL: æ°¸ä¹…ï¼‰
    ReadCount      string // "count:read:{book_id}"
    LikeCount      string // "count:like:{book_id}"
    
    // åˆ†å¸ƒå¼é”ï¼ˆTTL: 30ç§’ï¼‰
    WriteLock      string // "lock:write:{doc_id}"
}
```

##### 3.3 æœç´¢å¼•æ“ï¼šElasticsearch
**é€‰æ‹©åŸå› **ï¼š
- **å…¨æ–‡æ£€ç´¢**ï¼šæ”¯æŒä¸­æ–‡åˆ†è¯ï¼Œç›¸å…³æ€§è¯„åˆ†ç®—æ³•æˆç†Ÿ
- **å®æ—¶ç´¢å¼•**ï¼šè¿‘å®æ—¶æœç´¢ï¼Œæ•°æ®æ›´æ–°å»¶è¿Ÿ < 1ç§’
- **èšåˆåˆ†æ**ï¼šå¼ºå¤§çš„æ•°æ®åˆ†æèƒ½åŠ›ï¼Œæ”¯æŒå¤šç»´åº¦ç»Ÿè®¡
- **é«˜å¯ç”¨æ€§**ï¼šåˆ†ç‰‡å’Œå‰¯æœ¬æœºåˆ¶ï¼Œæ”¯æŒé›†ç¾¤éƒ¨ç½²
- **RESTful API**ï¼šä¸ Go HTTP å®¢æˆ·ç«¯é›†æˆç®€å•

**ç´¢å¼•è®¾è®¡ç¤ºä¾‹**ï¼š
```json
{
  "mappings": {
    "properties": {
      "title": {
        "type": "text",
        "analyzer": "ik_max_word",
        "search_analyzer": "ik_smart"
      },
      "content": {
        "type": "text",
        "analyzer": "ik_max_word"
      },
      "tags": {
        "type": "keyword"
      },
      "created_at": {
        "type": "date"
      }
    }
  }
}
```

#### 4. æ¶æ„æ¨¡å¼ï¼šåˆ†å±‚æ¶æ„ + ä¾èµ–æ³¨å…¥
**è®¾è®¡åŸåˆ™**ï¼š
- **å•ä¸€èŒè´£**ï¼šæ¯å±‚åªè´Ÿè´£ç‰¹å®šåŠŸèƒ½ï¼ŒèŒè´£æ¸…æ™°
- **ä¾èµ–å€’ç½®**ï¼šé«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—ï¼Œéƒ½ä¾èµ–æŠ½è±¡
- **å¼€é—­åŸåˆ™**ï¼šå¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å°é—­
- **æ¥å£éš”ç¦»**ï¼šå®¢æˆ·ç«¯ä¸åº”ä¾èµ–å®ƒä¸éœ€è¦çš„æ¥å£

**åˆ†å±‚è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Router Layer  â”‚ â† HTTP è·¯ç”±å’Œå‚æ•°ç»‘å®š
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Handler Layer  â”‚ â† è¯·æ±‚å¤„ç†å’Œå“åº”å°è£…
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Service Layer  â”‚ â† ä¸šåŠ¡é€»è¾‘å’Œäº‹åŠ¡ç®¡ç†
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Repository Layer â”‚ â† æ•°æ®è®¿é—®å’ŒæŒä¹…åŒ–
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Model Layer   â”‚ â† æ•°æ®æ¨¡å‹å’ŒéªŒè¯è§„åˆ™
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¾èµ–æ³¨å…¥å®ç°**ï¼š
```go
// æ¥å£å®šä¹‰ï¼ˆä¾èµ–å€’ç½®ï¼‰
type BookRepository interface {
    Create(ctx context.Context, book *models.Book) error
    FindByID(ctx context.Context, id string) (*models.Book, error)
    Update(ctx context.Context, book *models.Book) error
    Delete(ctx context.Context, id string) error
}

// æ„é€ å‡½æ•°æ³¨å…¥ï¼ˆæ§åˆ¶åè½¬ï¼‰
func NewBookService(
    bookRepo BookRepository,
    cacheRepo CacheRepository,
    searchRepo SearchRepository,
) BookService {
    return &BookServiceImpl{
        bookRepo:   bookRepo,
        cacheRepo:  cacheRepo,
        searchRepo: searchRepo,
    }
}
```

#### 5. è®¤è¯æˆæƒï¼šJWT + RBAC
**JWT é€‰æ‹©åŸå› **ï¼š
- **æ— çŠ¶æ€**ï¼šæœåŠ¡ç«¯æ— éœ€å­˜å‚¨ sessionï¼Œæ”¯æŒæ°´å¹³æ‰©å±•
- **è·¨åŸŸå‹å¥½**ï¼šé€‚åˆå‰åç«¯åˆ†ç¦»æ¶æ„
- **æ ‡å‡†åŒ–**ï¼šRFC 7519 æ ‡å‡†ï¼Œç”Ÿæ€æˆç†Ÿ
- **è‡ªåŒ…å«**ï¼štoken åŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼Œå‡å°‘æ•°æ®åº“æŸ¥è¯¢

**RBAC æ¨¡å‹è®¾è®¡**ï¼š
```go
// æƒé™æ¨¡å‹è®¾è®¡
type User struct {
    ID    string `json:"id"`
    Roles []Role `json:"roles"`
}

type Role struct {
    ID          string       `json:"id"`
    Name        string       `json:"name"`
    Permissions []Permission `json:"permissions"`
}

type Permission struct {
    Resource string `json:"resource"` // èµ„æºï¼šbook, user, project
    Action   string `json:"action"`   // æ“ä½œï¼šcreate, read, update, delete
    Scope    string `json:"scope"`    // èŒƒå›´ï¼šown, team, all
}
```

#### 6. å¼€å‘å·¥å…·é“¾é€‰æ‹©

##### 6.1 å®¹å™¨åŒ–ï¼šDocker
**é€‰æ‹©åŸå› **ï¼š
- **ç¯å¢ƒä¸€è‡´æ€§**ï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒå®Œå…¨ä¸€è‡´
- **éƒ¨ç½²ç®€åŒ–**ï¼šä¸€æ¬¡æ„å»ºï¼Œåˆ°å¤„è¿è¡Œ
- **èµ„æºéš”ç¦»**ï¼šè¿›ç¨‹ã€ç½‘ç»œã€æ–‡ä»¶ç³»ç»Ÿéš”ç¦»
- **å¾®æœåŠ¡å‹å¥½**ï¼šæ”¯æŒæœåŠ¡æ‹†åˆ†å’Œç‹¬ç«‹éƒ¨ç½²

##### 6.2 çƒ­é‡è½½ï¼šAir
**é€‰æ‹©åŸå› **ï¼š
- **å¼€å‘æ•ˆç‡**ï¼šä»£ç å˜æ›´è‡ªåŠ¨é‡å¯ï¼Œæå‡å¼€å‘ä½“éªŒ
- **é…ç½®çµæ´»**ï¼šæ”¯æŒè‡ªå®šä¹‰ç›‘å¬æ–‡ä»¶ç±»å‹å’Œé‡å¯ç­–ç•¥
- **è½»é‡çº§**ï¼šå¯¹ç³»ç»Ÿèµ„æºå ç”¨æå°

### æŠ€æœ¯é€‰å‹æƒè¡¡ä¸é£é™©

#### ä¼˜åŠ¿æ€»ç»“
1. **æ€§èƒ½ä¼˜å¼‚**ï¼šGo + Gin + Redis ç»„åˆï¼Œæ”¯æŒé«˜å¹¶å‘è®¿é—®
2. **å¼€å‘æ•ˆç‡**ï¼šMongoDB æ–‡æ¡£æ¨¡å‹ + JSON åŸç”Ÿæ”¯æŒï¼Œå¿«é€Ÿè¿­ä»£
3. **æ‰©å±•æ€§å¼º**ï¼šå¾®æœåŠ¡æ¶æ„ + å®¹å™¨åŒ–éƒ¨ç½²ï¼Œæ”¯æŒæ°´å¹³æ‰©å±•
4. **ç»´æŠ¤æˆæœ¬ä½**ï¼šæŠ€æœ¯æ ˆç»Ÿä¸€ï¼Œå­¦ä¹ æˆæœ¬å’Œè¿ç»´å¤æ‚åº¦å¯æ§

#### æ½œåœ¨é£é™©ä¸åº”å¯¹
1. **MongoDB äº‹åŠ¡é™åˆ¶**ï¼š
   - **é£é™©**ï¼šå¤æ‚äº‹åŠ¡åœºæ™¯æ”¯æŒæœ‰é™
   - **åº”å¯¹**ï¼šè®¾è®¡æ—¶é¿å…è·¨æ–‡æ¡£äº‹åŠ¡ï¼Œä½¿ç”¨èšåˆæ ¹æ¨¡å¼

2. **Elasticsearch è¿ç»´å¤æ‚**ï¼š
   - **é£é™©**ï¼šé›†ç¾¤ç®¡ç†å’Œè°ƒä¼˜éœ€è¦ä¸“ä¸šçŸ¥è¯†
   - **åº”å¯¹**ï¼šæä¾›å•æœºç‰ˆæœ¬ï¼Œç”Ÿäº§ç¯å¢ƒå¯é€‰æ‹©æ‰˜ç®¡æœåŠ¡

3. **Go ç”Ÿæ€ç›¸å¯¹å¹´è½»**ï¼š
   - **é£é™©**ï¼šæŸäº›é¢†åŸŸåº“ä¸å¦‚ Java/Python æˆç†Ÿ
   - **åº”å¯¹**ï¼šé€‰æ‹©ç¤¾åŒºæ´»è·ƒçš„åº“ï¼Œå¿…è¦æ—¶è‡ªè¡Œå®ç°

### æœªæ¥æ¼”è¿›è·¯å¾„

#### çŸ­æœŸä¼˜åŒ–ï¼ˆ3-6ä¸ªæœˆï¼‰
- å¼•å…¥ gRPC æ”¯æŒå¾®æœåŠ¡é€šä¿¡
- é›†æˆ Prometheus + Grafana ç›‘æ§ä½“ç³»
- æ·»åŠ  Jaeger åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª

#### ä¸­æœŸæ¼”è¿›ï¼ˆ6-12ä¸ªæœˆï¼‰
- è€ƒè™‘å¼•å…¥ Kubernetes å®¹å™¨ç¼–æ’
- è¯„ä¼° PostgreSQL æ›¿æ¢éƒ¨åˆ† MongoDB åœºæ™¯
- é›†æˆ Apache Kafka å¤„ç†é«˜ååæ¶ˆæ¯

#### é•¿æœŸè§„åˆ’ï¼ˆ1-2å¹´ï¼‰
- å¾®æœåŠ¡æ¶æ„å®Œå…¨æ‹†åˆ†
- å¤šäº‘éƒ¨ç½²å’Œç¾å¤‡æ–¹æ¡ˆ
- AI æ¨¡å‹æœ¬åœ°åŒ–éƒ¨ç½²
