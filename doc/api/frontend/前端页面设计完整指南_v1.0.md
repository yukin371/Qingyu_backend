# 青羽平台 前端页面设计完整指南 v1.0

> **版本**: v1.0  
> **更新日期**: 2025-10-30  
> **项目**: 青羽一站式阅读写作平台  
> **用途**: 指导前端开发人员构建用户界面

---

## 📑 目录

1. [项目概述](#项目概述)
2. [阅读端页面](#阅读端页面-reader)
3. [写作端页面](#写作端页面-writer)
4. [用户中心页面](#用户中心页面)
5. [AI功能页面](#ai功能页面)
6. [管理后台页面](#管理后台页面-admin)
7. [共享组件](#共享组件)
8. [设计规范](#设计规范)
9. [技术建议](#技术建议)

---

## 项目概述

### 平台定位
青羽是一个 **AI赋能的一站式阅读写作平台**，集合了：
- 📖 **阅读端**: 个性化推荐、社交互动、AI阅读助手
- ✍️ **写作端**: 智能编辑器、项目管理、AI辅助创作
- 🤖 **AI服务**: 文本生成、RAG检索、Agent工具调用
- 👥 **社区功能**: 书圈、评论、互动、变现

### 核心特色功能
1. 🔥 **AI Agent工具调用** - 自动生成大纲、角色卡、关系图谱
2. 🔥 **RAG检索增强** - 确保生成内容与设定一致
3. 💡 **普惠AI策略** - 所有用户都能使用AI服务
4. ✨ **一站式平台** - 读者+作者+AI+变现

---

## 阅读端页面 (Reader)

### 1. 首页 (Home)

#### 页面功能
- ✅ 精选推荐轮播（Banner）
- ✅ 热门书籍榜单
- ✅ 新书推荐
- ✅ 个性化推荐
- ✅ 阅读历史快速入口
- ✅ 分类导航

#### 页面布局
```
┌─────────────────────────────────────┐
│  Logo  搜索框  消息  用户菜单  登录   │ <- 顶部导航
├─────────────────────────────────────┤
│                                       │
│    【轮播图】  【精选推荐】           │ <- Banner区域
│                                       │
├─────────────────────────────────────┤
│ 【热门排行】     【新书上架】         │
│ [书籍卡片]       [书籍卡片]          │ <- 榜单/推荐区
│ [书籍卡片]       [书籍卡片]          │
├─────────────────────────────────────┤
│ 【我的阅读】     【推荐给你】        │
│ [书籍卡片]       [书籍卡片]          │
│ [书籍卡片]       [书籍卡片]          │
├─────────────────────────────────────┤
│ 页脚: 关于 | 隐私 | 联系 | 社交链接   │
└─────────────────────────────────────┘
```

#### 核心组件
| 组件 | 说明 | 数据来源 |
|------|------|--------|
| BannerCarousel | 轮播图 | GET /bookstore/banners |
| BookCard | 书籍卡片 | GET /bookstore/books |
| RankingList | 排行榜 | GET /bookstore/rankings |
| RecommendationSection | 推荐区域 | GET /recommendation/homepage |
| ReadingHistory | 阅读历史 | GET /reader/reading-history |

#### UI需求
- 响应式设计（移动、平板、桌面）
- 加载动画和骨架屏
- 无限滚动或分页加载
- 搜索框支持实时搜索建议
- 点击书籍卡片进入详情页

---

### 2. 书籍详情页 (Book Detail)

#### 页面功能
- ✅ 书籍基础信息（封面、标题、作者、描述）
- ✅ 作者信息卡片（头像、粉丝数、简介）
- ✅ 实时数据统计（阅读数、收藏数、评分）
- ✅ 开始阅读按钮
- ✅ 收藏/收藏夹功能
- ✅ 分享功能
- ✅ 用户评分和评价展示
- ✅ 相似作品推荐

#### 页面布局
```
┌────────────────────────────────────────┐
│ < 返回   分享 | 更多操作              │ <- 顶部
├────────────────────────────────────────┤
│  [书籍封面]   书名：《XXX》            │
│  [120px]      作者：张三               │
│               分类：玄幻小说           │
│               字数：50万字             │
│               状态：连载中             │
│               【开始阅读】【收藏】     │
├────────────────────────────────────────┤
│ 【作者信息】                           │
│ [头像] 张三 粉丝:10000                │
│ 签约作者 │ 关注按钮                   │
│ 个人简介：XXXXXX                      │
├────────────────────────────────────────┤
│ 【书籍简介】                           │
│ 长篇文本描述...                       │
├────────────────────────────────────────┤
│ 【评分统计】 ⭐ 4.5分 (10000评价)    │
│ 【用户评价】                           │
│ 用户名: 评价内容 ⭐⭐⭐⭐⭐            │
│ 用户名: 评价内容 ⭐⭐⭐⭐             │
│ 【查看全部评价】                       │
├────────────────────────────────────────┤
│ 【相似推荐】                           │
│ [书籍卡片] [书籍卡片] [书籍卡片]      │
└────────────────────────────────────────┘
```

#### 核心API
| 接口 | 功能 |
|------|------|
| GET /bookstore/books/:id | 获取书籍详情 |
| GET /bookstore/books/:id/comments | 获取评价 |
| GET /bookstore/books/:id/related | 相似推荐 |
| POST /bookstore/books/:id/collect | 收藏 |
| POST /bookstore/books/:id/rate | 评分 |

---

### 3. 阅读器页面 (Reader Page)

#### 页面功能
- ✅ 章节内容展示
- ✅ 双列/单列布局切换
- ✅ 字体大小调整
- ✅ 背景颜色选择（白/淡黄/深色）
- ✅ 阅读进度显示
- ✅ 上/下章节导航
- ✅ 笔记和书签功能
- ✅ AI阅读助手（侧边栏）
- ✅ 评论功能
- ✅ 字数统计

#### 页面布局
```
┌──────────────────────────────────────┐
│ < 返回 章节列表 书签 笔记 更多         │ <- 工具栏
├──────────────────────────────────────┤
│                                       │
│    第五章 山雨欲来                    │ <- 章节标题
│                                       │
│    只见天上乌云压顶，大雨欲来...     │ <- 正文内容
│    ………                             │
│    ………                             │
│    ………                             │
│                                       │
├──────────────────────────────────────┤
│  【上一章】  阅读进度: 30/100  【下一章】│
├──────────────────────────────────────┤
│ 【用户评价】                          │
│ 用户名: 评价 🔖 【回复】             │
│ 用户名: 评价 🔖 【回复】             │
├──────────────────────────────────────┤
│ 【AI阅读助手】                        │
│ "这章发生了什么?"                    │
│ 按钮: [继续提问] [回顾剧情] [设定查询]│
└──────────────────────────────────────┘

右侧悬浮：
┌─────────────┐
│ 📌 书签     │ <- 操作栏
│ 📝 笔记     │   （可收起）
│ 🤖 AI助手   │
│ ⚙️ 设置     │
└─────────────┘
```

#### 核心功能实现
1. **阅读设置面板**
   - 字体选择（默认、宋体、雅黑等）
   - 字体大小（8-24px）
   - 背景颜色（白、淡黄、浅蓝、深灰、纯黑）
   - 行距调整
   - 页边距调整

2. **AI阅读助手**
   - 侧边栏形式
   - 支持问题输入
   - 显示AI回复
   - 预定义快捷问题：
     - "这章摘要"
     - "前面发生了什么"
     - "角色关系"
     - "主角现在什么修为"

3. **笔记和书签**
   - 点击可标记段落
   - 添加笔记
   - 书签管理
   - 笔记导出

#### 核心API
| 接口 | 功能 |
|------|------|
| GET /reader/chapters/:id | 获取章节 |
| POST /reader/progress | 保存阅读进度 |
| POST /reader/bookmarks | 添加书签 |
| POST /reader/notes | 添加笔记 |
| POST /reader/comments | 评论 |
| POST /ai/read-assistant | AI阅读助手 |

---

### 4. 书城页面 (Bookstore)

#### 页面功能
- ✅ 分类浏览（玄幻、都市、科幻、言情等）
- ✅ 排序选项（热门、最新、评分）
- ✅ 搜索和筛选
- ✅ 书籍网格/列表视图切换
- ✅ 无限滚动加载
- ✅ 标签过滤

#### 页面布局
```
┌────────────────────────────────────┐
│ 【分类导航】 玄幻 都市 科幻 言情    │
├────────────────────────────────────┤
│ 搜索 [          ] [搜索]            │
│ 排序: ▼热门  字数: ▼全部  状态: ▼全部│
├────────────────────────────────────┤
│ [书籍卡片] [书籍卡片] [书籍卡片]    │
│ [书籍卡片] [书籍卡片] [书籍卡片]    │
│ [书籍卡片] [书籍卡片] [书籍卡片]    │
│ ... (无限滚动)                     │
└────────────────────────────────────┘
```

#### 核心API
| 接口 | 功能 |
|------|------|
| GET /bookstore/categories | 获取分类 |
| GET /bookstore/books | 书籍列表（支持分页、排序、过滤） |
| GET /bookstore/search | 搜索 |

---

### 5. 个人书架 (My Shelf)

#### 页面功能
- ✅ 阅读中的书籍
- ✅ 已完成的书籍
- ✅ 收藏的书籍
- ✅ 购买历史
- ✅ 批量管理
- ✅ 创建书单

#### 页面布局
```
┌────────────────────────────────────┐
│ 【阅读中】      【已完成】  【收藏】│ <- 标签页
├────────────────────────────────────┤
│ 排序: ▼最近阅读   视图: 网格/列表   │
├────────────────────────────────────┤
│ [书籍卡片] [书籍卡片] [书籍卡片]    │
│ [书籍卡片] [书籍卡片] [书籍卡片]    │
└────────────────────────────────────┘
```

---

## 写作端页面 (Writer)

### 1. 项目列表页 (Projects)

#### 页面功能
- ✅ 创建新项目
- ✅ 项目网格/列表视图
- ✅ 项目搜索
- ✅ 项目删除/归档
- ✅ 项目信息卡片
- ✅ 快速统计（字数、章数、更新时间）

#### 页面布局
```
┌──────────────────────────────────┐
│ 我的作品              【+ 新建项目】│
├──────────────────────────────────┤
│ 搜索 [        ]  排序: ▼最近修改   │
├──────────────────────────────────┤
│ ┌────────┐  ┌────────┐ ┌────────┐│
│ │[封面]  │  │[封面]  │ │[封面]  ││
│ │修仙传  │  │都市之梦│ │科幻录  │
│ │50万字  │  │30万字  │ │100万字 │
│ │更新:1d │  │更新:3d │ │完成   ││
│ │【编辑】│  │【编辑】│ │【编辑】│
│ └────────┘  └────────┘ └────────┘
│ [更多项目...]
└──────────────────────────────────┘
```

#### 核心API
| 接口 | 功能 |
|------|------|
| GET /writer/projects | 项目列表 |
| POST /writer/projects | 创建项目 |
| PUT /writer/projects/:id | 更新项目 |
| DELETE /writer/projects/:id | 删除项目 |
| GET /writer/projects/:id/stats | 项目统计 |

---

### 2. 编辑器页面 (Editor)

#### 页面功能
- ✅ 双模式编辑（Markdown/富文本）
- ✅ 自动保存（每30秒）
- ✅ 版本历史
- ✅ 字数统计
- ✅ 实时AI建议
- ✅ 侧边栏（文档树、大纲、设定）
- ✅ 评论和建议

#### 页面布局
```
┌──────────────────────────────────────┐
│ < 项目名  [章节面包屑] 保存状态 更多   │ <- 顶部栏
├───┬──────────────────────┬──────────┤
│   │                      │          │
│左  │   编辑区域            │AI面板   │
│侧  │                      │         │
│栏  │ 第五章 山雨欲来       │[建议]   │
│   │ [编辑内容...]         │[文风]   │
│   │                      │[续写]   │
│   │ [自动保存中]          │[改写]   │
│   │ 字数: 1,234          │        │
│   │                      │        │
├───┴──────────────────────┴──────────┤
│ 底部: 【插入图片】【表格】【其他格式】│
└──────────────────────────────────────┘

左侧栏展示:
┌─────────────────┐
│ 📋 大纲          │
│ ├─ 卷1           │
│ │ ├─ 第1章       │
│ │ ├─ 第2章       │ <- 文档树
│ │ └─ 第3章       │
│ ├─ 卷2           │
│ │ └─ ...         │
│ 📖 设定          │
│ ├─ 角色卡        │
│ ├─ 世界观        │
│ └─ 时间线        │
│ 🎨 写作工具      │
│ ├─ AI续写        │
│ ├─ AI改写        │
│ └─ 文风调整      │
└─────────────────┘

右侧AI面板:
┌──────────────┐
│ 🤖 AI建议    │
│              │
│ [续写当前... │
│ [改写这段... │
│ [生成对话]   │
│ [文风调整]   │
│ [检查语法]   │
│              │
│ 【更多工具】 │
└──────────────┘
```

#### 核心功能模块

1. **文档树（左侧）**
   - 实时大纲显示
   - 拖拽重排序
   - 右键菜单（添加/删除/移动章节）
   - 快速跳转

2. **编辑区（中央）**
   - Markdown和富文本双模式
   - 实时保存指示
   - 字数统计
   - 代码高亮
   - 表格和图片插入

3. **AI面板（右侧）**
   - 续写：补全当前段落
   - 改写：重新组织内容
   - 文风调整：改变语气风格
   - 对话生成：创建对话内容
   - 语法检查：错误提示

4. **工具栏**
   - 版本历史
   - 设置
   - 发布
   - 分享

#### 核心API
| 接口 | 功能 |
|------|------|
| GET /writer/documents/:id | 获取文档 |
| PUT /writer/documents/:id/content | 保存内容 |
| GET /writer/documents/:id/versions | 版本历史 |
| POST /writer/documents/:id/versions/:versionId/restore | 恢复版本 |
| POST /ai/continue-writing | AI续写 |
| POST /ai/rewrite | AI改写 |

---

### 3. 设定管理页面 (Settings/Encyclopedia)

#### 页面功能
- ✅ 角色卡管理（创建、编辑、删除）
- ✅ 世界观设定
- ✅ 时间线管理
- ✅ 关系图谱
- ✅ 设定AI验证

#### 页面布局
```
┌──────────────────────────────────┐
│ 【角色卡】 【世界观】 【时间线】 │ <- 标签页
├──────────────────────────────────┤
│ 【+ 添加角色】 搜索 [      ]      │
├──────────────────────────────────┤
│ 【主要角色】                      │
│ ┌──────────┐  ┌──────────┐      │
│ │[头像]    │  │[头像]    │      │
│ │张三      │  │李四      │      │
│ │主角      │  │女主      │      │
│ │【编辑】  │  │【编辑】  │      │
│ └──────────┘  └──────────┘      │
│                                  │
│ 【配角】                          │
│ ┌──────────┐  ┌──────────┐      │
│ │...       │  │...       │      │
│ └──────────┘  └──────────┘      │
└──────────────────────────────────┘
```

#### 角色卡结构
```
基础信息:
- 名字
- 性别
- 年龄
- 身份/职位

外观描述:
- 身高体重
- 面部特征
- 穿着风格
- 特殊标记

性格特质:
- 优点
- 缺点
- 兴趣爱好
- 行为习惯

背景故事:
- 出身
- 经历
- 创伤或执念
- 梦想目标

能力设定:
- 主要能力
- 技能列表
- 武器装备
- 修为等级

关系网络:
- 重要人物关系
- 势力立场
- 冲突对手

发展轨迹:
- 故事中的成长
- 关键转折点
```

---

### 4. AI工具页面 (AI Tools)

#### 页面功能
- ✅ AI大纲生成
- ✅ AI角色生成
- ✅ AI情节设计
- ✅ 设定一致性检查
- ✅ 使用记录

#### 页面布局
```
┌──────────────────────────────┐
│ 【大纲生成】【角色生成】【情节设计】│
├──────────────────────────────┤
│ 【AI大纲生成器】              │
│ 项目: [选择项目]              │
│ 创意: [输入框]                │
│ "想写一部修仙小说，主角是..."│
│ 【生成大纲】                  │
│                              │
│ 【生成结果】                  │
│ ✅ 完成率: 80%               │
│ 📋 大纲：                    │
│ 第一部分：入门（1-10章）     │
│ 第二部分：历练（11-25章）    │
│ 【采用】【重新生成】【编辑】 │
└──────────────────────────────┘
```

---

## 用户中心页面

### 1. 用户资料页 (Profile)

#### 页面功能
- ✅ 头像上传/编辑
- ✅ 用户信息编辑（昵称、简介、地区等）
- ✅ 等级和成就展示
- ✅ 粉丝/关注列表
- ✅ 账号设置

#### 页面布局
```
┌────────────────────────────────┐
│ < 返回                          │
├────────────────────────────────┤
│    [大头像]                     │
│    用户名  等级: LV5 ⭐⭐⭐    │
│    粉丝: 10000  关注: 500      │
│    【编辑资料】【账号设置】    │
├────────────────────────────────┤
│ 【个人简介】                   │
│ XXXXXX                        │
├────────────────────────────────┤
│ 【成就和徽章】                 │
│ [徽章] [徽章] [徽章] [徽章]   │
├────────────────────────────────┤
│ 【作品】                       │
│ [书籍卡片] [书籍卡片]          │
├────────────────────────────────┤
│ 【粉丝】                       │
│ [用户卡片] [用户卡片]          │
└────────────────────────────────┘
```

---

### 2. 账号安全页 (Account Security)

#### 页面功能
- ✅ 修改密码
- ✅ 登录设备管理
- ✅ 绑定手机/邮箱
- ✅ 第三方账号绑定
- ✅ 登录日志

---

### 3. 钱包页 (Wallet)

#### 页面功能
- ✅ 青羽币余额显示
- ✅ 充值入口
- ✅ 提现申请
- ✅ 交易记录
- ✅ 发票

#### 页面布局
```
┌────────────────────────────────┐
│ 【我的钱包】                   │
├────────────────────────────────┤
│ 青羽币: 1,250 💰              │
│ VIP有效期: 2025-11-30         │
│ 【充值】【提现】               │
├────────────────────────────────┤
│ 【快速充值】                   │
│ [29元]  [99元]  [299元]       │
├────────────────────────────────┤
│ 【交易记录】                   │
│ 2025-10-30 订阅VIP -99        │
│ 2025-10-25 充值 +300          │
│ 2025-10-20 购买AI服务 -50     │
│ 【查看全部】                   │
└────────────────────────────────┘
```

---

### 4. 订阅管理页 (Subscriptions)

#### 页面功能
- ✅ 当前订阅展示
- ✅ 续费管理
- ✅ 取消订阅
- ✅ 订阅历史

---

## AI功能页面

### 1. AI聊天页面 (AI Chat)

#### 页面功能
- ✅ 聊天会话列表
- ✅ 聊天窗口
- ✅ 消息历史
- ✅ 会话管理

#### 页面布局
```
┌──────────┬──────────────────────┐
│          │                      │
│会话列表  │  AI聊天窗口          │
│          │                      │
│【+ 新建】│ 问题：               │
│【会话1】 │ 这章摘要是什么?      │
│【会话2】 │                      │
│【会话3】 │ AI回复：             │
│【会话4】 │ 根据文本分析...      │
│【会话5】 │                      │
│【...】   │ 【发送】             │
│          │ [输入框........]     │
└──────────┴──────────────────────┘
```

---

### 2. AI配额页面 (AI Quota)

#### 页面功能
- ✅ 当日配额显示
- ✅ 历史使用统计
- ✅ 配额充值
- ✅ 按量付费选项

---

## 管理后台页面 (Admin)

### 1. 仪表盘 (Dashboard)

#### 页面功能
- ✅ 实时数据统计
- ✅ 图表展示
- ✅ 关键指标

#### 关键指标
- 总用户数
- 日活用户数
- 总作品数
- 总文章数
- 收入统计
- AI服务调用数

---

### 2. 用户管理 (User Management)

#### 页面功能
- ✅ 用户列表
- ✅ 用户详情
- ✅ 用户禁用/启用
- ✅ 角色分配
- ✅ 搜索和过滤

---

### 3. 内容审核 (Content Review)

#### 页面功能
- ✅ 待审核内容列表
- ✅ 审核详情
- ✅ 批准/拒绝
- ✅ 审核日志

---

### 4. 财务管理 (Finance)

#### 页面功能
- ✅ 收入统计
- ✅ 支出统计
- ✅ 提现管理
- ✅ 财务报表

---

## 共享组件

### 1. 顶部导航栏 (TopBar)

```
┌─────────────────────────────────────┐
│ Logo 【首页】【书城】【社区】【我的】│ 【搜索】【消息】【用户菜单】
└─────────────────────────────────────┘
```

**功能**:
- 显示当前用户
- 消息提示
- 用户菜单（个人资料、设置、登出）
- 搜索框

---

### 2. 侧边栏 (Sidebar)

**读者端**:
- 首页
- 书城
- 个人书架
- 书单
- 社区/书圈
- 我的关注

**作者端**:
- 我的作品
- 创建新作品
- 设定管理
- 数据统计
- 收入管理
- AI工具

---

### 3. 用户菜单 (User Menu)

```
【用户头像▼】
├─ 个人资料
├─ 我的作品
├─ 设置
├─ 账号安全
├─ 钱包
├─ 帮助
└─ 登出
```

---

### 4. 加载动画

- 骨架屏
- 进度条
- 加载旋转图标

---

### 5. 模态框 (Modals)

- 确认对话框
- 提示对话框
- 表单对话框
- 图片预览

---

## 设计规范

### 1. 色彩体系

**主色系**:
- 主色: #6B5FFF (青紫色)
- 辅助色: #FF6B6B (红色)
- 成功色: #51CF66 (绿色)
- 警告色: #FFA500 (橙色)
- 错误色: #FF6B6B (红色)

**中性色**:
- 背景: #F5F5F5 / #FFFFFF
- 文本主: #1A1A1A
- 文本辅: #666666
- 边框: #DDDDDD

**深色模式**:
- 背景: #1A1A1A
- 文本主: #FFFFFF
- 文本辅: #AAAAAA

---

### 2. 字体系统

- 标题: 20px/24px (Bold)
- 子标题: 16px/20px (SemiBold)
- 正文: 14px/22px (Regular)
- 标签/按钮: 12px/16px (Medium)
- 细节文字: 12px/18px (Regular)

推荐字体:
- 中文: 微软雅黑、PingFang SC
- 英文: Segoe UI、Inter

---

### 3. 间距系统

- 基础间距: 4px
- 间距倍数: 4px, 8px, 12px, 16px, 20px, 24px, 32px, 40px, 48px

---

### 4. 按钮规范

**主按钮** (Primary)
- 背景: #6B5FFF
- 文字: 白色
- 高度: 44px (手机), 40px (桌面)
- 圆角: 8px

**次按钮** (Secondary)
- 背景: #F5F5F5
- 文字: #1A1A1A
- 边框: 1px #DDDDDD

**文本按钮** (Text)
- 背景: 透明
- 文字: #6B5FFF

**禁用状态**
- 所有按钮: 50% 透明度

---

### 5. 卡片设计

- 背景: 白色 (#FFFFFF)
- 圆角: 12px
- 阴影: 0 2px 8px rgba(0,0,0,0.1)
- 内边距: 16px
- 间距: 8px (项目间)

---

### 6. 响应式设计

**断点**:
- 手机: < 768px
- 平板: 768px - 1024px
- 桌面: > 1024px

---

## 技术建议

### 1. 前端框架选择

**推荐方案**: Vue 3 + TypeScript

- Vue 3: 组合式API，性能优秀
- TypeScript: 类型安全
- Vite: 开发体验好
- 成熟生态

**备选方案**:
- React + TypeScript
- Next.js (SSR需求)

---

### 2. 核心库

```json
{
  "dependencies": {
    "vue": "^3.3.0",
    "vue-router": "^4.2.0",
    "pinia": "^2.1.0",
    "axios": "^1.4.0",
    "element-plus": "^2.3.0",
    "echarts": "^5.4.0",
    "marked": "^9.0.0"
  },
  "devDependencies": {
    "typescript": "^5.0.0",
    "vite": "^4.3.0",
    "@typescript-eslint/parser": "^5.59.0",
    "prettier": "^2.8.0"
  }
}
```

---

### 3. 项目结构

```
frontend/
├── src/
│   ├── api/              # API接口封装
│   │   ├── auth.ts
│   │   ├── bookstore.ts
│   │   ├── reader.ts
│   │   ├── writer.ts
│   │   └── ai.ts
│   ├── components/       # 通用组件
│   │   ├── common/
│   │   │   ├── TopBar.vue
│   │   │   ├── Sidebar.vue
│   │   │   └── ...
│   │   ├── bookstore/
│   │   ├── reader/
│   │   └── writer/
│   ├── views/            # 页面组件
│   │   ├── reader/
│   │   │   ├── Home.vue
│   │   │   ├── BookDetail.vue
│   │   │   ├── Reader.vue
│   │   │   └── Bookstore.vue
│   │   ├── writer/
│   │   │   ├── Projects.vue
│   │   │   ├── Editor.vue
│   │   │   └── Settings.vue
│   │   ├── user/
│   │   │   ├── Profile.vue
│   │   │   ├── Wallet.vue
│   │   │   └── Security.vue
│   │   └── admin/
│   ├── stores/           # Pinia状态管理
│   │   ├── auth.ts
│   │   ├── user.ts
│   │   ├── book.ts
│   │   └── editor.ts
│   ├── utils/            # 工具函数
│   │   ├── request.ts    # Axios封装
│   │   ├── storage.ts
│   │   └── format.ts
│   ├── composables/      # Vue组合式函数
│   │   ├── useAuth.ts
│   │   ├── useReader.ts
│   │   └── useEditor.ts
│   ├── styles/           # 全局样式
│   │   ├── variables.css # CSS变量
│   │   ├── common.css
│   │   └── reset.css
│   ├── types/            # TypeScript类型定义
│   │   ├── api.ts
│   │   ├── models.ts
│   │   └── index.ts
│   ├── router/           # 路由配置
│   │   ├── index.ts
│   │   ├── reader.ts
│   │   ├── writer.ts
│   │   └── admin.ts
│   ├── App.vue
│   └── main.ts
├── public/               # 静态资源
├── .env.development
├── .env.production
├── vite.config.ts
├── tsconfig.json
├── package.json
└── README.md
```

---

### 4. 关键特性实现

#### 4.1 自动保存编辑器内容
```typescript
// composables/useAutoSave.ts
export function useAutoSave(content, saveInterval = 30000) {
  let timer: NodeJS.Timeout;
  
  const save = async () => {
    await api.saveDocument(content);
  };
  
  watch(content, () => {
    clearTimeout(timer);
    timer = setTimeout(save, saveInterval);
  });
}
```

#### 4.2 分页加载
```typescript
// composables/usePagination.ts
export function usePagination(pageSize = 20) {
  const page = ref(1);
  const data = ref([]);
  const loading = ref(false);
  
  const load = async () => {
    loading.value = true;
    const result = await api.getBooks({ page: page.value, size: pageSize });
    data.value.push(...result.data);
    page.value++;
    loading.value = false;
  };
  
  return { data, loading, load };
}
```

#### 4.3 AI实时流式响应
```typescript
// composables/useAIStream.ts
export async function useAIStream(prompt: string) {
  const response = await fetch('/api/v1/ai/chat', {
    method: 'POST',
    body: JSON.stringify({ prompt }),
  });
  
  const reader = response.body?.getReader();
  const decoder = new TextDecoder();
  
  while (true) {
    const { done, value } = await reader!.read();
    if (done) break;
    
    const chunk = decoder.decode(value);
    // 处理流式数据
    yield chunk;
  }
}
```

---

### 5. 性能优化

- 图片延迟加载 (Intersection Observer)
- 虚拟列表 (长列表优化)
- 代码分割 (Code Splitting)
- 路由懒加载
- 组件懒加载
- 缓存策略 (LocalStorage + IndexedDB)

---

### 6. PWA支持

- 离线阅读
- 推送通知
- 安装提示

---

## 总结

本文档为青羽平台前端开发提供了完整的页面需求规范，包括：

✅ **阅读端**: 首页、书籍详情、阅读器、书城、个人书架  
✅ **写作端**: 项目列表、编辑器、设定管理、AI工具  
✅ **用户中心**: 资料、安全、钱包、订阅  
✅ **AI功能**: 聊天、配额管理  
✅ **管理后台**: 仪表板、用户/内容/财务管理  
✅ **设计规范**: 色彩、字体、间距、响应式  
✅ **技术方案**: 框架、工具、架构、优化

---

**版本**: v1.0  
**更新日期**: 2025-10-30  
**维护者**: 青羽后端团队  
**联系方式**: backend@qingyu.com
