# é’ç¾½é¡¹ç›®å¼€å‘å·¥ä½œæµç¨‹æŒ‡å—

**å¿«é€Ÿå‚è€ƒ** | **æ›´æ–°æ—¥æœŸ**: 2025-10-22

## ğŸš€ æ—¥å¸¸å¼€å‘æµç¨‹ï¼ˆæœ€å¸¸ç”¨ï¼‰

```bash
# 1. ä» dev åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout dev
git pull origin dev
git checkout -b feature/your-feature-name

# 2. å¼€å‘åŠŸèƒ½
# ... ç¼–å†™ä»£ç ã€æœ¬åœ°æµ‹è¯• ...

# 3. æäº¤ä»£ç 
git add .
git commit -m "feat: add your feature"

# 4. æ¨é€åˆ°è¿œç¨‹
git push origin feature/your-feature-name

# 5. åˆ›å»º PR åˆ° dev
gh pr create --base dev --title "feat: add your feature"
# æˆ–åœ¨ GitHub ç½‘é¡µåˆ›å»º PR

# 6. ç­‰å¾… CI é€šè¿‡ âœ…
# 7. åˆå¹¶åˆ° dev
# 8. åˆ é™¤åŠŸèƒ½åˆ†æ”¯
git branch -d feature/your-feature-name
```

## ğŸ“Š åˆ†æ”¯ç­–ç•¥æ€»è§ˆ

| åˆ†æ”¯ | ç”¨é€” | åŸºäº | åˆå¹¶åˆ° | CI è¦†ç›– |
|------|------|------|--------|--------|
| `main` | ç”Ÿäº§ç¯å¢ƒ | - | - | âœ… Push + PR |
| `dev` | å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰ | - | `main` | âœ… Push + PR |
| `feature/*` | æ–°åŠŸèƒ½ | `dev` | `dev` | âš ï¸ ä»… PR æ—¶ |
| `bugfix/*` | Bug ä¿®å¤ | `dev` | `dev` | âš ï¸ ä»… PR æ—¶ |
| `hotfix/*` | ç´§æ€¥ä¿®å¤ | `main` | `main`+`dev` | âš ï¸ ä»… PR æ—¶ |

## ğŸ’¡ å¸¸è§åœºæ™¯

### åœºæ™¯ 1ï¼šå¼€å‘æ–°åŠŸèƒ½
```bash
åŸºäºï¼šdev
ç›®æ ‡ï¼šdev
å‘½åï¼šfeature/åŠŸèƒ½å

ç¤ºä¾‹ï¼šfeature/user-authentication
```

### åœºæ™¯ 2ï¼šä¿®å¤ Bug
```bash
åŸºäºï¼šdev
ç›®æ ‡ï¼šdev
å‘½åï¼šbugfix/é—®é¢˜æè¿° æˆ– fix/é—®é¢˜æè¿°

ç¤ºä¾‹ï¼šbugfix/login-timeout
```

### åœºæ™¯ 3ï¼šç´§æ€¥ä¿®å¤ç”Ÿäº§é—®é¢˜
```bash
åŸºäºï¼šmain
ç›®æ ‡ï¼šmain + dev
å‘½åï¼šhotfix/é—®é¢˜æè¿°

ç¤ºä¾‹ï¼šhotfix/payment-critical-bug

æµç¨‹ï¼š
1. ä» main åˆ›å»º
2. ä¿®å¤é—®é¢˜
3. åˆå¹¶åˆ° mainï¼ˆæ‰“æ ‡ç­¾ï¼‰
4. åŒæ—¶åˆå¹¶åˆ° dev
```

### åœºæ™¯ 4ï¼šå‘å¸ƒæ–°ç‰ˆæœ¬
```bash
æ–¹å¼1ï¼ˆç®€å•ï¼‰ï¼š
dev â†’ main (ç›´æ¥ PR)

æ–¹å¼2ï¼ˆæ ‡å‡†ï¼‰ï¼š
dev â†’ release/v1.0.0 â†’ main

æµç¨‹ï¼š
1. ç¡®ä¿ dev ç¨³å®š
2. åˆ›å»º PR: dev â†’ main
3. å®¡æŸ¥å’Œæµ‹è¯•
4. åˆå¹¶åæ‰“æ ‡ç­¾
5. è‡ªåŠ¨éƒ¨ç½²
```

## ğŸ“‹ æäº¤ä¿¡æ¯è§„èŒƒ

```bash
æ ¼å¼ï¼š<type>: <description>

ç±»å‹ï¼ˆtypeï¼‰ï¼š
  feat     - æ–°åŠŸèƒ½
  fix      - Bug ä¿®å¤
  docs     - æ–‡æ¡£æ›´æ–°
  style    - ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
  refactor - é‡æ„
  perf     - æ€§èƒ½ä¼˜åŒ–
  test     - æµ‹è¯•ç›¸å…³
  build    - æ„å»ºç³»ç»Ÿ
  ci       - CI é…ç½®
  chore    - å…¶ä»–æ‚é¡¹

ç¤ºä¾‹ï¼š
  feat: add user profile page
  fix: resolve login timeout issue
  docs: update API documentation
  ci: optimize test workflow
```

## ğŸ¯ åˆ†æ”¯å‘½åè§„èŒƒ

```bash
åŠŸèƒ½åˆ†æ”¯ï¼š
  feature/user-login
  feature/document-upload
  feature/ai-integration

Bug ä¿®å¤ï¼š
  bugfix/form-validation
  fix/api-error

çƒ­ä¿®å¤ï¼š
  hotfix/security-patch
  hotfix/data-loss

æ–‡æ¡£ï¼š
  docs/api-guide
  docs/deployment

å®éªŒæ€§ï¼š
  experiment/new-ui
```

## âš ï¸ é‡è¦æ³¨æ„äº‹é¡¹

### âŒ ä¸è¦åšçš„äº‹æƒ…

```bash
# ä¸è¦ç›´æ¥åœ¨ main ä¸Šå¼€å‘
git checkout main
vim some_file.go  # âŒ é”™è¯¯

# ä¸è¦ force push åˆ°å…±äº«åˆ†æ”¯
git push -f origin dev  # âŒ å±é™©

# ä¸è¦ä»é”™è¯¯çš„åˆ†æ”¯åˆ›å»º
git checkout main
git checkout -b feature/xxx  # âŒ åº”è¯¥ä» dev

# ä¸è¦å¿˜è®°æ›´æ–°æœ¬åœ° dev
git checkout -b feature/xxx  # âŒ æ²¡æœ‰å…ˆ pull
```

### âœ… åº”è¯¥åšçš„äº‹æƒ…

```bash
# å¼€å‘å‰æ€»æ˜¯æ›´æ–° dev
git checkout dev
git pull origin dev

# å®šæœŸåŒæ­¥ dev çš„æ›´æ–°åˆ°åŠŸèƒ½åˆ†æ”¯
git checkout feature/xxx
git merge dev  # æˆ– git rebase dev

# æäº¤å‰æœ¬åœ°æµ‹è¯•
go test ./...
golangci-lint run

# æœ‰æ„ä¹‰çš„æäº¤ä¿¡æ¯
git commit -m "feat: add user authentication with JWT"
```

## ğŸ”„ åŒæ­¥å’Œæ›´æ–°

### æ›´æ–°æœ¬åœ° dev
```bash
git checkout dev
git pull origin dev
```

### æ›´æ–°åŠŸèƒ½åˆ†æ”¯ï¼ˆåˆå¹¶ dev çš„æœ€æ–°æ”¹åŠ¨ï¼‰
```bash
git checkout feature/your-feature
git merge dev
# æˆ–ä½¿ç”¨ rebaseï¼ˆä¿æŒçº¿æ€§å†å²ï¼‰
git rebase dev
```

### è§£å†³å†²çª
```bash
# 1. æ‹‰å–æœ€æ–° dev
git checkout dev
git pull

# 2. åˆ‡å›åŠŸèƒ½åˆ†æ”¯
git checkout feature/your-feature

# 3. åˆå¹¶ dev
git merge dev

# 4. å¦‚æœ‰å†²çªï¼Œè§£å†³å
git add .
git commit -m "merge: resolve conflicts with dev"
```

## ğŸ“Š CI/CD æµç¨‹

### CI ä½•æ—¶è¿è¡Œï¼Ÿ

```
Push åˆ° main â†’ âœ… è¿è¡Œå®Œæ•´ CI
Push åˆ° dev â†’ âœ… è¿è¡Œå®Œæ•´ CI
Push åˆ° feature/* â†’ âŒ ä¸è¿è¡Œ

PR åˆ° main â†’ âœ… å¿…é¡»é€šè¿‡ CI æ‰èƒ½åˆå¹¶
PR åˆ° dev â†’ âœ… å¿…é¡»é€šè¿‡ CI æ‰èƒ½åˆå¹¶
```

### CI æ£€æŸ¥å†…å®¹

```
1. Lintingï¼ˆä»£ç è§„èŒƒï¼‰
2. Security Scanï¼ˆå®‰å…¨æ‰«æï¼‰
3. Unit Testsï¼ˆå•å…ƒæµ‹è¯•ï¼‰
4. Integration Testsï¼ˆé›†æˆæµ‹è¯•ï¼‰
5. API Testsï¼ˆAPI æµ‹è¯•ï¼‰
6. Dependency Checkï¼ˆä¾èµ–æ£€æŸ¥ï¼Œä»…ä¸»åˆ†æ”¯ï¼‰
```

### å¦‚æœ CI å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

```bash
# 1. æŸ¥çœ‹ GitHub Actions æ—¥å¿—
# 2. åœ¨æœ¬åœ°å¤ç°é—®é¢˜
# 3. ä¿®å¤é—®é¢˜
# 4. æäº¤å¹¶æ¨é€
git commit -am "fix: resolve CI issues"
git push

# CI ä¼šè‡ªåŠ¨é‡æ–°è¿è¡Œ
```

## ğŸ“ æœ€ä½³å®è·µ

### 1. å°è€Œé¢‘ç¹çš„æäº¤
```bash
âœ… æ¨èï¼šæ¯ä¸ªå°åŠŸèƒ½ä¸€ä¸ªæäº¤
âŒ é¿å…ï¼šä¸€ä¸ªå·¨å¤§çš„æäº¤åŒ…å«å¤šä¸ªåŠŸèƒ½
```

### 2. æœ‰æ„ä¹‰çš„ PR
```bash
âœ… æ¨èï¼šæ¯ä¸ª PR è§£å†³ä¸€ä¸ªé—®é¢˜
âŒ é¿å…ï¼šä¸€ä¸ª PR æ··åˆå¤šä¸ªä¸ç›¸å…³çš„æ”¹åŠ¨
```

### 3. PR æè¿°æ¸…æ™°
```markdown
## æ”¹åŠ¨å†…å®¹
- æ·»åŠ äº†ç”¨æˆ·è®¤è¯åŠŸèƒ½
- å®ç°äº† JWT ä»¤ç‰Œç”Ÿæˆ

## æµ‹è¯•
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡
- âœ… æ‰‹åŠ¨æµ‹è¯•ç™»å½•æµç¨‹

## ç›¸å…³ Issue
Closes #123
```

### 4. åŠæ—¶æ¸…ç†åˆ†æ”¯
```bash
# PR åˆå¹¶åç«‹å³åˆ é™¤
git branch -d feature/old-feature
git push origin --delete feature/old-feature
```

## ğŸ†˜ å¸¸è§é—®é¢˜

### Q: æˆ‘åº”è¯¥ä»å“ªä¸ªåˆ†æ”¯å¼€å§‹å¼€å‘ï¼Ÿ
**A**: 99% çš„æƒ…å†µä» `dev` åˆ†æ”¯åˆ›å»ºæ–°åˆ†æ”¯ã€‚

### Q: feature åˆ†æ”¯æ˜¯å¦éœ€è¦è¿è¡Œ CIï¼Ÿ
**A**: Push æ—¶ä¸è¿è¡Œï¼Œåˆ›å»º PR æ—¶ä¼šè¿è¡Œã€‚è¿™æ ·èŠ‚çœ CI èµ„æºã€‚

### Q: å¦‚ä½•å‘å¸ƒåˆ°ç”Ÿäº§ç¯å¢ƒï¼Ÿ
**A**: åˆ›å»º PR: `dev` â†’ `main`ï¼Œé€šè¿‡ CI å’Œå®¡æŸ¥ååˆå¹¶ï¼Œç„¶åæ‰“æ ‡ç­¾ã€‚

### Q: ç´§æ€¥ä¿®å¤ç”Ÿäº§é—®é¢˜æ€ä¹ˆåŠï¼Ÿ
**A**: ä» `main` åˆ›å»º `hotfix/*` åˆ†æ”¯ï¼Œä¿®å¤ååˆå¹¶å› `main` å’Œ `dev`ã€‚

### Q: å¤šäººåä½œæ—¶å¦‚ä½•é¿å…å†²çªï¼Ÿ
**A**: 
- åŠæ—¶åŒæ­¥ dev çš„æ›´æ–°
- åŠŸèƒ½åˆ†æ”¯ä¿æŒå°è€Œèšç„¦
- é¢‘ç¹æ²Ÿé€šåè°ƒ

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å®Œæ•´åˆ†æ”¯ç­–ç•¥](.github/GIT_BRANCH_STRATEGY.md)
- [CI ä¼˜åŒ–æ–‡æ¡£](../CI_OPTIMIZATION_COMPLETE.md)
- [æäº¤è§„èŒƒ](https://www.conventionalcommits.org/)

---

**è®°ä½**: 
- ğŸ“ é»˜è®¤åˆ†æ”¯ï¼š`dev`
- ğŸŒ± æ–°åŠŸèƒ½ï¼šä» `dev` åˆ›å»º
- ğŸš€ å‘å¸ƒï¼š`dev` â†’ `main`
- ğŸ”¥ ç´§æ€¥ä¿®å¤ï¼šä» `main` åˆ›å»º

**æœ€åæ›´æ–°**: 2025-10-22

