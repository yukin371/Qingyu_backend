# è‡ªåŠ¨åˆ†é…å®¡æŸ¥è€…é…ç½®è¯´æ˜

**åˆ›å»ºæ—¥æœŸ**: 2025-10-22  
**é…ç½®ç‰ˆæœ¬**: 1.0

## ğŸ“‹ é…ç½®æ–‡ä»¶æ¦‚è§ˆ

| æ–‡ä»¶ | ä½œç”¨ | ä¼˜å…ˆçº§ |
|------|------|--------|
| `CODEOWNERS` | åŸºäºæ–‡ä»¶è·¯å¾„è‡ªåŠ¨åˆ†é…å®¡æŸ¥è€… | é«˜ â­ |
| `auto_assign.yml` | é…ç½®è‡ªåŠ¨åˆ†é…è§„åˆ™ | ä¸­ |
| `workflows/auto-assign.yml` | æ‰§è¡Œè‡ªåŠ¨åˆ†é…çš„ Action | ä¸­ |

## ğŸ¯ CODEOWNERS æ–‡ä»¶

### ä½œç”¨
- âœ… GitHub åŸç”Ÿæ”¯æŒï¼Œæ— éœ€é¢å¤–é…ç½®
- âœ… åŸºäºæ–‡ä»¶è·¯å¾„è‡ªåŠ¨åˆ†é…å®¡æŸ¥è€…
- âœ… é€‚ç”¨äºæ‰€æœ‰ PRï¼ˆåŒ…æ‹¬ Dependabotï¼‰
- âœ… å¼ºåˆ¶å®¡æŸ¥ï¼ˆå¯é…åˆåˆ†æ”¯ä¿æŠ¤ä½¿ç”¨ï¼‰

### å·¥ä½œåŸç†

```
1. PR åˆ›å»º
   â†“
2. GitHub æ£€æµ‹ä¿®æ”¹çš„æ–‡ä»¶
   â†“
3. åŒ¹é… CODEOWNERS è§„åˆ™
   â†“
4. è‡ªåŠ¨æ·»åŠ å¯¹åº”çš„å®¡æŸ¥è€…
   â†“
5. å®¡æŸ¥è€…æ”¶åˆ°é€šçŸ¥
```

### è§„åˆ™ç¤ºä¾‹

```
# é€šé…ç¬¦è§„åˆ™
* @yukin371                    # æ‰€æœ‰æ–‡ä»¶

# ç›®å½•è§„åˆ™
api/ @yukin371                 # api ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶
service/ @yukin371             # service ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶

# æ–‡ä»¶ç±»å‹è§„åˆ™
*.go @yukin371                 # æ‰€æœ‰ .go æ–‡ä»¶
*_test.go @yukin371           # æ‰€æœ‰æµ‹è¯•æ–‡ä»¶

# ç‰¹å®šæ–‡ä»¶è§„åˆ™
go.mod @yukin371              # go.mod æ–‡ä»¶
docker-compose*.yml @yukin371 # æ‰€æœ‰ docker-compose æ–‡ä»¶

# ä¼˜å…ˆçº§ï¼šæ›´å…·ä½“çš„è§„åˆ™ä¼˜å…ˆ
# ä¾‹å¦‚ï¼šå¦‚æœä¿®æ”¹äº† api/user.go
# ä¼šåŒ¹é… api/ è§„åˆ™ï¼Œè€Œä¸æ˜¯ * è§„åˆ™
```

### éªŒè¯é…ç½®

```bash
# æœ¬åœ°éªŒè¯è¯­æ³•ï¼ˆå¦‚æœå®‰è£…äº† GitHub CLIï¼‰
gh codeowners check

# æŸ¥çœ‹ç‰¹å®šæ–‡ä»¶çš„æ‰€æœ‰è€…
gh codeowners show path/to/file
```

## ğŸ¤– Auto Assign Action

### ä½œç”¨
- âœ… æ›´çµæ´»çš„è‡ªåŠ¨åˆ†é…è§„åˆ™
- âœ… æ”¯æŒéšæœºåˆ†é…å¤šä¸ªå®¡æŸ¥è€…
- âœ… æ”¯æŒè·³è¿‡å…³é”®å­—ï¼ˆå¦‚ WIPï¼‰
- âœ… å¯ä»¥åˆ†é… Assigneesï¼ˆè´Ÿè´£äººï¼‰

### é…ç½®é€‰é¡¹

```yaml
# auto_assign.yml

# åŸºç¡€é…ç½®
addReviewers: true              # æ·»åŠ å®¡æŸ¥è€…
addAssignees: true              # æ·»åŠ è´Ÿè´£äºº
numberOfReviewers: 1            # åˆ†é…æ•°é‡

# ç”¨æˆ·åˆ—è¡¨
reviewers:
  - yukin371

# è·³è¿‡è§„åˆ™
skipKeywords:
  - wip                         # PR æ ‡é¢˜åŒ…å« wip æ—¶è·³è¿‡
  - "[WIP]"
  - "[skip assign]"
```

### å·¥ä½œæµç¨‹

```
1. PR æ‰“å¼€æˆ–é‡æ–°æ‰“å¼€
   â†“
2. æ£€æŸ¥æ˜¯å¦æ˜¯è‰ç¨¿ PR
   â†“ (ä¸æ˜¯è‰ç¨¿)
3. æ£€æŸ¥ PR æ ‡é¢˜/æè¿°æ˜¯å¦åŒ…å«è·³è¿‡å…³é”®å­—
   â†“ (ä¸åŒ…å«)
4. ä»é…ç½®ä¸­é€‰æ‹©å®¡æŸ¥è€…
   â†“
5. è‡ªåŠ¨æ·»åŠ åˆ° PR
   â†“
6. å‘é€é€šçŸ¥
```

## ğŸ”€ ä¸¤ç§æ–¹å¼çš„å¯¹æ¯”

| ç‰¹æ€§ | CODEOWNERS | Auto Assign Action |
|------|-----------|-------------------|
| GitHub åŸç”Ÿæ”¯æŒ | âœ… | âŒ éœ€è¦ Action |
| åŸºäºæ–‡ä»¶è·¯å¾„ | âœ… | âš ï¸ å¯é…ç½® |
| éšæœºåˆ†é… | âŒ | âœ… |
| è·³è¿‡è‰ç¨¿ PR | âŒ | âœ… |
| å¼ºåˆ¶å®¡æŸ¥ | âœ… é…åˆåˆ†æ”¯ä¿æŠ¤ | âŒ |
| åˆ†é…è´Ÿè´£äºº | âŒ | âœ… |
| é…ç½®å¤æ‚åº¦ | ç®€å• | ä¸­ç­‰ |

## ğŸ“Š æ¨èé…ç½®ç­–ç•¥

### ç­–ç•¥1ï¼šä»…ä½¿ç”¨ CODEOWNERSï¼ˆæ¨èï¼‰â­

**ä¼˜åŠ¿**ï¼š
- âœ… ç®€å•å¯é 
- âœ… GitHub åŸç”Ÿæ”¯æŒ
- âœ… æ— éœ€é¢å¤– Action

**é€‚ç”¨åœºæ™¯**ï¼š
- å°å›¢é˜Ÿï¼ˆ1-3äººï¼‰
- è§„åˆ™ç®€å•
- ä¸»è¦å…³æ³¨ä»£ç å®¡æŸ¥

**é…ç½®**ï¼š
```
åªéœ€ CODEOWNERS æ–‡ä»¶å³å¯
å¯ä»¥åˆ é™¤ auto_assign.yml å’Œ workflows/auto-assign.yml
```

### ç­–ç•¥2ï¼šç»„åˆä½¿ç”¨ï¼ˆåŠŸèƒ½æœ€å…¨ï¼‰

**ä¼˜åŠ¿**ï¼š
- âœ… CODEOWNERS å¤„ç†ä»£ç å®¡æŸ¥
- âœ… Auto Assign å¤„ç†è´Ÿè´£äººåˆ†é…
- âœ… æ”¯æŒè·³è¿‡è‰ç¨¿ PR

**é€‚ç”¨åœºæ™¯**ï¼š
- ä¸­å¤§å›¢é˜Ÿï¼ˆ4+äººï¼‰
- éœ€è¦åŒºåˆ†å®¡æŸ¥è€…å’Œè´Ÿè´£äºº
- å¤æ‚çš„åˆ†é…è§„åˆ™

**é…ç½®**ï¼š
```
CODEOWNERS â†’ åŸºäºæ–‡ä»¶è·¯å¾„çš„å®¡æŸ¥è€…
Auto Assign â†’ è‡ªåŠ¨åˆ†é…è´Ÿè´£äººå’Œè·³è¿‡è§„åˆ™
```

### ç­–ç•¥3ï¼šä»…ä½¿ç”¨ Auto Assign

**ä¼˜åŠ¿**ï¼š
- âœ… çµæ´»æ€§é«˜
- âœ… æ”¯æŒæ‰€æœ‰é«˜çº§åŠŸèƒ½

**åŠ£åŠ¿**ï¼š
- âŒ éœ€è¦ç»´æŠ¤ GitHub Action
- âŒ ä¸æ˜¯ GitHub åŸç”ŸåŠŸèƒ½

**é€‚ç”¨åœºæ™¯**ï¼š
- éœ€è¦å¤æ‚çš„åˆ†é…é€»è¾‘
- éœ€è¦éšæœºåˆ†é…åŠŸèƒ½

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ä½¿ç”¨ï¼ˆCODEOWNERSï¼‰

1. **æ— éœ€é¢å¤–æ“ä½œ**
   - CODEOWNERS æ–‡ä»¶å·²åˆ›å»º
   - ä¸‹æ¬¡ PR è‡ªåŠ¨ç”Ÿæ•ˆ

2. **éªŒè¯**
   ```bash
   # åˆ›å»ºæµ‹è¯• PR
   git checkout -b test-codeowners
   echo "test" >> README.md
   git commit -am "test: verify CODEOWNERS"
   git push origin test-codeowners
   
   # åœ¨ GitHub åˆ›å»º PR
   # æ£€æŸ¥æ˜¯å¦è‡ªåŠ¨æ·»åŠ äº†å®¡æŸ¥è€…
   ```

3. **æŸ¥çœ‹æ•ˆæœ**
   - PR é¡µé¢ä¼šæ˜¾ç¤º "Reviewers" éƒ¨åˆ†
   - è‡ªåŠ¨æ·»åŠ çš„å®¡æŸ¥è€…ä¼šæ˜¾ç¤º
   - å®¡æŸ¥è€…ä¼šæ”¶åˆ°é‚®ä»¶é€šçŸ¥

### é«˜çº§ä½¿ç”¨ï¼ˆAuto Assign Actionï¼‰

1. **å¯ç”¨ Action**
   - æ–‡ä»¶å·²åˆ›å»º
   - ä¸‹æ¬¡ PR æ—¶è‡ªåŠ¨è¿è¡Œ

2. **æŸ¥çœ‹è¿è¡Œç»“æœ**
   ```
   PR â†’ Checks â†’ Auto Assign
   æŸ¥çœ‹æ˜¯å¦æˆåŠŸåˆ†é…
   ```

3. **è°ƒè¯•**
   ```bash
   # æŸ¥çœ‹ Action æ—¥å¿—
   # GitHub â†’ Actions â†’ Auto Assign Reviewers and Assignees
   # ç‚¹å‡»å…·ä½“çš„è¿è¡Œè®°å½•æŸ¥çœ‹æ—¥å¿—
   ```

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

### æ·»åŠ æ›´å¤šå®¡æŸ¥è€…

**CODEOWNERS**:
```
# ä¸åŒç›®å½•ä¸åŒå®¡æŸ¥è€…
api/ @yukin371 @backend-team
service/ @yukin371
test/ @yukin371 @qa-team
```

**auto_assign.yml**:
```yaml
reviewers:
  - yukin371
  - user2
  - user3

numberOfReviewers: 2  # éšæœºé€‰2ä¸ª
```

### åŸºäºæ–‡ä»¶ç±»å‹åˆ†é…

**CODEOWNERS**:
```
# åç«¯ä»£ç 
*.go @backend-team

# å‰ç«¯ä»£ç 
*.ts @frontend-team
*.tsx @frontend-team

# æ–‡æ¡£
*.md @doc-team

# é…ç½®æ–‡ä»¶
*.yml @devops-team
*.yaml @devops-team
docker/* @devops-team
```

### ç‰¹æ®Šè§„åˆ™

**è·³è¿‡æŸäº› PR**:
```yaml
# auto_assign.yml
skipKeywords:
  - "[skip assign]"
  - "[bot]"
  - "chore(deps)"  # è·³è¿‡ä¾èµ–æ›´æ–°
```

**PR æ ‡é¢˜**:
```
chore(deps): update dependencies [skip assign]
```

## ğŸ” æ•…éšœæ’æŸ¥

### CODEOWNERS ä¸å·¥ä½œ

**æ£€æŸ¥**:
1. æ–‡ä»¶ä½ç½®æ˜¯å¦æ­£ç¡®ï¼š`.github/CODEOWNERS`
2. è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼ˆæ¯è¡Œä¸€ä¸ªè§„åˆ™ï¼‰
3. ç”¨æˆ·åæ˜¯å¦æ­£ç¡®ï¼ˆ@usernameï¼‰
4. ç”¨æˆ·æ˜¯å¦æœ‰ä»“åº“è®¿é—®æƒé™

**è§£å†³**:
```bash
# éªŒè¯è¯­æ³•
cat .github/CODEOWNERS

# æ£€æŸ¥ç”¨æˆ·æƒé™
# Settings â†’ Collaborators
```

### Auto Assign Action å¤±è´¥

**å¸¸è§åŸå› **:
1. `GITHUB_TOKEN` æƒé™ä¸è¶³
2. é…ç½®æ–‡ä»¶è·¯å¾„é”™è¯¯
3. ç”¨æˆ·ä¸å­˜åœ¨

**è§£å†³**:
```yaml
# æ£€æŸ¥æƒé™é…ç½®
permissions:
  contents: read
  pull-requests: write  # å¿…éœ€

# æ£€æŸ¥é…ç½®è·¯å¾„
configuration-path: ".github/auto_assign.yml"  # ç¡®ä¿æ­£ç¡®
```

## ğŸ“ˆ æœ€ä½³å®è·µ

1. **ä»ç®€å•å¼€å§‹**
   - å…ˆåªä½¿ç”¨ CODEOWNERS
   - éœ€è¦æ—¶å†æ·»åŠ  Auto Assign

2. **ä¿æŒè§„åˆ™æ¸…æ™°**
   - æ·»åŠ æ³¨é‡Šè¯´æ˜è§„åˆ™ç”¨é€”
   - å®šæœŸå®¡æŸ¥å’Œæ›´æ–°è§„åˆ™

3. **æµ‹è¯•é…ç½®**
   - åˆ›å»ºæµ‹è¯• PR éªŒè¯
   - ç¡®ä¿é€šçŸ¥æ­£å¸¸å·¥ä½œ

4. **å›¢é˜Ÿåä½œ**
   - è®©å›¢é˜ŸçŸ¥é“è‡ªåŠ¨åˆ†é…è§„åˆ™
   - åŸ¹è®­å¦‚ä½•æ­£ç¡®ä½¿ç”¨

5. **ç›‘æ§æ•ˆæœ**
   - å®šæœŸæ£€æŸ¥æ˜¯å¦æ­£ç¡®åˆ†é…
   - æ”¶é›†å›¢é˜Ÿåé¦ˆä¼˜åŒ–è§„åˆ™

## ğŸ¯ é’ˆå¯¹ Dependabot çš„ä¼˜åŒ–

**CODEOWNERS**:
```
# Dependabot ä¼šä¿®æ”¹è¿™äº›æ–‡ä»¶
go.mod @yukin371
go.sum @yukin371
.github/workflows/* @yukin371
docker/Dockerfile* @yukin371

# Dependabot åˆ›å»ºçš„ PR ä¼šè‡ªåŠ¨åˆ†é…å®¡æŸ¥è€…
```

**æ•ˆæœ**:
```
Dependabot åˆ›å»º PR
   â†“
è‡ªåŠ¨åˆ†é… @yukin371 ä¸ºå®¡æŸ¥è€…
   â†“
@yukin371 æ”¶åˆ°é‚®ä»¶é€šçŸ¥
   â†“
å®¡æŸ¥å¹¶åˆå¹¶
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [GitHub CODEOWNERS æ–‡æ¡£](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners)
- [Auto Assign Action](https://github.com/kentaro-m/auto-assign-action)
- [åˆ†æ”¯ä¿æŠ¤è§„åˆ™](https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/managing-protected-branches/about-protected-branches)

## ğŸ”„ ç»´æŠ¤æ¸…å•

- [ ] å®šæœŸå®¡æŸ¥ CODEOWNERS è§„åˆ™
- [ ] å›¢é˜Ÿæˆå‘˜å˜åŠ¨æ—¶æ›´æ–°é…ç½®
- [ ] æµ‹è¯•æ–°è§„åˆ™æ˜¯å¦ç”Ÿæ•ˆ
- [ ] æ”¶é›†å›¢é˜Ÿåé¦ˆ
- [ ] ä¼˜åŒ–è‡ªåŠ¨åˆ†é…ç­–ç•¥

---

**ç»´æŠ¤è€…**: @yukin371  
**æœ€åæ›´æ–°**: 2025-10-22  
**é…ç½®ç‰ˆæœ¬**: 1.0

## ğŸ’¡ å¿«é€Ÿå‚è€ƒ

**åªæƒ³è¦åŸºç¡€åŠŸèƒ½ï¼Ÿ**
â†’ ä¿ç•™ CODEOWNERSï¼Œåˆ é™¤å…¶ä»–æ–‡ä»¶

**éœ€è¦æ›´å¤šæ§åˆ¶ï¼Ÿ**
â†’ åŒæ—¶ä½¿ç”¨ CODEOWNERS å’Œ Auto Assign

**é…ç½®ä¸ç”Ÿæ•ˆï¼Ÿ**
â†’ æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"æ•…éšœæ’æŸ¥"éƒ¨åˆ†

