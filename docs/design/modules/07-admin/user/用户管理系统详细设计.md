# ç”¨æˆ·ç®¡ç†ç³»ç»Ÿè¯¦ç»†è®¾è®¡

> **æ¨¡å—**: 07 - ç®¡ç†
> **åŠŸèƒ½**: ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ
> **å®Œæˆåº¦**: ğŸŸ¢ 85%

## ğŸ“‹ æ¦‚è¿°

ç”¨æˆ·ç®¡ç†ç³»ç»Ÿä¸ºç®¡ç†å‘˜æä¾›ç”¨æˆ·æŸ¥è¯¢ã€ç®¡ç†ã€å°ç¦ç­‰åŠŸèƒ½ï¼Œæ”¯æŒç”¨æˆ·çŠ¶æ€ç®¡ç†å’Œæ“ä½œæ—¥å¿—è®°å½•ã€‚

## ğŸ¯ æ ¸å¿ƒåŠŸèƒ½

### 1. ç”¨æˆ·æŸ¥è¯¢

- **ç”¨æˆ·åˆ—è¡¨**: åˆ†é¡µæŸ¥è¯¢ç”¨æˆ·åˆ—è¡¨
- **ç”¨æˆ·æœç´¢**: æŒ‰ç”¨æˆ·åã€é‚®ç®±ã€æ‰‹æœºå·æœç´¢
- **ç”¨æˆ·ç­›é€‰**: æŒ‰çŠ¶æ€ã€è§’è‰²ã€æ³¨å†Œæ—¶é—´ç­›é€‰
- **ç”¨æˆ·è¯¦æƒ…**: æŸ¥çœ‹ç”¨æˆ·è¯¦ç»†ä¿¡æ¯

### 2. ç”¨æˆ·ç®¡ç†

- **ä¿®æ”¹çŠ¶æ€**: å¯ç”¨/ç¦ç”¨ç”¨æˆ·
- **è§’è‰²è°ƒæ•´**: è°ƒæ•´ç”¨æˆ·è§’è‰²
- **é‡ç½®å¯†ç **: ç®¡ç†å‘˜é‡ç½®ç”¨æˆ·å¯†ç 
- **åˆ é™¤ç”¨æˆ·**: åˆ é™¤ç”¨æˆ·ï¼ˆè½¯åˆ é™¤ï¼‰

### 3. æ“ä½œæ—¥å¿—

- **æ“ä½œè®°å½•**: è®°å½•ç®¡ç†å‘˜æ“ä½œ
- **æ—¥å¿—æŸ¥è¯¢**: æŸ¥è¯¢æ“ä½œæ—¥å¿—
- **å¼‚å¸¸å‘Šè­¦**: å¼‚å¸¸æ“ä½œå‘Šè­¦

## ğŸ“Š æ•°æ®æ¨¡å‹

### AdminOperation (ç®¡ç†å‘˜æ“ä½œ)

```go
type AdminOperation struct {
    ID              primitive.ObjectID   `bson:"_id,omitempty" json:"id"`
    AdminID         primitive.ObjectID   `bson:"admin_id" json:"adminId"`
    OperationType   OperationType        `bson:"operation_type" json:"operationType"`
    TargetType      string               `bson:"target_type" json:"targetType"`
    TargetID        primitive.ObjectID   `bson:"target_id" json:"targetId"`
    Details         map[string]interface{} `bson:"details,omitempty" json:"details,omitempty"`
    IP              string               `bson:"ip" json:"ip"`
    UserAgent       string               `bson:"user_agent" json:"userAgent"`
    CreatedAt       time.Time            `bson:"created_at" json:"createdAt"`
}

type OperationType string
const (
    OpTypeViewUser        OperationType = "view_user"
    OpTypeUpdateUser      OperationType = "update_user"
    OpTypeBanUser         OperationType = "ban_user"
    OpTypeUnbanUser       OperationType = "unban_user"
    OpTypeDeleteUser      OperationType = "delete_user"
    OpTypeResetPassword   OperationType = "reset_password"
    OpTypeChangeRole      OperationType = "change_role"
)
```

## ğŸŒ APIç«¯ç‚¹

### ç”¨æˆ·æŸ¥è¯¢

| æ–¹æ³• | è·¯å¾„ | æè¿° | è®¤è¯ |
|------|------|------|------|
| GET | /api/v1/admin/users | è·å–ç”¨æˆ·åˆ—è¡¨ | æ˜¯(ç®¡ç†å‘˜) |
| GET | /api/v1/admin/users/:id | è·å–ç”¨æˆ·è¯¦æƒ… | æ˜¯(ç®¡ç†å‘˜) |
| GET | /api/v1/admin/users/search | æœç´¢ç”¨æˆ· | æ˜¯(ç®¡ç†å‘˜) |

### ç”¨æˆ·ç®¡ç†

| æ–¹æ³• | è·¯å¾„ | æè¿° | è®¤è¯ |
|------|------|------|------|
| PUT | /api/v1/admin/users/:id/status | æ›´æ–°ç”¨æˆ·çŠ¶æ€ | æ˜¯(ç®¡ç†å‘˜) |
| PUT | /api/v1/admin/users/:id/roles | æ›´æ–°ç”¨æˆ·è§’è‰² | æ˜¯(ç®¡ç†å‘˜) |
| POST | /api/v1/admin/users/:id/reset-password | é‡ç½®ç”¨æˆ·å¯†ç  | æ˜¯(ç®¡ç†å‘˜) |
| DELETE | /api/v1/admin/users/:id | åˆ é™¤ç”¨æˆ· | æ˜¯(ç®¡ç†å‘˜) |

### æ“ä½œæ—¥å¿—

| æ–¹æ³• | è·¯å¾„ | æè¿° | è®¤è¯ |
|------|------|------|------|
| GET | /api/v1/admin/operation-logs | è·å–æ“ä½œæ—¥å¿— | æ˜¯(ç®¡ç†å‘˜) |

## ğŸ”„ æ ¸å¿ƒæµç¨‹

### ç”¨æˆ·å°ç¦æµç¨‹

```
1. ç®¡ç†å‘˜é€‰æ‹©ç”¨æˆ·
   â†“
2. é€‰æ‹©å°ç¦åŸå› 
   â†“
3. è¾“å…¥å°ç¦æ—¶é•¿ï¼ˆå¯é€‰ï¼‰
   â†“
4. ç¡®è®¤å°ç¦
   â†“
5. åç«¯æ›´æ–°ç”¨æˆ·çŠ¶æ€
   â†“
6. æ¸…é™¤ç”¨æˆ·ä¼šè¯
   â†“
7. è®°å½•æ“ä½œæ—¥å¿—
   â†“
8. å‘é€é€šçŸ¥ï¼ˆå¯é€‰ï¼‰
   â†“
9. è¿”å›ç»“æœ
```

### è§’è‰²è°ƒæ•´æµç¨‹

```
1. ç®¡ç†å‘˜é€‰æ‹©ç”¨æˆ·
   â†“
2. æŸ¥çœ‹å½“å‰è§’è‰²
   â†“
3. é€‰æ‹©æ–°è§’è‰²
   â†“
4. ç¡®è®¤è°ƒæ•´
   â†“
5. åç«¯æ›´æ–°ç”¨æˆ·è§’è‰²
   â†“
6. è®°å½•æ“ä½œæ—¥å¿—
   â†“
7. å‘é€é€šçŸ¥
   â†“
8. è¿”å›ç»“æœ
```

## ğŸ”§ ä¸šåŠ¡è§„åˆ™

### ç”¨æˆ·çŠ¶æ€ç®¡ç†

- **active**: æ­£å¸¸ç”¨æˆ·ï¼Œå¯ä»¥æ­£å¸¸ä½¿ç”¨
- **inactive**: éæ´»è·ƒç”¨æˆ·ï¼Œé™åˆ¶éƒ¨åˆ†åŠŸèƒ½
- **banned**: å°ç¦ç”¨æˆ·ï¼Œç¦æ­¢ç™»å½•
- **deleted**: å·²åˆ é™¤ç”¨æˆ·

### è§’è‰²æƒé™

| è§’è‰² | æƒé™æè¿° |
|------|---------|
| user | æ™®é€šç”¨æˆ·ï¼ŒåŸºç¡€åŠŸèƒ½ |
| author | ä½œè€…ï¼Œå¯å‘å¸ƒä½œå“ |
| editor | ç¼–è¾‘ï¼Œå¯å®¡æ ¸å†…å®¹ |
| admin | ç®¡ç†å‘˜ï¼Œåå°ç®¡ç†æƒé™ |
| superadmin | è¶…çº§ç®¡ç†å‘˜ï¼Œæ‰€æœ‰æƒé™ |

### æ“ä½œæ—¥å¿—è§„åˆ™

- æ‰€æœ‰ç®¡ç†æ“ä½œå¿…é¡»è®°å½•æ—¥å¿—
- æ—¥å¿—ä¿ç•™1å¹´
- æ•æ„Ÿæ“ä½œéœ€è¦äºŒæ¬¡ç¡®è®¤

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

- æ—¥æ´»ç”¨æˆ·æ•°
- æœˆæ´»ç”¨æˆ·æ•°
- æ–°å¢ç”¨æˆ·æ•°
- å°ç¦ç”¨æˆ·æ•°
- ç”¨æˆ·ç•™å­˜ç‡

---

**æ–‡æ¡£ç»´æŠ¤**: é’ç¾½åç«¯æ¶æ„å›¢é˜Ÿ
**æœ€åæ›´æ–°**: 2025-01-06
