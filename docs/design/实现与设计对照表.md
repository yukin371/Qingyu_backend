# å®ç°ä¸è®¾è®¡å¯¹ç…§è¡¨

> **ç”Ÿæˆæ—¥æœŸ**: 2025-10-21  
> **æ•°æ®æ¥æº**: è®¾è®¡æ–‡æ¡£å®¡è®¡æ€»æŠ¥å‘Š  
> **è¦†ç›–èŒƒå›´**: å…¨éƒ¨æ¨¡å—ï¼ˆæ’é™¤AIæ¨¡å—ï¼‰

---

## è¯´æ˜

æœ¬å¯¹ç…§è¡¨æä¾›äº†å®ç°ä»£ç ä¸è®¾è®¡æ–‡æ¡£çš„å®Œæ•´æ˜ å°„å…³ç³»ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½ï¼š
- æ¯ä¸ªæ•°æ®æ¨¡å‹å¯¹åº”çš„è®¾è®¡æ–‡æ¡£
- æ¯ä¸ªä¸šåŠ¡æœåŠ¡å¯¹åº”çš„è®¾è®¡æ–‡æ¡£
- æ¯ä¸ªAPIæ¥å£å¯¹åº”çš„APIæ–‡æ¡£

**å›¾ä¾‹**:
- âœ… **å·²æœ‰å®Œæ•´è®¾è®¡** - è®¾è®¡æ–‡æ¡£å®Œæ•´ï¼Œå®ç°ä¸è®¾è®¡ä¸€è‡´
- âš ï¸ **éƒ¨åˆ†è®¾è®¡** - æœ‰è®¾è®¡æ–‡æ¡£ä½†ä¸å®Œæ•´ï¼Œæˆ–å®ç°ä¸è®¾è®¡éƒ¨åˆ†ä¸ä¸€è‡´
- âŒ **ç¼ºå¤±è®¾è®¡** - å®Œå…¨ç¼ºå°‘è®¾è®¡æ–‡æ¡£
- ğŸ”§ **éœ€è¦é‡æ„** - å®ç°å­˜åœ¨æ¶æ„é—®é¢˜ï¼Œéœ€è¦é‡æ„

---

## 1. Modelså±‚å¯¹ç…§è¡¨

### 1.1 Auditæ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| AuditRecord | `models/audit/audit_record.go` | âŒ ç¼ºå¤± | âŒ |
| ViolationDetail | `models/audit/audit_record.go` | âŒ ç¼ºå¤± | âŒ |
| SensitiveWord | `models/audit/sensitive_word.go` | âŒ ç¼ºå¤± | âŒ |
| ViolationRecord | `models/audit/violation_record.go` | âŒ ç¼ºå¤± | âŒ |
| UserViolationSummary | `models/audit/violation_record.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**: éœ€è¦åˆ›å»º"å®¡æ ¸ç³»ç»Ÿæ•°æ®æ¨¡å‹è®¾è®¡.md"

### 1.2 Documentæ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| Project | `models/document/project.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| Node | `models/document/node.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| Document | `models/document/document.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| DocumentContent | `models/document/document_content.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| Character | `models/document/character.go` | âŒ ç¼ºå¤± | âŒ |
| CharacterRelation | `models/document/character.go` | âŒ ç¼ºå¤± | âŒ |
| Location | `models/document/location.go` | âŒ ç¼ºå¤± | âŒ |
| LocationRelation | `models/document/location.go` | âŒ ç¼ºå¤± | âŒ |
| Timeline | `models/document/timeline.go` | âŒ ç¼ºå¤± | âŒ |
| TimelineEvent | `models/document/timeline.go` | âŒ ç¼ºå¤± | âŒ |
| StoryTime | `models/document/timeline.go` | âŒ ç¼ºå¤± | âŒ |
| ShortcutConfig | `models/document/shortcut.go` | âŒ ç¼ºå¤± | âŒ |
| Shortcut | `models/document/shortcut.go` | âŒ ç¼ºå¤± | âŒ |
| Version | `models/document/version.go` | âš ï¸ éƒ¨åˆ† | âš ï¸ |
| Commit (æ—§) | `models/document/version.go` | âš ï¸ æ—§è®¾è®¡ | âš ï¸ |
| FileRevision (æ—§) | `models/document/version.go` | âš ï¸ æ—§è®¾è®¡ | âš ï¸ |
| FilePatch (æ—§) | `models/document/version.go` | âš ï¸ æ—§è®¾è®¡ | âš ï¸ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"è®¾å®šç™¾ç§‘æ•°æ®æ¨¡å‹è¯¦ç»†è®¾è®¡.md" (Character/Location/Timeline)
- éœ€è¦åˆ›å»º"å¿«æ·é”®ç³»ç»Ÿæ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦è¡¥å……"ç‰ˆæœ¬ç®¡ç†æ•°æ®æ¨¡å‹è®¾è®¡.md" (æ–°æ¶æ„Version)

### 1.3 Readingæ¨¡å—

#### Bookstoreå­æ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| Banner | `models/reading/bookstore/banner.go` | âŒ ç¼ºå¤± | âŒ |
| Book | `models/reading/bookstore/book.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| BookDetail | `models/reading/bookstore/book_detail.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| BookRating | `models/reading/bookstore/book_rating.go` | âŒ ç¼ºå¤± | âŒ |
| BookStatistics | `models/reading/bookstore/book_statistics.go` | âŒ ç¼ºå¤± | âŒ |
| Category | `models/reading/bookstore/category.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| Chapter | `models/reading/bookstore/chapter.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| Ranking | `models/reading/bookstore/ranking.go` | âŒ ç¼ºå¤± | âŒ |

#### Readerå­æ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| Annotation | `models/reading/reader/annotation.go` | âŒ ç¼ºå¤± | âŒ |
| ReaderChapter | `models/reading/reader/chapter.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| ReadingProgress | `models/reading/reader/readingprogress.go` | âŒ ç¼ºå¤± | âŒ |
| ReadingSettings | `models/reading/reader/readingsettings.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"æ¦œå•ç³»ç»Ÿæ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦åˆ›å»º"è¯„åˆ†ç³»ç»Ÿæ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦åˆ›å»º"æ ‡æ³¨ç³»ç»Ÿæ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦åˆ›å»º"é˜…è¯»å™¨æ•°æ®æ¨¡å‹è®¾è®¡.md" (ReadingProgress/ReadingSettings)
- éœ€è¦è¡¥å……"ä¹¦ç±æ•°æ®æ¨¡å‹è¯¦ç»†è®¾è®¡.md"

### 1.4 Recommendationæ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| Behavior | `models/recommendation/reco/behavior.go` | âš ï¸ ç®—æ³•æ–‡æ¡£ | âš ï¸ |
| Item | `models/recommendation/reco/item.go` | âš ï¸ ç®—æ³•æ–‡æ¡£ | âš ï¸ |
| Profile | `models/recommendation/reco/profile.go` | âš ï¸ ç®—æ³•æ–‡æ¡£ | âš ï¸ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦è¡¥å……"æ¨èæ•°æ®æ¨¡å‹è¯¦ç»†è®¾è®¡.md" (åŸºäºç°æœ‰ç®—æ³•æ–‡æ¡£)

### 1.5 Sharedæ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| Admin | `models/shared/admin/admin.go` | âŒ ç¼ºå¤± | âŒ |
| Role | `models/shared/auth/role.go`, `models/users/role.go` | âŒ ç¼ºå¤± | âŒ |
| Session | `models/shared/auth/session.go` | âŒ ç¼ºå¤± | âŒ |
| Message | `models/shared/messaging/message.go` | âŒ ç¼ºå¤± | âŒ |
| File | `models/shared/storage/file.go` | âŒ ç¼ºå¤± | âŒ |
| Wallet | `models/shared/wallet/wallet.go` | `doc/design/shared/é’±åŒ…æœåŠ¡è®¾è®¡.md` | âœ… |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"ç®¡ç†å‘˜æ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦åˆ›å»º"è§’è‰²æƒé™æ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦åˆ›å»º"ä¼šè¯ç®¡ç†æ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦åˆ›å»º"æ¶ˆæ¯æ•°æ®æ¨¡å‹è®¾è®¡.md"
- éœ€è¦åˆ›å»º"æ–‡ä»¶å­˜å‚¨æ•°æ®æ¨¡å‹è®¾è®¡.md"

### 1.6 Statsæ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| BookStats | `models/stats/book_stats.go` | âŒ ç¼ºå¤± | âŒ |
| ChapterStats | `models/stats/chapter_stats.go` | âŒ ç¼ºå¤± | âŒ |
| ReaderBehavior | `models/stats/reader_behavior.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"ç»Ÿè®¡åˆ†ææ•°æ®æ¨¡å‹è®¾è®¡.md"

### 1.7 Usersæ¨¡å—

| æ•°æ®æ¨¡å‹ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| User | `models/users/user.go` | âš ï¸ é¡¹ç›®è§„åˆ™ç¤ºä¾‹ | âš ï¸ |
| Role | `models/users/role.go` | âŒ ç¼ºå¤± | âŒ |
| UserFilter | `models/users/user_filter.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦è¡¥å……"ç”¨æˆ·æ•°æ®æ¨¡å‹å®Œæ•´è®¾è®¡.md"

---

## 2. Serviceå±‚å¯¹ç…§è¡¨

### 2.1 Auditæ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| ContentAuditService | `service/audit/content_audit_service.go` | âŒ ç¼ºå¤± | âš ï¸ |
| RuleEngine | `service/audit/rule_engine.go` | âŒ ç¼ºå¤± | âŒ |

**å®ç°ç‰¹ç‚¹**:
- âœ… å®Œæ•´çš„ä¾èµ–æ³¨å…¥ï¼ˆRepository + EventBusï¼‰
- âœ… DFAç®—æ³•æ•æ„Ÿè¯æ£€æµ‹
- âœ… è§„åˆ™å¼•æ“å¯æ‰©å±•
- âœ… äº‹ä»¶é©±åŠ¨è®¾è®¡

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"å†…å®¹å®¡æ ¸è§„åˆ™å¼•æ“è®¾è®¡.md"
- éœ€è¦åˆ›å»º"å®¡æ ¸æµç¨‹è¯¦ç»†è®¾è®¡.md"

### 2.2 Bookstoreæ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| BookstoreServiceImpl | `service/bookstore/bookstore_service.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| CachedBookstoreService | `service/bookstore/cached_bookstore_service.go` | âŒ ç¼ºå¤± | âŒ |
| CacheService | `service/bookstore/cache_service.go` | âŒ ç¼ºå¤± | âŒ |
| RankingScheduler | `service/bookstore/ranking_scheduler.go` | âŒ ç¼ºå¤± | âŒ |
| BookDetailService | `service/bookstore/book_detail_service.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| BookRatingService | `service/bookstore/book_rating_service.go` | âŒ ç¼ºå¤± | âŒ |
| BookStatisticsService | `service/bookstore/book_statistics_service.go` | âŒ ç¼ºå¤± | âŒ |
| ChapterService | `service/bookstore/chapter_service.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |

**å®ç°ç‰¹ç‚¹**:
- âœ… RankingSchedulerå®šæ—¶ä»»åŠ¡ï¼ˆå®æ—¶/å‘¨/æœˆ/æ–°äººæ¦œï¼‰
- âš ï¸ ç¼ºå°‘ç»Ÿä¸€ç¼“å­˜ç­–ç•¥

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"æ¦œå•ç³»ç»Ÿè¯¦ç»†è®¾è®¡.md" (RankingScheduler)
- éœ€è¦åˆ›å»º"è¯„åˆ†ç³»ç»Ÿè®¾è®¡.md"
- éœ€è¦åˆ›å»º"ä¹¦åŸç¼“å­˜ç­–ç•¥è®¾è®¡.md"

### 2.3 Documentæ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| DocumentService | `service/document/document_service.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| ShortcutService | `service/document/shortcut_service.go` | âŒ ç¼ºå¤± | âŒ |
| WordCountService | `service/document/wordcount_service.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"å¿«æ·é”®ç³»ç»Ÿè®¾è®¡.md"
- éœ€è¦åˆ›å»º"å­—æ•°ç»Ÿè®¡æœåŠ¡è®¾è®¡.md"

### 2.4 Projectæ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| ProjectService | `service/project/project_service.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| NodeService | `service/project/node_service.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| DocumentService | `service/project/document_service.go` | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | âœ… |
| VersionService | `service/project/version_service.go` | âš ï¸ æ—§è®¾è®¡ | ğŸ”§ |

**æ¶æ„é—®é¢˜**:
- ğŸ”§ **VersionServiceéœ€è¦é‡æ„**ï¼š
  - âŒ ç›´æ¥ä½¿ç”¨global.DB
  - âŒ æ²¡æœ‰Repositoryå±‚
  - âŒ ä½¿ç”¨æ—§æ•°æ®æ¨¡å‹
  - âŒ æ²¡æœ‰äº‹ä»¶å‘å¸ƒ

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"ç‰ˆæœ¬ç®¡ç†æœåŠ¡é‡æ„è®¾è®¡.md" âš ï¸ **é‡è¦**

### 2.5 Readingæ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| ReaderService | `service/reading/reader_service.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| AnnotationCacheService | `service/reading/annotation_cache_service.go` | âŒ ç¼ºå¤± | âŒ |
| ReaderCacheService | `service/reading/reader_cache_service.go` | âŒ ç¼ºå¤± | âŒ |
| SettingService | `service/reading/setting_service.go` | âš ï¸ APIæ–‡æ¡£ | âš ï¸ |
| VIPPermissionService | `service/reading/vip_permission_service.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"æ ‡æ³¨ç¼“å­˜è®¾è®¡.md"
- éœ€è¦åˆ›å»º"é˜…è¯»å™¨ç¼“å­˜è®¾è®¡.md"
- éœ€è¦åˆ›å»º"VIPæƒé™æœåŠ¡è®¾è®¡.md"

### 2.6 Recommendationæ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| RecommendationService | `service/recommendation/recommendation_service.go` | âš ï¸ ç®—æ³•æ–‡æ¡£ | âš ï¸ |
| RecommendationCacheService | `service/recommendation/recommendation_cache_service.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"æ¨èç¼“å­˜ç­–ç•¥è®¾è®¡.md"

### 2.7 Sharedæ¨¡å—

#### Adminå­æ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| AdminService | `service/shared/admin/admin_service.go` | âŒ ç¼ºå¤± | âŒ |

#### Authå­æ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| AuthService | `service/shared/auth/auth_service.go` | âš ï¸ éƒ¨åˆ† | âš ï¸ |
| JWTService | `service/shared/auth/jwt_service.go` | `doc/design/shared/JWTè®¤è¯è®¾è®¡.md` | âœ… |
| PermissionService | `service/shared/auth/permission_service.go` | âŒ ç¼ºå¤± | âŒ |
| RoleService | `service/shared/auth/role_service.go` | âŒ ç¼ºå¤± | âŒ |
| SessionService | `service/shared/auth/session_service.go` | âŒ ç¼ºå¤± | âŒ |

#### Messagingå­æ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| MessagingService | `service/shared/messaging/messaging_service.go` | âŒ ç¼ºå¤± | âŒ |
| NotificationService | `service/shared/messaging/notification_service.go` | âŒ ç¼ºå¤± | âŒ |

#### Storageå­æ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| StorageService | `service/shared/storage/storage_service.go` | âŒ ç¼ºå¤± | âŒ |
| LocalBackend | `service/shared/storage/local_backend.go` | âŒ ç¼ºå¤± | âŒ |

#### Walletå­æ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| UnifiedWalletService | `service/shared/wallet/unified_wallet_service.go` | `doc/design/shared/é’±åŒ…æœåŠ¡è®¾è®¡.md` | âœ… |
| TransactionService | `service/shared/wallet/transaction_service.go` | `doc/design/shared/é’±åŒ…æœåŠ¡è®¾è®¡.md` | âœ… |
| WithdrawService | `service/shared/wallet/withdraw_service.go` | `doc/design/shared/é’±åŒ…æœåŠ¡è®¾è®¡.md` | âœ… |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"è§’è‰²æƒé™ç³»ç»Ÿè®¾è®¡.md" âš ï¸ **é‡è¦**
- éœ€è¦åˆ›å»º"ä¼šè¯ç®¡ç†ç³»ç»Ÿè®¾è®¡.md"
- éœ€è¦åˆ›å»º"æ¶ˆæ¯é€šçŸ¥ç³»ç»Ÿè¯¦ç»†è®¾è®¡.md"
- éœ€è¦åˆ›å»º"å­˜å‚¨æœåŠ¡è®¾è®¡.md"

### 2.8 Statsæ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| StatsService | `service/stats/stats_service.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"ç»Ÿè®¡åˆ†æç³»ç»Ÿè®¾è®¡.md"

### 2.9 Useræ¨¡å—

| ä¸šåŠ¡æœåŠ¡ | å®ç°æ–‡ä»¶ | è®¾è®¡æ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| UserService | `service/user/user_service.go` | âš ï¸ é¡¹ç›®è§„åˆ™ç¤ºä¾‹ | âš ï¸ |
| TransactionManager | `service/user/transaction_manager.go` | âŒ ç¼ºå¤± | âŒ |
| UserValidator | `service/user/user_validator.go` | âŒ ç¼ºå¤± | âŒ |

**è®¾è®¡æ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"ç”¨æˆ·äº‹åŠ¡ç®¡ç†è®¾è®¡.md"
- éœ€è¦åˆ›å»º"ç”¨æˆ·éªŒè¯è®¾è®¡.md"

---

## 3. APIå±‚å¯¹ç…§è¡¨

### 3.1 Readeræ¨¡å—

| APIæ–‡ä»¶ | å®ç°æ–‡ä»¶ | APIæ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| AnnotationsApi | `api/v1/reader/annotations_api.go` | `doc/api/reader/é˜…è¯»å™¨APIæ–‡æ¡£.md` | âš ï¸ |
| AnnotationsApiOptimized | `api/v1/reader/annotations_api_optimized.go` | `doc/api/reader/é˜…è¯»å™¨APIæ–‡æ¡£.md` | âš ï¸ |
| BooksApi | `api/v1/reader/books_api.go` | `doc/api/reader/é˜…è¯»å™¨APIæ–‡æ¡£.md` | âš ï¸ |
| ChaptersApi | `api/v1/reader/chapters_api.go` | `doc/api/reader/é˜…è¯»å™¨APIæ–‡æ¡£.md` | âš ï¸ |
| ProgressApi | `api/v1/reader/progress.go` | `doc/api/reader/é˜…è¯»å™¨APIæ–‡æ¡£.md` | âš ï¸ |
| SettingApi | `api/v1/reader/setting_api.go` | `doc/api/reader/é˜…è¯»å™¨APIæ–‡æ¡£.md` | âš ï¸ |

**APIæ–‡æ¡£çŠ¶æ€**: âš ï¸ éœ€è¦éªŒè¯å®Œæ•´æ€§

### 3.2 Readingæ¨¡å—

| APIæ–‡ä»¶ | å®ç°æ–‡ä»¶ | APIæ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| BookstoreApi | `api/v1/reading/bookstore_api.go` | `doc/api/bookstore/ä¹¦åŸAPIæ–‡æ¡£.md` | âš ï¸ |
| BookDetailApi | `api/v1/reading/book_detail_api.go` | `doc/api/bookstore/ä¹¦åŸAPIæ–‡æ¡£.md` | âš ï¸ |
| BookRatingApi | `api/v1/reading/book_rating_api.go` | âŒ ç¼ºå¤± | âŒ |
| BookStatisticsApi | `api/v1/reading/book_statistics_api.go` | âŒ ç¼ºå¤± | âŒ |
| ChapterApi | `api/v1/reading/chapter_api.go` | `doc/api/bookstore/ä¹¦åŸAPIæ–‡æ¡£.md` | âš ï¸ |

**APIæ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"ä¹¦ç±è¯„åˆ†APIæ–‡æ¡£.md"
- éœ€è¦åˆ›å»º"ä¹¦ç±ç»Ÿè®¡APIæ–‡æ¡£.md"

### 3.3 Recommendationæ¨¡å—

| APIæ–‡ä»¶ | å®ç°æ–‡ä»¶ | APIæ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| RecommendationApi | `api/v1/recommendation/recommendation_api.go` | `doc/api/recommendation/æ¨èAPIæ–‡æ¡£.md` | âš ï¸ |
| PersonalApi | `api/v1/recommendation/personal.go` | `doc/api/recommendation/æ¨èAPIæ–‡æ¡£.md` | âš ï¸ |
| SimilarApi | `api/v1/recommendation/similar.go` | `doc/api/recommendation/æ¨èAPIæ–‡æ¡£.md` | âš ï¸ |

**APIæ–‡æ¡£çŠ¶æ€**: âš ï¸ éœ€è¦éªŒè¯å®Œæ•´æ€§

### 3.4 Sharedæ¨¡å—

| APIæ–‡ä»¶ | å®ç°æ–‡ä»¶ | APIæ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| AdminApi | `api/v1/shared/admin_api.go` | âŒ ç¼ºå¤± | âŒ |
| AuthApi | `api/v1/shared/auth_api.go` | `doc/api/shared/è®¤è¯æˆæƒAPIæ–‡æ¡£.md` | âš ï¸ |
| StorageApi | `api/v1/shared/storage_api.go` | âŒ ç¼ºå¤± | âŒ |
| WalletApi | `api/v1/shared/wallet_api.go` | `doc/api/shared/é’±åŒ…APIæ–‡æ¡£.md` | âš ï¸ |

**APIæ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"ç®¡ç†å‘˜APIæ–‡æ¡£.md"
- éœ€è¦åˆ›å»º"å­˜å‚¨APIæ–‡æ¡£.md"

### 3.5 Systemæ¨¡å—

| APIæ–‡ä»¶ | å®ç°æ–‡ä»¶ | APIæ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| SysUserApi | `api/v1/system/sys_user.go` | `doc/api/system/ç”¨æˆ·ç®¡ç†APIæ–‡æ¡£.md` | âš ï¸ |

**APIæ–‡æ¡£çŠ¶æ€**: âš ï¸ éœ€è¦éªŒè¯å®Œæ•´æ€§

### 3.6 Writeræ¨¡å—

| APIæ–‡ä»¶ | å®ç°æ–‡ä»¶ | APIæ–‡æ¡£ | çŠ¶æ€ |
|---------|---------|---------|------|
| AuditApi | `api/v1/writer/audit_api.go` | âŒ ç¼ºå¤± | âŒ |
| DocumentApi | `api/v1/writer/document_api.go` | `doc/api/document/æ–‡æ¡£APIè®¾è®¡æ–‡æ¡£.md` | âš ï¸ |
| EditorApi | `api/v1/writer/editor_api.go` | âŒ ç¼ºå¤± | âŒ |
| ProjectApi | `api/v1/writer/project_api.go` | `doc/api/document/é¡¹ç›®ç®¡ç†API.md` | âš ï¸ |
| StatsApi | `api/v1/writer/stats_api.go` | âŒ ç¼ºå¤± | âŒ |
| VersionApi | `api/v1/writer/version_api.go` | `doc/api/document/ç‰ˆæœ¬ç®¡ç†API.md` | âš ï¸ |

**APIæ–‡æ¡£ç¼ºå¤±**:
- éœ€è¦åˆ›å»º"å®¡æ ¸APIæ–‡æ¡£.md"
- éœ€è¦åˆ›å»º"ç¼–è¾‘å™¨APIæ–‡æ¡£.md"
- éœ€è¦åˆ›å»º"ç»Ÿè®¡APIæ–‡æ¡£.md"

---

## 4. ç»¼åˆå¯¹ç…§ç´¢å¼•

### 4.1 å®Œå…¨ç¼ºå¤±è®¾è®¡çš„åŠŸèƒ½ï¼ˆP0ä¼˜å…ˆçº§ï¼‰

| åŠŸèƒ½æ¨¡å— | æ¶‰åŠå±‚çº§ | ç¼ºå¤±æ–‡æ¡£æ•°é‡ | ä¼˜å…ˆçº§ |
|---------|---------|------------|-------|
| Auditï¼ˆå®¡æ ¸ç³»ç»Ÿï¼‰ | Models + Service + API | 4ä»½ | P0 |
| Documentï¼ˆè®¾å®šç™¾ç§‘ï¼‰ | Models + Service | 2ä»½ | P0 |
| Documentï¼ˆå¿«æ·é”®ï¼‰ | Models + Service | 2ä»½ | P0 |
| Documentï¼ˆç‰ˆæœ¬ç®¡ç†ï¼‰ | Models + Service + API | 3ä»½ | P0 |
| Readingï¼ˆæ¦œå•ç³»ç»Ÿï¼‰ | Models + Service | 2ä»½ | P0 |
| Readingï¼ˆè¯„åˆ†ç³»ç»Ÿï¼‰ | Models + Service + API | 3ä»½ | P0 |
| Readingï¼ˆæ ‡æ³¨ç³»ç»Ÿï¼‰ | Models + Service | 2ä»½ | P0 |
| Readingï¼ˆé˜…è¯»å™¨æ•°æ®ï¼‰ | Models + Service | 2ä»½ | P0 |
| Sharedï¼ˆè§’è‰²æƒé™ï¼‰ | Models + Service | 2ä»½ | P0 |
| Sharedï¼ˆä¼šè¯ç®¡ç†ï¼‰ | Models + Service | 2ä»½ | P0 |
| Sharedï¼ˆæ¶ˆæ¯é€šçŸ¥ï¼‰ | Models + Service + API | 3ä»½ | P0 |
| Sharedï¼ˆå­˜å‚¨æœåŠ¡ï¼‰ | Models + Service + API | 3ä»½ | P0 |
| Statsï¼ˆç»Ÿè®¡åˆ†æï¼‰ | Models + Service + API | 3ä»½ | P0 |
| **æ€»è®¡** | | **34ä»½** | |

### 4.2 å·²æœ‰å®Œæ•´è®¾è®¡çš„åŠŸèƒ½

| åŠŸèƒ½æ¨¡å— | è®¾è®¡æ–‡æ¡£ | å®Œæ•´æ€§ |
|---------|---------|-------|
| å››å±‚æ¶æ„ï¼ˆProject-Node-Document-DocumentContentï¼‰ | `doc/design/core/é¡¹ç›®å››å±‚æ¶æ„CRUDè®¾è®¡.md` | 90% |
| é’±åŒ…æœåŠ¡ | `doc/design/shared/é’±åŒ…æœåŠ¡è®¾è®¡.md` | 100% |
| JWTè®¤è¯ | `doc/design/shared/JWTè®¤è¯è®¾è®¡.md` | 100% |

### 4.3 éœ€è¦é‡æ„çš„åŠŸèƒ½

| åŠŸèƒ½æ¨¡å— | é—®é¢˜æè¿° | ä¼˜å…ˆçº§ |
|---------|---------|-------|
| VersionService | ä½¿ç”¨æ—§æ¶æ„ï¼Œç›´æ¥æ“ä½œglobal.DBï¼Œéœ€è¦é‡æ„ä¸ºRepositoryæ¨¡å¼ | P0 |

---

## 5. ä½¿ç”¨æŒ‡å—

### å¦‚ä½•ä½¿ç”¨æœ¬å¯¹ç…§è¡¨

1. **æŸ¥æ‰¾å®ç°ä»£ç å¯¹åº”çš„è®¾è®¡æ–‡æ¡£**
   - åœ¨å¯¹åº”çš„æ¨¡å—è¡¨æ ¼ä¸­æŸ¥æ‰¾å®ç°æ–‡ä»¶
   - æŸ¥çœ‹"è®¾è®¡æ–‡æ¡£"åˆ—çš„æ–‡æ¡£è·¯å¾„
   - çŠ¶æ€å›¾æ ‡è¯´æ˜æ–‡æ¡£çš„å®Œæ•´æ€§

2. **è¯†åˆ«ç¼ºå¤±çš„è®¾è®¡æ–‡æ¡£**
   - æŸ¥çœ‹çŠ¶æ€ä¸ºâŒçš„æ¡ç›®
   - å‚è€ƒ"è®¾è®¡æ–‡æ¡£ç¼ºå¤±"è¯´æ˜
   - æ ¹æ®ä¼˜å…ˆçº§å®‰æ’è¡¥å……

3. **éªŒè¯ç°æœ‰è®¾è®¡æ–‡æ¡£**
   - æŸ¥çœ‹çŠ¶æ€ä¸ºâš ï¸çš„æ¡ç›®
   - å¯¹æ¯”å®ç°ä»£ç å’Œè®¾è®¡æ–‡æ¡£
   - æ›´æ–°è¿‡æ—¶çš„æ–‡æ¡£å†…å®¹

4. **è¯†åˆ«æ¶æ„é—®é¢˜**
   - æŸ¥çœ‹çŠ¶æ€ä¸ºğŸ”§çš„æ¡ç›®
   - å‚è€ƒ"æ¶æ„é—®é¢˜"è¯´æ˜
   - å®‰æ’é‡æ„å·¥ä½œ

### æ–‡æ¡£æ›´æ–°å»ºè®®

1. **æ–°åŠŸèƒ½å¼€å‘æµç¨‹**
   ```
   è®¾è®¡æ–‡æ¡£ â†’ è¯„å®¡ â†’ å®ç°ä»£ç  â†’ æ›´æ–°å¯¹ç…§è¡¨
   ```

2. **ç°æœ‰åŠŸèƒ½è¡¥å……è®¾è®¡**
   ```
   ä»£ç å®¡è®¡ â†’ ç¼–å†™è®¾è®¡æ–‡æ¡£ â†’ è¯„å®¡ â†’ æ›´æ–°å¯¹ç…§è¡¨
   ```

3. **è®¾è®¡æ–‡æ¡£æ›´æ–°**
   ```
   ä»£ç å˜æ›´ â†’ æ›´æ–°è®¾è®¡æ–‡æ¡£ â†’ æ›´æ–°å¯¹ç…§è¡¨
   ```

---

**ç»´æŠ¤è€…**: AI Agent  
**ç”Ÿæˆæ—¶é—´**: 2025-10-21 19:30  
**ä¸‹ä¸€æ¬¡æ›´æ–°**: éšè®¾è®¡æ–‡æ¡£è¡¥å……åŒæ­¥æ›´æ–°

