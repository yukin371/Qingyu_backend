basePath: /api/v1
definitions:
  admin.AssignRoleRequest:
    properties:
      role:
        type: string
    required:
    - role
    type: object
  admin.BatchDeleteRequest:
    properties:
      ids:
        items:
          type: string
        minItems: 1
        type: array
    required:
    - ids
    type: object
  admin.BatchDeleteUsersRequest:
    properties:
      userIds:
        items:
          type: string
        type: array
    required:
    - userIds
    type: object
  admin.BatchUpdateConfigRequest:
    properties:
      updates:
        items:
          $ref: '#/definitions/admin.UpdateConfigRequest'
        minItems: 1
        type: array
    required:
    - updates
    type: object
  admin.BatchUpdateStatusRequest:
    properties:
      status:
        type: string
      userIds:
        items:
          type: string
        type: array
    required:
    - status
    - userIds
    type: object
  admin.ReviewAppealRequest:
    properties:
      action:
        enum:
        - approve
        - reject
        type: string
      review_note:
        maxLength: 500
        type: string
    required:
    - action
    type: object
  admin.ReviewAuditRequest:
    properties:
      action:
        enum:
        - approve
        - reject
        type: string
      penalty_type:
        enum:
        - warning
        - ban
        type: string
      review_note:
        maxLength: 500
        type: string
    required:
    - action
    type: object
  admin.ReviewWithdrawRequest:
    properties:
      approved:
        type: boolean
      reason:
        type: string
      withdraw_id:
        type: string
    required:
    - withdraw_id
    type: object
  admin.SystemConfigRequest:
    properties:
      allowRegistration:
        type: boolean
      enableAudit:
        type: boolean
      maxUploadSize:
        type: integer
      requireEmailVerification:
        type: boolean
    type: object
  admin.SystemStatsResponse:
    properties:
      activeUsers:
        type: integer
      pendingAudits:
        type: integer
      totalBooks:
        type: integer
      totalRevenue:
        type: number
      totalUsers:
        type: integer
    type: object
  admin.UpdateConfigRequest:
    properties:
      key:
        type: string
      value: {}
    required:
    - key
    - value
    type: object
  admin.UpdateQuotaRequest:
    properties:
      quotaType:
        enum:
        - daily
        - monthly
        - total
        type: string
      totalQuota:
        minimum: 0
        type: integer
    required:
    - quotaType
    - totalQuota
    type: object
  admin.UpdateUserRoleRequest:
    properties:
      role:
        type: string
    required:
    - role
    type: object
  admin.UpdateUserStatusRequest:
    properties:
      status:
        type: string
    required:
    - status
    type: object
  admin.ValidateConfigRequest:
    properties:
      yaml_content:
        type: string
    required:
    - yaml_content
    type: object
  ai.BackgroundData:
    properties:
      education:
        description: 教育
        type: string
      family:
        description: 家庭
        type: string
      key_experiences:
        description: 关键经历
        items:
          type: string
        type: array
      summary:
        description: 背景概要
        type: string
    type: object
  ai.ChapterData:
    properties:
      chapter_goal:
        description: 章节目标
        type: string
      chapter_id:
        description: 章节ID
        type: integer
      characters_involved:
        description: 参与角色
        items:
          type: string
        type: array
      cliffhanger:
        description: 悬念
        type: string
      conflict_type:
        description: 冲突类型
        type: string
      emotional_tone:
        description: 情感基调
        type: string
      estimated_word_count:
        description: 预估字数
        type: integer
      key_events:
        description: 关键事件
        items:
          type: string
        type: array
      summary:
        description: 概要
        type: string
      title:
        description: 标题
        type: string
    type: object
  ai.CharacterData:
    properties:
      age:
        description: 年龄
        type: integer
      appearance:
        description: 外貌
        type: string
      background:
        allOf:
        - $ref: '#/definitions/ai.BackgroundData'
        description: 背景
      chapters_involved:
        description: 参与章节
        items:
          type: integer
        type: array
      character_id:
        description: 角色ID
        type: string
      development_arc:
        allOf:
        - $ref: '#/definitions/ai.DevelopmentArc'
        description: 发展弧线
      first_appearance:
        description: 首次出场章节
        type: integer
      gender:
        description: 性别
        type: string
      importance:
        description: 重要性
        type: string
      motivation:
        description: 动机
        type: string
      name:
        description: 姓名
        type: string
      personality:
        allOf:
        - $ref: '#/definitions/ai.PersonalityData'
        description: 性格
      relationships:
        description: 关系
        items:
          $ref: '#/definitions/ai.RelationshipData'
        type: array
      role_in_story:
        description: 在故事中的作用
        type: string
      role_type:
        description: 角色类型
        type: string
    type: object
  ai.CharactersData:
    properties:
      characters:
        description: 角色列表
        items:
          $ref: '#/definitions/ai.CharacterData'
        type: array
      relationship_network:
        allOf:
        - $ref: '#/definitions/ai.RelationshipNetwork'
        description: 关系网络
    type: object
  ai.DevelopmentArc:
    properties:
      ending_point:
        description: 终点
        type: string
      growth_theme:
        description: 成长主题
        type: string
      starting_point:
        description: 起点
        type: string
      turning_points:
        description: 转折点
        items:
          type: string
        type: array
    type: object
  ai.ExecuteCreativeWorkflowRequest:
    properties:
      enable_human_review:
        description: 是否启用人工审核
        type: boolean
      max_reflections:
        description: 最大反思次数（默认3）
        type: integer
      project_id:
        description: 项目ID
        type: string
      task:
        description: 创作任务描述
        type: string
      workspace_context:
        additionalProperties:
          type: string
        type: object
    required:
    - task
    type: object
  ai.GenerateCharactersRequest:
    properties:
      correction_prompt:
        type: string
      outline:
        allOf:
        - $ref: '#/definitions/ai.OutlineData'
        description: 大纲数据（可选，建议提供）
      project_id:
        description: 项目ID
        type: string
      task:
        description: 创作任务描述
        type: string
      workspace_context:
        additionalProperties:
          type: string
        type: object
    required:
    - task
    type: object
  ai.GenerateOptions:
    properties:
      maxTokens:
        type: integer
      model:
        type: string
      stream:
        type: boolean
      temperature:
        type: number
      topP:
        type: number
    type: object
  ai.GeneratePlotRequest:
    properties:
      characters:
        allOf:
        - $ref: '#/definitions/ai.CharactersData'
        description: 角色数据（建议提供）
      correction_prompt:
        type: string
      outline:
        allOf:
        - $ref: '#/definitions/ai.OutlineData'
        description: 大纲数据（建议提供）
      project_id:
        description: 项目ID
        type: string
      task:
        description: 创作任务描述
        type: string
      workspace_context:
        additionalProperties:
          type: string
        type: object
    required:
    - task
    type: object
  ai.MentorshipData:
    properties:
      mentor:
        description: 导师
        type: string
      student:
        description: 学生
        type: string
    type: object
  ai.OutlineData:
    properties:
      chapters:
        description: 章节列表
        items:
          $ref: '#/definitions/ai.ChapterData'
        type: array
      core_theme:
        description: 核心主题
        type: string
      estimated_total_words:
        description: 预估总字数
        type: integer
      genre:
        description: 类型
        type: string
      story_arc:
        allOf:
        - $ref: '#/definitions/ai.StoryArc'
        description: 故事结构
      target_audience:
        description: 目标受众
        type: string
      title:
        description: 标题
        type: string
    type: object
  ai.PersonalityData:
    properties:
      core_values:
        description: 核心价值观
        type: string
      fears:
        description: 恐惧
        type: string
      strengths:
        description: 优点
        items:
          type: string
        type: array
      traits:
        description: 性格特质
        items:
          type: string
        type: array
      weaknesses:
        description: 缺点
        items:
          type: string
        type: array
    type: object
  ai.RechargeRequest:
    properties:
      amount:
        description: 充值数量（必须 > 0）
        type: integer
      reason:
        description: 充值原因
        type: string
    required:
    - amount
    type: object
  ai.RelationshipData:
    properties:
      character:
        description: 关联角色
        type: string
      description:
        description: 描述
        type: string
      dynamics:
        description: 互动动态
        type: string
      relation_type:
        description: 关系类型
        type: string
    type: object
  ai.RelationshipNetwork:
    properties:
      alliances:
        description: 联盟（成员列表）
        items:
          items:
            type: string
          type: array
        type: array
      conflicts:
        description: 冲突（对立方列表）
        items:
          items:
            type: string
          type: array
        type: array
      mentorships:
        description: 师徒关系
        items:
          $ref: '#/definitions/ai.MentorshipData'
        type: array
    type: object
  ai.RewriteTextRequest:
    properties:
      chapterId:
        type: string
      instructions:
        type: string
      options:
        $ref: '#/definitions/ai.GenerateOptions'
      originalText:
        type: string
      projectId:
        type: string
      rewriteMode:
        enum:
        - expand
        - shorten
        - polish
        type: string
    required:
    - originalText
    - rewriteMode
    type: object
  ai.StoryArc:
    properties:
      climax:
        description: 转
        items:
          type: integer
        type: array
      falling_action:
        description: 合
        items:
          type: integer
        type: array
      resolution:
        description: 结局
        items:
          type: integer
        type: array
      rising_action:
        description: 承
        items:
          type: integer
        type: array
      setup:
        description: 起（章节ID列表）
        items:
          type: integer
        type: array
    type: object
  api_v1_ai.ChatRequest:
    properties:
      message:
        type: string
      options:
        $ref: '#/definitions/ai.GenerateOptions'
      projectId:
        type: string
      sessionId:
        type: string
      useContext:
        type: boolean
    required:
    - message
    type: object
  api_v1_ai.ContinueWritingRequest:
    properties:
      chapterId:
        type: string
      continueLength:
        type: integer
      currentText:
        type: string
      options:
        $ref: '#/definitions/ai.GenerateOptions'
      projectId:
        type: string
    required:
    - currentText
    - projectId
    type: object
  api_v1_ai.GenerateOutlineRequest:
    properties:
      correction_prompt:
        description: 修正提示
        type: string
      project_id:
        description: 项目ID（可选）
        type: string
      task:
        description: 创作任务描述
        type: string
      workspace_context:
        additionalProperties:
          type: string
        description: 工作区上下文
        type: object
    required:
    - task
    type: object
  api_v1_finance.WithdrawRequest:
    properties:
      account_name:
        type: string
      account_no:
        type: string
      account_type:
        type: string
      amount:
        type: number
      bank_name:
        type: string
      branch_name:
        type: string
      method:
        enum:
        - alipay
        - wechat
        - bank
        type: string
    required:
    - account_name
    - account_no
    - account_type
    - amount
    - method
    type: object
  api_v1_search.SearchRequest:
    properties:
      filter:
        additionalProperties: true
        description: 过滤条件
        type: object
      page:
        description: 页码，默认 1
        type: integer
      page_size:
        description: 每页数量，默认 20
        type: integer
      query:
        description: 搜索关键词
        type: string
      sort:
        description: 排序字段
        items:
          $ref: '#/definitions/search.SortFieldRequest'
        type: array
      type:
        description: 搜索类型：books, projects, documents, users
        type: string
    required:
    - query
    - type
    type: object
  auth.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  auth.OAuthAuthorizeRequest:
    properties:
      redirect_uri:
        description: 回调地址
        type: string
      state:
        description: 状态参数，用于防止CSRF攻击
        type: string
    required:
    - redirect_uri
    type: object
  auth.OAuthCallbackRequest:
    properties:
      code:
        description: 授权码
        type: string
      state:
        description: 状态参数
        type: string
    required:
    - code
    - state
    type: object
  auth.Permission:
    properties:
      $1$2:
        type: string
      action:
        description: 操作类型：read, write, delete
        type: string
      code:
        description: 权限代码：user.read, book.write
        type: string
      description:
        description: 权限描述
        type: string
      name:
        description: 权限名称
        type: string
      resource:
        description: 资源类型：user, book, wallet
        type: string
    type: object
  auth.RegisterRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      role:
        description: 可选，默认为 "reader"
        type: string
      username:
        type: string
    required:
    - email
    - password
    - username
    type: object
  bookstore.APIResponse:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
  bookstore.BookDetail:
    properties:
      author:
        description: 作者名
        maxLength: 100
        minLength: 1
        type: string
      authorId:
        description: 作者ID
        type: string
      categories:
        description: 分类列表
        items:
          type: string
        type: array
      categoryIds:
        description: 分类ID列表
        items:
          type: string
        type: array
      chapterCount:
        description: 章节数
        minimum: 0
        type: integer
      collectCount:
        description: 收藏数
        minimum: 0
        type: integer
      commentCount:
        description: 评论数
        minimum: 0
        type: integer
      completedAt:
        description: 完结时间
        type: string
      coverUrl:
        description: 封面图片URL
        type: string
      createdAt:
        description: 创建时间
        type: string
      description:
        description: 详细描述
        maxLength: 5000
        type: string
      id:
        description: 书籍ID
        type: string
      introduction:
        description: 简介
        maxLength: 1000
        type: string
      isFree:
        description: 是否免费
        type: boolean
      lastChapterAt:
        description: 最新章节更新时间
        type: string
      lastChapterTitle:
        description: 最新章节信息
        type: string
      likeCount:
        description: 点赞数
        minimum: 0
        type: integer
      price:
        description: 价格 (分，按章节或全本，使用float64兼容MongoDB)
        minimum: 0
        type: number
      rating:
        description: 评分 (0-5星，平均分可为0)
        maximum: 5
        minimum: 0
        type: number
      ratingCount:
        description: 评分人数
        minimum: 0
        type: integer
      serializedAt:
        description: 网络小说特有字段
        type: string
      shareCount:
        description: 分享数
        minimum: 0
        type: integer
      status:
        allOf:
        - $ref: '#/definitions/bookstore.BookStatus'
        description: 状态
      subtitle:
        description: 副标题
        maxLength: 200
        type: string
      tags:
        description: 标签
        items:
          type: string
        type: array
      title:
        description: 书名
        maxLength: 200
        minLength: 1
        type: string
      updatedAt:
        description: 更新时间
        type: string
      viewCount:
        description: 统计数据
        minimum: 0
        type: integer
      wordCount:
        description: 总字数
        minimum: 0
        type: integer
    required:
    - author
    - title
    type: object
  bookstore.BookStatus:
    enum:
    - draft
    - ongoing
    - completed
    - paused
    type: string
    x-enum-comments:
      BookStatusCompleted: 已完结
      BookStatusDraft: 草稿
      BookStatusOngoing: 连载中 (已发布且正在更新)
      BookStatusPaused: 暂停更新
    x-enum-descriptions:
    - 草稿
    - 连载中 (已发布且正在更新)
    - 已完结
    - 暂停更新
    x-enum-varnames:
    - BookStatusDraft
    - BookStatusOngoing
    - BookStatusCompleted
    - BookStatusPaused
  bookstore.Chapter:
    properties:
      $1$2:
        type: string
      contentHash:
        description: 内容哈希（校验用）
        type: string
      contentSize:
        description: 内容大小（字节）
        type: integer
      contentUrl:
        description: 内容引用信息
        type: string
      contentVersion:
        description: 内容版本
        type: integer
      id:
        type: string
      price:
        description: 价格 (分，使用float64以兼容MongoDB)
        type: number
      title:
        type: string
    type: object
  bookstore.PaginatedResponse:
    properties:
      code:
        type: integer
      data: {}
      limit:
        description: 添加Limit字段
        type: integer
      message:
        type: string
      page:
        type: integer
      size:
        type: integer
      total:
        type: integer
    type: object
  dto.ChangePasswordRequest:
    properties:
      new_password:
        minLength: 6
        type: string
      old_password:
        type: string
    required:
    - new_password
    - old_password
    type: object
  dto.DeleteDeviceRequest:
    properties:
      password:
        minLength: 8
        type: string
    required:
    - password
    type: object
  dto.GetUserBooksResponse:
    properties:
      books: {}
      page:
        type: integer
      size:
        type: integer
      total:
        type: integer
    type: object
  dto.LoginRequest:
    properties:
      password:
        type: string
      username:
        type: string
    required:
    - password
    - username
    type: object
  dto.LoginResponse:
    properties:
      token:
        type: string
      user:
        $ref: '#/definitions/dto.UserBasicInfo'
    type: object
  dto.PublicUserProfileResponse:
    properties:
      avatar:
        type: string
      bio:
        type: string
      created_at:
        type: string
      nickname:
        type: string
      role:
        type: string
      user_id:
        type: string
      username:
        type: string
    type: object
  dto.RegisterRequest:
    properties:
      email:
        type: string
      password:
        minLength: 6
        type: string
      username:
        maxLength: 50
        minLength: 3
        type: string
    required:
    - email
    - password
    - username
    type: object
  dto.RegisterResponse:
    properties:
      email:
        type: string
      role:
        type: string
      status:
        type: string
      token:
        type: string
      user_id:
        type: string
      username:
        type: string
    type: object
  dto.ResetPasswordRequest:
    properties:
      code:
        type: string
      email:
        type: string
      new_password:
        minLength: 8
        type: string
    required:
    - code
    - email
    - new_password
    type: object
  dto.ResetPasswordResponse:
    properties:
      message:
        type: string
      success:
        type: boolean
    type: object
  dto.SendCodeResponse:
    properties:
      expires_in:
        description: 有效期（秒）
        type: integer
      message:
        description: 额外信息
        type: string
    type: object
  dto.SendEmailCodeRequest:
    properties:
      email:
        example: user@example.com
        type: string
    required:
    - email
    type: object
  dto.SendPasswordResetRequest:
    properties:
      email:
        example: user@example.com
        type: string
    required:
    - email
    type: object
  dto.SendPasswordResetResponse:
    properties:
      expires_in:
        type: integer
      message:
        type: string
    type: object
  dto.SendPhoneCodeRequest:
    properties:
      phone:
        example: "13800138000"
        type: string
    required:
    - phone
    type: object
  dto.UnbindEmailRequest:
    properties:
      password:
        minLength: 8
        type: string
    required:
    - password
    type: object
  dto.UnbindPhoneRequest:
    properties:
      password:
        minLength: 8
        type: string
    required:
    - password
    type: object
  dto.UpdatePasswordRequest:
    properties:
      new_password:
        minLength: 8
        type: string
      old_password:
        type: string
    required:
    - new_password
    - old_password
    type: object
  dto.UpdateProfileRequest:
    properties:
      avatar:
        type: string
      bio:
        maxLength: 500
        type: string
      nickname:
        maxLength: 50
        type: string
      phone:
        type: string
    type: object
  dto.UserBasicInfo:
    properties:
      email:
        type: string
      role:
        type: string
      user_id:
        type: string
      username:
        type: string
    type: object
  dto.UserProfileResponse:
    properties:
      avatar:
        type: string
      bio:
        type: string
      created_at:
        type: string
      email:
        type: string
      email_verified:
        type: boolean
      last_login_at:
        type: string
      last_login_ip:
        type: string
      nickname:
        type: string
      phone:
        type: string
      phone_verified:
        type: boolean
      role:
        type: string
      status:
        type: string
      updated_at:
        type: string
      user_id:
        type: string
      username:
        type: string
    type: object
  dto.VerifyEmailRequest:
    properties:
      code:
        type: string
      email:
        type: string
      timestamp:
        type: integer
    required:
    - code
    - email
    type: object
  dto.VerifyEmailResponse:
    properties:
      message:
        type: string
      verified:
        type: boolean
    type: object
  finance.APIResponse:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
    type: object
  finance.ActivateCardRequest:
    properties:
      code:
        type: string
    required:
    - code
    type: object
  finance.ConsumeRequest:
    properties:
      amount:
        type: number
      reason:
        maxLength: 200
        minLength: 1
        type: string
    required:
    - amount
    - reason
    type: object
  finance.RechargeRequest:
    properties:
      amount:
        description: 单位：元
        type: number
      method:
        enum:
        - alipay
        - wechat
        - bank
        type: string
    required:
    - amount
    - method
    type: object
  finance.SubscribeRequest:
    properties:
      payment_method:
        enum:
        - alipay
        - wechat
        - bank
        - wallet
        type: string
      plan_id:
        type: string
    required:
    - payment_method
    - plan_id
    type: object
  finance.TransferRequest:
    properties:
      amount:
        type: number
      reason:
        maxLength: 200
        type: string
      to_user_id:
        minLength: 1
        type: string
    required:
    - amount
    - to_user_id
    type: object
  finance.UpdateTaxInfoRequest:
    properties:
      id_number:
        type: string
      id_type:
        enum:
        - id_card
        - passport
        - other
        type: string
      name:
        type: string
      tax_type:
        enum:
        - individual
        - company
        type: string
    required:
    - id_number
    - id_type
    - name
    - tax_type
    type: object
  messages.CreateMentionRequest:
    properties:
      content:
        maxLength: 200
        type: string
      content_id:
        type: string
      content_type:
        enum:
        - comment
        - review
        - message
        type: string
      user_id:
        type: string
    required:
    - content
    - content_id
    - content_type
    - user_id
    type: object
  messages.SendMessageRequest:
    properties:
      content:
        maxLength: 5000
        type: string
      message_type:
        enum:
        - text
        - image
        - system
        type: string
      receiver_id:
        type: string
    required:
    - content
    - message_type
    - receiver_id
    type: object
  reader.AnnotationUpdate:
    properties:
      id:
        type: string
      updates:
        $ref: '#/definitions/reader.UpdateAnnotationRequest'
    required:
    - id
    type: object
  reader.BatchCreateAnnotationsRequest:
    properties:
      annotations:
        items:
          $ref: '#/definitions/reader.CreateAnnotationRequest'
        maxItems: 50
        minItems: 1
        type: array
    required:
    - annotations
    type: object
  reader.BatchDeleteAnnotationsRequest:
    properties:
      ids:
        items:
          type: string
        maxItems: 100
        minItems: 1
        type: array
    required:
    - ids
    type: object
  reader.BatchUpdateAnnotationsRequest:
    properties:
      updates:
        items:
          $ref: '#/definitions/reader.AnnotationUpdate'
        maxItems: 50
        minItems: 1
        type: array
    required:
    - updates
    type: object
  reader.BatchUpdateBookStatusRequest:
    properties:
      bookIds:
        description: 书籍ID列表
        items:
          type: string
        type: array
      status:
        description: reading(在读), want_read(想读), finished(读完)
        type: string
    required:
    - bookIds
    - status
    type: object
  reader.CreateAnnotationRequest:
    properties:
      bookId:
        type: string
      chapterId:
        type: string
      note:
        description: 注释内容
        type: string
      range:
        description: 标注范围：start-end
        type: string
      text:
        description: 标注文本
        type: string
      type:
        description: bookmark(书签) | highlight(高亮) | note(笔记)
        type: string
    required:
    - bookId
    - chapterId
    - type
    type: object
  reader.CreateBookmarkRequest:
    properties:
      bookId:
        type: string
      chapterId:
        type: string
      color:
        type: string
      isPublic:
        type: boolean
      note:
        type: string
      position:
        minimum: 0
        type: integer
      quote:
        type: string
      tags:
        items:
          type: string
        type: array
    required:
    - bookId
    - chapterId
    - position
    type: object
  reader.MergeProgressRequest:
    properties:
      progresses:
        items:
          $ref: '#/definitions/reader.OfflineProgressItem'
        type: array
    required:
    - progresses
    type: object
  reader.OfflineProgressItem:
    properties:
      bookId:
        type: string
      chapterId:
        type: string
      deviceId:
        type: string
      progress:
        maximum: 1
        minimum: 0
        type: number
      timestamp:
        type: string
    required:
    - bookId
    - chapterId
    - deviceId
    - progress
    - timestamp
    type: object
  reader.RecordReadingRequest:
    properties:
      book_id:
        type: string
      chapter_id:
        type: string
      device_id:
        type: string
      device_type:
        type: string
      end_time:
        type: string
      progress:
        maximum: 100
        minimum: 0
        type: number
      start_time:
        type: string
    required:
    - book_id
    - chapter_id
    - end_time
    - start_time
    type: object
  reader.SaveProgressRequest:
    properties:
      bookId:
        type: string
      chapterId:
        type: string
      progress:
        maximum: 1
        minimum: 0
        type: number
    required:
    - bookId
    - chapterId
    - progress
    type: object
  reader.SyncProgressRequest:
    properties:
      bookId:
        type: string
      chapterId:
        type: string
      deviceId:
        type: string
      progress:
        maximum: 1
        minimum: 0
        type: number
    required:
    - bookId
    - chapterId
    - deviceId
    - progress
    type: object
  reader.UpdateAnnotationRequest:
    properties:
      note:
        description: 注释内容
        type: string
      range:
        description: 标注范围
        type: string
      text:
        description: 标注文本
        type: string
    type: object
  reader.UpdateBookStatusRequest:
    properties:
      status:
        description: reading(在读), want_read(想读), finished(读完)
        type: string
    required:
    - status
    type: object
  reader.UpdateBookmarkRequest:
    properties:
      color:
        type: string
      isPublic:
        type: boolean
      note:
        type: string
      quote:
        type: string
      tags:
        items:
          type: string
        type: array
    type: object
  reader.UpdateReadingTimeRequest:
    properties:
      bookId:
        type: string
      duration:
        minimum: 1
        type: integer
    required:
    - bookId
    - duration
    type: object
  reader.UpdateSettingsRequest:
    properties:
      autoSave:
        type: boolean
      backgroundColor:
        type: string
      fontFamily:
        type: string
      fontSize:
        type: integer
      lineHeight:
        type: number
      pageMode:
        description: scroll, paginate
        type: string
      showProgress:
        type: boolean
      textColor:
        type: string
    type: object
  search.BatchSearchRequest:
    properties:
      queries:
        description: 搜索查询列表
        items:
          $ref: '#/definitions/api_v1_search.SearchRequest'
        minItems: 1
        type: array
    required:
    - queries
    type: object
  search.SortFieldRequest:
    properties:
      ascending:
        description: 是否升序
        type: boolean
      field:
        description: 排序字段名
        type: string
    type: object
  search.UpdateGrayscaleConfigRequest:
    properties:
      enabled:
        description: 是否启用灰度
        type: boolean
      percent:
        description: 灰度百分比(0-100)
        maximum: 100
        minimum: 0
        type: integer
      reason:
        description: 更新原因
        type: string
    required:
    - enabled
    - percent
    type: object
  shared.APIResponse:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
      request_id:
        description: 请求ID（用于追踪）
        type: string
      timestamp:
        description: 响应时间戳
        type: integer
    type: object
  shared.ConsumeRequest:
    properties:
      amount:
        type: number
      reason:
        maxLength: 200
        minLength: 1
        type: string
    required:
    - amount
    - reason
    type: object
  shared.CreateNotificationRequest:
    properties:
      content:
        type: string
      title:
        maxLength: 200
        type: string
      type:
        type: string
      user_id:
        type: string
    required:
    - content
    - title
    - type
    - user_id
    type: object
  shared.ErrorResponse:
    properties:
      code:
        type: integer
      debug:
        description: 调试信息，仅开发环境使用
        type: string
      error:
        type: string
      message:
        type: string
      request_id:
        type: string
      timestamp:
        type: integer
    type: object
  shared.OAuthAuthorizeRequest:
    properties:
      redirect_uri:
        description: 回调地址
        type: string
      state:
        description: 状态参数，用于防止CSRF攻击
        type: string
    required:
    - redirect_uri
    type: object
  shared.OAuthCallbackRequest:
    properties:
      code:
        description: 授权码
        type: string
      state:
        description: 状态参数
        type: string
    required:
    - code
    - state
    type: object
  shared.PaginatedResponse:
    properties:
      code:
        type: integer
      data: {}
      message:
        type: string
      pagination:
        allOf:
        - $ref: '#/definitions/shared.Pagination'
        description: 分页信息
      request_id:
        type: string
      timestamp:
        type: integer
    type: object
  shared.Pagination:
    properties:
      has_next:
        description: 是否有下一页
        type: boolean
      has_previous:
        description: 是否有上一页
        type: boolean
      page:
        description: 当前页码
        type: integer
      page_size:
        description: 每页大小
        type: integer
      total:
        description: 总记录数
        type: integer
      total_pages:
        description: 总页数
        type: integer
    type: object
  shared.RechargeRequest:
    properties:
      amount:
        type: number
      method:
        enum:
        - alipay
        - wechat
        - bank
        type: string
    required:
    - amount
    - method
    type: object
  shared.TransferRequest:
    properties:
      amount:
        type: number
      reason:
        maxLength: 200
        type: string
      to_user_id:
        minLength: 1
        type: string
    required:
    - amount
    - to_user_id
    type: object
  shared.WithdrawRequest:
    properties:
      account:
        type: string
      amount:
        type: number
    required:
    - account
    - amount
    type: object
  social.AddCollectionRequest:
    properties:
      book_id:
        type: string
      folder_id:
        type: string
      is_public:
        type: boolean
      note:
        maxLength: 500
        type: string
      tags:
        items:
          type: string
        type: array
    required:
    - book_id
    type: object
  social.CreateBookListRequest:
    properties:
      category:
        type: string
      cover:
        type: string
      description:
        maxLength: 500
        type: string
      is_public:
        type: boolean
      tags:
        items:
          type: string
        type: array
      title:
        maxLength: 100
        type: string
    required:
    - title
    type: object
  social.CreateCommentRequest:
    properties:
      book_id:
        type: string
      chapter_id:
        type: string
      content:
        maxLength: 500
        minLength: 10
        type: string
      rating:
        maximum: 5
        minimum: 0
        type: integer
    required:
    - book_id
    - content
    type: object
  social.CreateFolderRequest:
    properties:
      description:
        maxLength: 200
        type: string
      is_public:
        type: boolean
      name:
        maxLength: 50
        minLength: 1
        type: string
    required:
    - name
    type: object
  social.CreateReviewRequest:
    properties:
      book_id:
        type: string
      content:
        maxLength: 5000
        type: string
      is_public:
        type: boolean
      is_spoiler:
        type: boolean
      rating:
        maximum: 5
        minimum: 1
        type: integer
      title:
        maxLength: 100
        type: string
    required:
    - book_id
    - content
    - rating
    - title
    type: object
  social.FollowAuthorRequest:
    properties:
      author_avatar:
        type: string
      author_name:
        type: string
      notify_new_book:
        type: boolean
    required:
    - author_name
    type: object
  social.ReplyCommentRequest:
    properties:
      content:
        maxLength: 500
        minLength: 10
        type: string
    required:
    - content
    type: object
  social.UpdateBookListRequest:
    properties:
      category:
        type: string
      cover:
        type: string
      description:
        maxLength: 500
        type: string
      is_public:
        type: boolean
      tags:
        items:
          type: string
        type: array
      title:
        maxLength: 100
        type: string
    type: object
  social.UpdateCollectionRequest:
    properties:
      folder_id:
        type: string
      is_public:
        type: boolean
      note:
        maxLength: 500
        type: string
      tags:
        items:
          type: string
        type: array
    type: object
  social.UpdateCommentRequest:
    properties:
      content:
        maxLength: 500
        minLength: 10
        type: string
    required:
    - content
    type: object
  social.UpdateFolderRequest:
    properties:
      description:
        maxLength: 200
        type: string
      is_public:
        type: boolean
      name:
        maxLength: 50
        minLength: 1
        type: string
    type: object
  social.UpdateReviewRequest:
    properties:
      content:
        maxLength: 5000
        type: string
      is_public:
        type: boolean
      is_spoiler:
        type: boolean
      rating:
        maximum: 5
        minimum: 1
        type: integer
      title:
        maxLength: 100
        type: string
    type: object
  stats.ActivityStats:
    properties:
      action_types:
        additionalProperties:
          format: int64
          type: integer
        description: 操作类型分布
        type: object
      active_hours:
        description: 活跃时段
        items:
          type: integer
        type: array
      daily_actions:
        description: 每日操作
        items:
          $ref: '#/definitions/stats.DailyAction'
        type: array
      days:
        description: 统计天数
        type: integer
      total_actions:
        description: 总操作数
        type: integer
      user_id:
        type: string
    type: object
  stats.ContentStats:
    properties:
      average_rating:
        description: 平均评分
        type: number
      average_words_per_day:
        description: 日均字数
        type: number
      draft_books:
        description: 草稿书籍
        type: integer
      published_books:
        description: 已发布书籍
        type: integer
      total_chapters:
        description: 总章节数
        type: integer
      total_collections:
        description: 总收藏数
        type: integer
      total_projects:
        description: 总项目数
        type: integer
      total_views:
        description: 总浏览量
        type: integer
      total_words:
        description: 总字数
        type: integer
      user_id:
        type: string
    type: object
  stats.DailyAction:
    properties:
      actions:
        description: 操作数
        type: integer
      date:
        description: 日期
        type: string
      words:
        description: 字数
        type: integer
    type: object
  stats.DailyRevenue:
    properties:
      date:
        description: 日期
        type: string
      revenue:
        description: 收益
        type: number
    type: object
  stats.RevenueStats:
    properties:
      daily_revenue:
        description: 每日收益
        items:
          $ref: '#/definitions/stats.DailyRevenue'
        type: array
      period_revenue:
        description: 期间收益
        type: number
      revenue_by_book:
        additionalProperties:
          format: float64
          type: number
        description: 按书籍收益
        type: object
      revenue_by_type:
        additionalProperties:
          format: float64
          type: number
        description: 按类型收益
        type: object
      total_revenue:
        description: 总收益
        type: number
      user_id:
        type: string
    type: object
  stats.UserStats:
    properties:
      active_days:
        description: 活跃天数
        type: integer
      last_active_at:
        description: 最后活跃时间
        type: string
      member_level:
        description: 会员等级
        type: string
      registered_at:
        description: 注册时间
        type: string
      total_books:
        description: 总书籍数
        type: integer
      total_comments:
        description: 总评论数
        type: integer
      total_likes:
        description: 总点赞数
        type: integer
      total_projects:
        description: 总项目数
        type: integer
      total_reading:
        description: 总阅读数
        type: integer
      total_revenue:
        description: 总收益
        type: number
      total_words:
        description: 总字数
        type: integer
      user_id:
        type: string
    type: object
  storage.CompleteMultipartUploadRequest:
    properties:
      upload_id:
        type: string
    required:
    - upload_id
    type: object
  storage.InitiateMultipartUploadRequest:
    properties:
      category:
        type: string
      chunk_size:
        description: 自定义分片大小（可选）
        type: integer
      file_name:
        type: string
      file_size:
        type: integer
      file_type:
        type: string
      is_public:
        type: boolean
      md5_hash:
        description: 完整文件MD5（可选，用于验证）
        type: string
      metadata:
        additionalProperties:
          type: string
        type: object
      mime_type:
        type: string
      uploaded_by:
        type: string
    required:
    - file_name
    - file_size
    - uploaded_by
    type: object
  writer.ApplyTemplateRequest:
    properties:
      documentId:
        type: string
      variables:
        additionalProperties:
          type: string
        type: object
    required:
    - documentId
    type: object
  writer.BatchDeleteRequest:
    properties:
      commentIds:
        items:
          type: string
        type: array
    required:
    - commentIds
    type: object
  writer.BatchOperationStatus:
    enum:
    - pending
    - preflight
    - processing
    - completed
    - failed
    - cancelled
    - partial
    type: string
    x-enum-comments:
      BatchOpStatusCancelled: 已取消
      BatchOpStatusCompleted: 已完成
      BatchOpStatusFailed: 失败
      BatchOpStatusPartial: 部分成功（atomic=false时）
      BatchOpStatusPending: 待处理
      BatchOpStatusPreflight: 预检查中
      BatchOpStatusProcessing: 执行中
    x-enum-descriptions:
    - 待处理
    - 预检查中
    - 执行中
    - 已完成
    - 失败
    - 已取消
    - 部分成功（atomic=false时）
    x-enum-varnames:
    - BatchOpStatusPending
    - BatchOpStatusPreflight
    - BatchOpStatusProcessing
    - BatchOpStatusCompleted
    - BatchOpStatusFailed
    - BatchOpStatusCancelled
    - BatchOpStatusPartial
  writer.BatchOperationType:
    enum:
    - move
    - delete
    - export
    - copy
    - apply
    type: string
    x-enum-comments:
      BatchOpTypeApply: 批量应用模板
      BatchOpTypeCopy: 批量复制
      BatchOpTypeDelete: 批量删除
      BatchOpTypeExport: 批量导出
      BatchOpTypeMove: 批量移动
    x-enum-descriptions:
    - 批量移动
    - 批量删除
    - 批量导出
    - 批量复制
    - 批量应用模板
    x-enum-varnames:
    - BatchOpTypeMove
    - BatchOpTypeDelete
    - BatchOpTypeExport
    - BatchOpTypeCopy
    - BatchOpTypeApply
  writer.ConflictPolicy:
    enum:
    - skip
    - overwrite
    - rename
    - abort
    type: string
    x-enum-comments:
      ConflictPolicyAbort: 中止操作
      ConflictPolicyOverwrite: 覆盖
      ConflictPolicyRename: 重命名（自动添加后缀）
      ConflictPolicySkip: 跳过冲突项
    x-enum-descriptions:
    - 跳过冲突项
    - 覆盖
    - 重命名（自动添加后缀）
    - 中止操作
    x-enum-varnames:
    - ConflictPolicySkip
    - ConflictPolicyOverwrite
    - ConflictPolicyRename
    - ConflictPolicyAbort
  writer.CreateCommentRequest:
    type: object
  writer.CreateTemplateRequest:
    properties:
      category:
        maxLength: 100
        type: string
      content:
        type: string
      description:
        maxLength: 1000
        type: string
      name:
        maxLength: 200
        type: string
      projectId:
        type: string
      type:
        enum:
        - chapter
        - outline
        - setting
        type: string
      variables:
        items:
          $ref: '#/definitions/writer.TemplateVariableDTO'
        type: array
    required:
    - content
    - name
    - type
    type: object
  writer.ExtendLockRequest:
    properties:
      ttl:
        description: 延长时长（秒）
        minimum: 1
        type: integer
    required:
    - ttl
    type: object
  writer.LockDocumentRequest:
    properties:
      autoExtend:
        description: 是否自动续期
        type: boolean
      ttl:
        description: 锁定时长（秒），0表示默认30分钟
        type: integer
    type: object
  writer.OptionDTO:
    properties:
      label:
        type: string
      value:
        type: string
    type: object
  writer.PreflightSummary:
    properties:
      errors:
        description: 错误信息
        items:
          type: string
        type: array
      failedCount:
        description: 失败项数（执行后更新）
        type: integer
      invalidCount:
        description: 无效项数
        type: integer
      skippedCount:
        description: 跳过项数
        type: integer
      successCount:
        description: 成功项数（执行后更新）
        type: integer
      totalCount:
        description: 总数
        type: integer
      validCount:
        description: 有效项数
        type: integer
      warnings:
        description: 警告信息
        items:
          type: string
        type: array
    type: object
  writer.ReplyCommentRequest:
    properties:
      content:
        type: string
    required:
    - content
    type: object
  writer.SubmitBatchOperationRequest:
    properties:
      atomic:
        type: boolean
      clientRequestId:
        type: string
      conflictPolicy:
        $ref: '#/definitions/writer.ConflictPolicy'
      expectedVersions:
        additionalProperties:
          type: integer
        type: object
      includeDescendants:
        type: boolean
      payload:
        additionalProperties: true
        type: object
      projectId:
        type: string
      targetIds:
        items:
          type: string
        minItems: 1
        type: array
      type:
        $ref: '#/definitions/writer.BatchOperationType'
    required:
    - projectId
    - targetIds
    - type
    type: object
  writer.SubmitBatchOperationResponse:
    properties:
      batchId:
        type: string
      preflightSummary:
        $ref: '#/definitions/writer.PreflightSummary'
      status:
        $ref: '#/definitions/writer.BatchOperationStatus'
    type: object
  writer.TemplateVariableDTO:
    properties:
      defaultValue:
        type: string
      label:
        maxLength: 100
        type: string
      name:
        maxLength: 50
        type: string
      options:
        items:
          $ref: '#/definitions/writer.OptionDTO'
        type: array
      order:
        type: integer
      placeholder:
        maxLength: 200
        type: string
      required:
        type: boolean
      type:
        enum:
        - text
        - textarea
        - select
        - number
        type: string
    required:
    - label
    - name
    - type
    type: object
  writer.UpdateCommentRequest:
    type: object
  writer.UpdateShortcutsRequest:
    type: object
  writer.UpdateTemplateRequest:
    properties:
      category:
        maxLength: 100
        type: string
      content:
        type: string
      description:
        maxLength: 1000
        type: string
      name:
        maxLength: 200
        type: string
      variables:
        items:
          $ref: '#/definitions/writer.TemplateVariableDTO'
        type: array
    type: object
  writer.WordCountRequest:
    properties:
      content:
        type: string
      filterMarkdown:
        description: 是否过滤Markdown语法
        type: boolean
    required:
    - content
    type: object
host: localhost:8080
info:
  contact:
    email: support@swagger.io
    name: API Support
    url: http://www.swagger.io/support
  description: 青羽写作平台后端服务API文档，提供AI辅助写作、阅读社区、书城管理等核心功能。
  license:
    name: Apache 2.0
    url: http://www.apache.org/licenses/LICENSE-2.0.html
  termsOfService: http://swagger.io/terms/
  title: 青羽写作平台 API
  version: "1.0"
paths:
  /api/v1/admin/announcements:
    get:
      consumes:
      - application/json
      description: 管理员获取公告列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取公告列表
      tags:
      - 管理员-系统管理
    post:
      consumes:
      - application/json
      description: 管理员发布系统公告
      parameters:
      - description: 公告信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 发布公告
      tags:
      - 管理员-系统管理
  /api/v1/admin/announcements/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的公告
      parameters:
      - description: 公告ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 删除公告
      tags:
      - 管理员-公告管理
    get:
      consumes:
      - application/json
      description: 根据ID获取公告详情
      parameters:
      - description: 公告ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取公告详情
      tags:
      - 管理员-公告管理
    put:
      consumes:
      - application/json
      description: 更新公告信息
      parameters:
      - description: 公告ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新公告请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 更新公告
      tags:
      - 管理员-公告管理
  /api/v1/admin/announcements/batch-delete:
    delete:
      consumes:
      - application/json
      description: 批量删除公告
      parameters:
      - description: 批量删除请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.BatchDeleteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 批量删除公告
      tags:
      - 管理员-公告管理
  /api/v1/admin/announcements/batch-status:
    put:
      consumes:
      - application/json
      description: 批量启用或禁用公告
      parameters:
      - description: 批量更新状态请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 批量更新公告状态
      tags:
      - 管理员-公告管理
  /api/v1/admin/audit/{id}/appeal/review:
    post:
      consumes:
      - application/json
      description: 人工复核申诉（管理员接口）
      parameters:
      - description: 审核记录ID
        in: path
        name: id
        required: true
        type: string
      - description: 复核申诉请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 复核申诉
      tags:
      - 审核-管理
  /api/v1/admin/audit/{id}/review:
    post:
      consumes:
      - application/json
      description: 人工复核审核结果（管理员接口）
      parameters:
      - description: 审核记录ID
        in: path
        name: id
        required: true
        type: string
      - description: 复核请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 复核审核结果
      tags:
      - 审核-管理
  /api/v1/admin/audit/high-risk:
    get:
      consumes:
      - application/json
      description: 获取高风险审核记录（管理员接口）
      parameters:
      - default: 3
        description: 最低风险等级
        in: query
        name: minRiskLevel
        type: integer
      - default: 50
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取高风险审核记录
      tags:
      - 审核-管理
  /api/v1/admin/audit/pending:
    get:
      consumes:
      - application/json
      description: 获取需要人工复核的审核记录（管理员接口）
      parameters:
      - default: 50
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取待复核列表
      tags:
      - 审核-管理
  /api/v1/admin/audit/statistics:
    get:
      consumes:
      - application/json
      description: 获取审核相关的统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取审核统计
      tags:
      - 管理员-审核管理
  /api/v1/admin/banners:
    get:
      consumes:
      - application/json
      description: 获取Banner列表，支持筛选和分页
      parameters:
      - description: 是否激活
        in: query
        name: isActive
        type: boolean
      - description: 目标类型(book/category/url)
        in: query
        name: targetType
        type: string
      - default: 20
        description: 每页数量
        in: query
        name: limit
        type: integer
      - default: 0
        description: 偏移量
        in: query
        name: offset
        type: integer
      - default: sort_order
        description: 排序字段(sort_order/click_count/created_at)
        in: query
        name: sortBy
        type: string
      - default: asc
        description: 排序方向(asc/desc)
        in: query
        name: sortOrder
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取Banner列表
      tags:
      - 管理员-Banner管理
    post:
      consumes:
      - application/json
      description: 创建新的Banner
      parameters:
      - description: 创建Banner请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 创建Banner
      tags:
      - 管理员-Banner管理
  /api/v1/admin/banners/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的Banner
      parameters:
      - description: Banner ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 删除Banner
      tags:
      - 管理员-Banner管理
    get:
      consumes:
      - application/json
      description: 根据ID获取Banner详情
      parameters:
      - description: Banner ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取Banner详情
      tags:
      - 管理员-Banner管理
    put:
      consumes:
      - application/json
      description: 更新Banner信息
      parameters:
      - description: Banner ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新Banner请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 更新Banner
      tags:
      - 管理员-Banner管理
  /api/v1/admin/banners/batch-sort:
    put:
      consumes:
      - application/json
      description: 批量更新Banner的排序权重
      parameters:
      - description: 批量更新排序请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 批量更新Banner排序
      tags:
      - 管理员-Banner管理
  /api/v1/admin/banners/batch-status:
    put:
      consumes:
      - application/json
      description: 批量启用或禁用Banner
      parameters:
      - description: 批量更新状态请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 批量更新Banner状态
      tags:
      - 管理员-Banner管理
  /api/v1/admin/config:
    get:
      consumes:
      - application/json
      description: 管理员获取系统配置信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取系统配置
      tags:
      - 管理员-系统管理
    put:
      consumes:
      - application/json
      description: 管理员更新系统配置
      parameters:
      - description: 配置信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.SystemConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 更新系统配置
      tags:
      - 管理员-系统管理
  /api/v1/admin/config/{key}:
    get:
      consumes:
      - application/json
      description: 获取指定的配置项
      parameters:
      - description: 配置键（如 server.port）
        in: path
        name: key
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 根据Key获取单个配置
      tags:
      - 管理员-配置管理
  /api/v1/admin/config/backups:
    get:
      consumes:
      - application/json
      description: 获取所有可用的配置备份
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取配置备份列表
      tags:
      - 管理员-配置管理
  /api/v1/admin/config/batch:
    put:
      consumes:
      - application/json
      description: 批量更新多个配置项（需要管理员权限）
      parameters:
      - description: 批量更新配置请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.BatchUpdateConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 批量更新配置
      tags:
      - 管理员-配置管理
  /api/v1/admin/config/restore:
    post:
      consumes:
      - application/json
      description: 将配置恢复到最近的备份（需要管理员权限）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 恢复配置备份
      tags:
      - 管理员-配置管理
  /api/v1/admin/config/validate:
    post:
      consumes:
      - application/json
      description: 验证YAML配置格式是否正确
      parameters:
      - description: 验证配置请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.ValidateConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 验证配置
      tags:
      - 管理员-配置管理
  /api/v1/admin/operation-logs:
    get:
      consumes:
      - application/json
      description: 管理员获取操作日志
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 管理员ID
        in: query
        name: admin_id
        type: string
      - description: 操作类型
        in: query
        name: operation
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取操作日志
      tags:
      - 管理员-系统管理
  /api/v1/admin/permissions:
    get:
      consumes:
      - application/json
      description: 管理员获取所有权限列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取所有权限
      tags:
      - Admin-Permission
    post:
      consumes:
      - application/json
      description: 管理员创建新权限
      parameters:
      - description: 权限信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.Permission'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建权限
      tags:
      - Admin-Permission
  /api/v1/admin/permissions/{code}:
    delete:
      consumes:
      - application/json
      description: 管理员删除权限
      parameters:
      - description: 权限代码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除权限
      tags:
      - Admin-Permission
    get:
      consumes:
      - application/json
      description: 管理员获取权限详细信息
      parameters:
      - description: 权限代码
        in: path
        name: code
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取权限详情
      tags:
      - Admin-Permission
    put:
      consumes:
      - application/json
      description: 管理员更新权限信息
      parameters:
      - description: 权限代码
        in: path
        name: code
        required: true
        type: string
      - description: 权限信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.Permission'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新权限
      tags:
      - Admin-Permission
  /api/v1/admin/quota/{userId}:
    get:
      consumes:
      - application/json
      description: 管理员获取指定用户的配额详情
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取用户配额详情
      tags:
      - 管理员-AI配额管理
    put:
      consumes:
      - application/json
      description: 管理员更新指定用户的AI配额
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      - description: 配额信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdateQuotaRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 更新用户配额
      tags:
      - 管理员-AI配额管理
  /api/v1/admin/quota/{userId}/activate:
    post:
      consumes:
      - application/json
      description: 管理员激活指定用户的AI配额
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 激活用户配额
      tags:
      - 管理员-AI配额管理
  /api/v1/admin/quota/{userId}/suspend:
    post:
      consumes:
      - application/json
      description: 管理员暂停指定用户的AI配额
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 暂停用户配额
      tags:
      - 管理员-AI配额管理
  /api/v1/admin/roles:
    get:
      consumes:
      - application/json
      description: 管理员获取所有角色列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取所有角色
      tags:
      - Admin-Role
    post:
      consumes:
      - application/json
      description: 管理员创建新角色
      parameters:
      - description: 角色信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建角色
      tags:
      - Admin-Role
  /api/v1/admin/roles/{id}:
    delete:
      consumes:
      - application/json
      description: 管理员删除角色
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除角色
      tags:
      - Admin-Role
    get:
      consumes:
      - application/json
      description: 管理员获取角色详细信息
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取角色详情
      tags:
      - Admin-Role
    put:
      consumes:
      - application/json
      description: 管理员更新角色信息
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: string
      - description: 角色信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新角色
      tags:
      - Admin-Role
  /api/v1/admin/roles/{id}/permissions:
    get:
      consumes:
      - application/json
      description: 管理员获取角色的所有权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取角色权限
      tags:
      - Admin-Role
  /api/v1/admin/roles/{id}/permissions/{permissionCode}:
    delete:
      consumes:
      - application/json
      description: 管理员移除角色权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: string
      - description: 权限代码
        in: path
        name: permissionCode
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 移除角色权限
      tags:
      - Admin-Role
    post:
      consumes:
      - application/json
      description: 管理员为角色分配权限
      parameters:
      - description: 角色ID
        in: path
        name: id
        required: true
        type: string
      - description: 权限代码
        in: path
        name: permissionCode
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 为角色分配权限
      tags:
      - Admin-Role
  /api/v1/admin/stats:
    get:
      consumes:
      - application/json
      description: 管理员获取系统整体统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/admin.SystemStatsResponse'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取系统统计
      tags:
      - 管理员-系统管理
  /api/v1/admin/users:
    get:
      consumes:
      - application/json
      description: 管理员获取用户列表，支持分页和筛选
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      - description: 状态筛选
        in: query
        name: status
        type: string
      - description: 角色筛选
        in: query
        name: role
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户列表
      tags:
      - Admin-User
  /api/v1/admin/users/{id}:
    delete:
      consumes:
      - application/json
      description: 管理员删除用户
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除用户
      tags:
      - Admin-User
    get:
      consumes:
      - application/json
      description: 管理员获取用户详细信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户详情
      tags:
      - Admin-User
  /api/v1/admin/users/{id}/activities:
    get:
      consumes:
      - application/json
      description: 管理员获取用户活动记录
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户活动记录
      tags:
      - Admin-User
  /api/v1/admin/users/{id}/reset-password:
    post:
      consumes:
      - application/json
      description: 管理员重置用户密码
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 重置用户密码
      tags:
      - Admin-User
  /api/v1/admin/users/{id}/role:
    put:
      consumes:
      - application/json
      description: 管理员更新用户角色
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      - description: 角色信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdateUserRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新用户角色
      tags:
      - Admin-User
  /api/v1/admin/users/{id}/statistics:
    get:
      consumes:
      - application/json
      description: 管理员获取用户统计信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户统计信息
      tags:
      - Admin-User
  /api/v1/admin/users/{id}/status:
    put:
      consumes:
      - application/json
      description: 管理员更新用户状态
      parameters:
      - description: 用户ID
        in: path
        name: _id
        required: true
        type: string
      - description: 状态信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.UpdateUserStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新用户状态
      tags:
      - Admin-User
  /api/v1/admin/users/{userId}/permissions:
    get:
      consumes:
      - application/json
      description: 管理员获取用户的所有权限
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户权限
      tags:
      - Admin-User
  /api/v1/admin/users/{userId}/roles:
    delete:
      consumes:
      - application/json
      description: 管理员移除用户角色
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      - description: 角色名称
        in: query
        name: role
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 移除用户角色
      tags:
      - Admin-User
    get:
      consumes:
      - application/json
      description: 管理员获取用户的所有角色
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户角色
      tags:
      - Admin-User
    post:
      consumes:
      - application/json
      description: 管理员为用户分配角色
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      - description: 角色信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.AssignRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 为用户分配角色
      tags:
      - Admin-User
  /api/v1/admin/users/batch-delete:
    post:
      consumes:
      - application/json
      description: 管理员批量删除用户
      parameters:
      - description: 批量删除请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.BatchDeleteUsersRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量删除用户
      tags:
      - Admin-User
  /api/v1/admin/users/batch-update-status:
    post:
      consumes:
      - application/json
      description: 管理员批量更新用户状态
      parameters:
      - description: 批量更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.BatchUpdateStatusRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量更新用户状态
      tags:
      - Admin-User
  /api/v1/admin/users/count-by-status:
    get:
      consumes:
      - application/json
      description: 管理员按状态统计用户数量
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 按状态统计用户数量
      tags:
      - Admin-User
  /api/v1/admin/users/search:
    get:
      consumes:
      - application/json
      description: 管理员搜索用户
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 搜索用户
      tags:
      - Admin-User
  /api/v1/admin/withdraw/review:
    post:
      consumes:
      - application/json
      description: 管理员审核用户提现申请（批准或拒绝）
      parameters:
      - description: 审核信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/admin.ReviewWithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 审核提现
      tags:
      - 管理员-系统管理
  /api/v1/ai/audit/sensitive-words:
    post:
      consumes:
      - application/json
      description: 检测文本中的敏感词，返回敏感词列表、位置和修改建议
      parameters:
      - description: 敏感词检测请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 检测敏感词
      tags:
      - AI内容审核
  /api/v1/ai/audit/sensitive-words/{id}:
    get:
      consumes:
      - application/json
      description: 根据检测ID获取详细的敏感词检测结果
      parameters:
      - description: 检测ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取敏感词检测结果
      tags:
      - AI内容审核
  /api/v1/ai/chat:
    post:
      consumes:
      - application/json
      description: 与AI助手进行对话
      parameters:
      - description: 聊天请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_ai.ChatRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: AI聊天
      tags:
      - AI聊天
  /api/v1/ai/chat/sessions:
    get:
      consumes:
      - application/json
      description: 获取用户的聊天会话列表
      parameters:
      - description: 项目ID
        in: query
        name: projectId
        type: string
      - default: 20
        description: 每页数量
        in: query
        name: limit
        type: integer
      - default: 0
        description: 偏移量
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取聊天会话列表
      tags:
      - AI聊天
  /api/v1/ai/chat/sessions/:sessionId:
    delete:
      consumes:
      - application/json
      description: 删除指定的聊天会话
      parameters:
      - description: 会话ID
        in: path
        name: sessionId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除聊天会话
      tags:
      - AI聊天
    get:
      consumes:
      - application/json
      description: 获取指定会话的聊天历史，支持分页
      parameters:
      - description: 会话ID
        in: path
        name: sessionId
        required: true
        type: string
      - default: 50
        description: 每页数量
        in: query
        maximum: 100
        minimum: 1
        name: limit
        type: integer
      - default: 0
        description: 偏移量
        in: query
        minimum: 0
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取聊天历史
      tags:
      - AI聊天
  /api/v1/ai/chat/stream:
    post:
      consumes:
      - application/json
      description: 与AI助手进行对话，流式返回结果
      parameters:
      - description: 聊天请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_ai.ChatRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: SSE流
          schema:
            type: string
      summary: AI聊天（流式）
      tags:
      - AI聊天
  /api/v1/ai/creative/characters:
    post:
      consumes:
      - application/json
      description: 根据大纲生成角色设定，包含角色关系网络
      parameters:
      - description: 角色生成请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai.GenerateCharactersRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 生成角色设定
      tags:
      - Phase3-创作
  /api/v1/ai/creative/health:
    get:
      description: 检查Phase3 AI服务的健康状态
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: Phase3服务健康检查
      tags:
      - Phase3-创作
  /api/v1/ai/creative/outline:
    post:
      consumes:
      - application/json
      description: 根据任务描述生成完整的故事大纲，包含章节、故事结构等
      parameters:
      - description: 大纲生成请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_ai.GenerateOutlineRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 生成故事大纲
      tags:
      - Phase3-创作
  /api/v1/ai/creative/plot:
    post:
      consumes:
      - application/json
      description: 根据大纲和角色生成情节，包含时间线事件、情节线索等
      parameters:
      - description: 情节生成请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai.GeneratePlotRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 生成情节设定
      tags:
      - Phase3-创作
  /api/v1/ai/creative/workflow:
    post:
      consumes:
      - application/json
      description: 一次性生成大纲、角色、情节的完整创作流程
      parameters:
      - description: 工作流执行请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai.ExecuteCreativeWorkflowRequest'
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: 服务器错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 执行完整创作工作流
      tags:
      - Phase3-创作
  /api/v1/ai/health:
    get:
      consumes:
      - application/json
      description: 检查AI服务状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 健康检查
      tags:
      - AI系统
  /api/v1/ai/models:
    get:
      consumes:
      - application/json
      description: 获取指定提供商的可用模型列表
      parameters:
      - description: 提供商名称
        in: query
        name: provider
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取可用模型列表
      tags:
      - AI系统
  /api/v1/ai/providers:
    get:
      consumes:
      - application/json
      description: 获取系统支持的AI提供商列表及其状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取AI提供商列表
      tags:
      - AI系统
  /api/v1/ai/quota:
    get:
      consumes:
      - application/json
      description: 获取当前用户的配额信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取配额信息
      tags:
      - AI配额
  /api/v1/ai/quota/all:
    get:
      consumes:
      - application/json
      description: 获取当前用户的所有配额类型
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取所有配额
      tags:
      - AI配额
  /api/v1/ai/quota/recharge:
    post:
      consumes:
      - application/json
      description: 用户使用积分或购买充值配额
      parameters:
      - description: 充值请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai.RechargeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 配额充值
      tags:
      - AI配额
  /api/v1/ai/quota/statistics:
    get:
      consumes:
      - application/json
      description: 获取当前用户的配额使用统计
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取配额统计
      tags:
      - AI配额
  /api/v1/ai/quota/transactions:
    get:
      consumes:
      - application/json
      description: 获取当前用户的配额消费记录
      parameters:
      - default: 20
        description: 每页数量
        in: query
        name: limit
        type: integer
      - default: 0
        description: 偏移量
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取配额事务历史
      tags:
      - AI配额
  /api/v1/ai/writing/continue:
    post:
      consumes:
      - application/json
      description: 基于当前文本进行智能续写
      parameters:
      - description: 续写请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_ai.ContinueWritingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 智能续写
      tags:
      - AI写作
  /api/v1/ai/writing/continue/stream:
    post:
      consumes:
      - application/json
      description: 基于当前文本进行智能续写，流式返回结果
      parameters:
      - description: 续写请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_ai.ContinueWritingRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: SSE流
          schema:
            type: string
      summary: 智能续写（流式）
      tags:
      - AI写作
  /api/v1/ai/writing/proofread:
    post:
      consumes:
      - application/json
      description: 检查拼写、语法、标点错误，返回修改建议列表和整体评分
      parameters:
      - description: 校对请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 文本校对
      tags:
      - AI写作辅助
  /api/v1/ai/writing/rewrite:
    post:
      consumes:
      - application/json
      description: 对文本进行扩写、缩写或润色
      parameters:
      - description: 改写请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai.RewriteTextRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 改写文本
      tags:
      - AI写作
  /api/v1/ai/writing/rewrite/stream:
    post:
      consumes:
      - application/json
      description: 对文本进行扩写、缩写或润色，流式返回结果
      parameters:
      - description: 改写请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/ai.RewriteTextRequest'
      produces:
      - text/event-stream
      responses:
        "200":
          description: SSE流
          schema:
            type: string
      summary: 改写文本（流式）
      tags:
      - AI写作
  /api/v1/ai/writing/suggestions/{id}:
    get:
      consumes:
      - application/json
      description: 根据建议ID获取详细的修改建议和说明
      parameters:
      - description: 建议ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取校对建议详情
      tags:
      - AI写作辅助
  /api/v1/ai/writing/summarize:
    post:
      consumes:
      - application/json
      description: 使用AI总结文档内容，支持简短摘要、详细摘要、关键点提取等多种模式
      parameters:
      - description: 总结请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 总结文档内容
      tags:
      - AI写作辅助
  /api/v1/ai/writing/summarize-chapter:
    post:
      consumes:
      - application/json
      description: 自动提取章节要点、情节大纲、涉及角色等详细信息
      parameters:
      - description: 章节总结请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 总结章节内容
      tags:
      - AI写作辅助
  /api/v1/announcements/{id}:
    get:
      consumes:
      - application/json
      description: 根据ID获取公告详情（公开访问）
      parameters:
      - description: 公告ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取公告详情
      tags:
      - 公告
  /api/v1/announcements/{id}/view:
    post:
      consumes:
      - application/json
      description: 增加指定公告的查看次数
      parameters:
      - description: 公告ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 增加查看次数
      tags:
      - 公告
  /api/v1/announcements/effective:
    get:
      consumes:
      - application/json
      description: 获取当前有效的公告列表（公开访问，无需登录）
      parameters:
      - default: all
        description: 目标角色(all/reader/writer/admin)
        in: query
        name: targetRole
        type: string
      - default: 10
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取有效公告
      tags:
      - 公告
  /api/v1/audit/{id}/appeal:
    post:
      consumes:
      - application/json
      description: 对审核结果提交申诉
      parameters:
      - description: 审核记录ID
        in: path
        name: id
        required: true
        type: string
      - description: 申诉请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 提交申诉
      tags:
      - 审核
  /api/v1/audit/check:
    post:
      consumes:
      - application/json
      description: 快速检测内容是否包含违规信息（不创建审核记录）
      parameters:
      - description: 检测请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 实时检测内容
      tags:
      - 审核
  /api/v1/banners/{id}/click:
    post:
      consumes:
      - application/json
      description: 记录Banner被点击
      parameters:
      - description: Banner ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 增加Banner点击次数
      tags:
      - Banner
  /api/v1/books:
    post:
      consumes:
      - application/json
      description: 创建新的书籍详情信息
      parameters:
      - description: 书籍详情信息
        in: body
        name: book
        required: true
        schema:
          $ref: '#/definitions/bookstore.BookDetail'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 创建书籍详情
      tags:
      - 书籍详情
  /api/v1/books/{book_id}/chapters:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取所有章节
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据书籍ID获取章节列表
      tags:
      - 章节
  /api/v1/books/{book_id}/chapters/{chapter_num}:
    get:
      consumes:
      - application/json
      description: 根据书籍ID和章节号获取特定章节
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      - description: 章节号
        in: path
        name: chapter_num
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据书籍ID和章节号获取章节
      tags:
      - 章节
  /api/v1/books/{book_id}/chapters/first:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取第一章节
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取第一章节
      tags:
      - 章节
  /api/v1/books/{book_id}/chapters/free:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取免费章节列表
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取免费章节
      tags:
      - 章节
  /api/v1/books/{book_id}/chapters/last:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取最后章节
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取最后章节
      tags:
      - 章节
  /api/v1/books/{book_id}/chapters/paid:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取付费章节列表
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取付费章节
      tags:
      - 章节
  /api/v1/books/{book_id}/chapters/published:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取已发布章节列表
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取已发布章节
      tags:
      - 章节
  /api/v1/books/{book_id}/chapters/statistics:
    get:
      consumes:
      - application/json
      description: 获取书籍的章节统计信息
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取章节统计信息
      tags:
      - 章节
  /api/v1/books/{id}:
    delete:
      consumes:
      - application/json
      description: 删除书籍详情信息
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 删除书籍详情
      tags:
      - 书籍详情
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取详细信息
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取书籍详情
      tags:
      - 书籍详情
    put:
      consumes:
      - application/json
      description: 更新书籍详情信息
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      - description: 书籍详情信息
        in: body
        name: book
        required: true
        schema:
          $ref: '#/definitions/bookstore.BookDetail'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 更新书籍详情
      tags:
      - 书籍详情
  /api/v1/books/{id}/like:
    post:
      consumes:
      - application/json
      description: 用户点赞书籍，增加点赞数统计
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      security:
      - BearerAuth: []
      summary: 增加书籍点赞数
      tags:
      - 书籍交互
  /api/v1/books/{id}/similar:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取相似书籍
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      - default: 10
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取相似书籍
      tags:
      - 书籍详情
  /api/v1/books/{id}/statistics:
    get:
      consumes:
      - application/json
      description: 获取书籍的浏览量、收藏量等统计信息
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      security:
      - BearerAuth: []
      summary: 获取书籍统计信息
      tags:
      - 书籍交互
  /api/v1/books/{id}/unlike:
    post:
      consumes:
      - application/json
      description: 用户取消点赞书籍，减少点赞数统计
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      security:
      - BearerAuth: []
      summary: 减少书籍点赞数
      tags:
      - 书籍交互
  /api/v1/books/{id}/view:
    post:
      consumes:
      - application/json
      description: 记录用户浏览书籍详情，增加浏览量统计
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      security:
      - BearerAuth: []
      summary: 增加书籍浏览量
      tags:
      - 书籍交互
  /api/v1/books/category:
    get:
      consumes:
      - application/json
      description: 根据分类获取书籍列表
      parameters:
      - description: 分类名称
        in: query
        name: category
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据分类获取书籍
      tags:
      - 书籍详情
  /api/v1/books/latest:
    get:
      consumes:
      - application/json
      description: 获取最新发布的书籍列表
      parameters:
      - default: 10
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取最新书籍
      tags:
      - 书籍推荐
  /api/v1/books/popular:
    get:
      consumes:
      - application/json
      description: 获取热门书籍列表
      parameters:
      - default: 10
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取热门书籍
      tags:
      - 书籍推荐
  /api/v1/books/recommended:
    get:
      consumes:
      - application/json
      description: 获取推荐书籍列表
      parameters:
      - default: 10
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取推荐书籍
      tags:
      - 书籍详情
  /api/v1/books/search:
    get:
      consumes:
      - application/json
      description: 根据关键词搜索书籍
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 搜索书籍
      tags:
      - 书籍详情
  /api/v1/books/search/author:
    get:
      consumes:
      - application/json
      description: 根据作者名称搜索书籍
      parameters:
      - description: 作者名称
        in: query
        name: author
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据作者搜索书籍
      tags:
      - 书籍详情
  /api/v1/books/search/title:
    get:
      consumes:
      - application/json
      description: 根据书籍标题进行模糊搜索
      parameters:
      - description: 书籍标题
        in: query
        name: title
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据标题搜索书籍
      tags:
      - 书籍详情
  /api/v1/books/status:
    get:
      consumes:
      - application/json
      description: 根据书籍状态获取书籍列表
      parameters:
      - description: 书籍状态(serializing/completed/paused)
        in: query
        name: status
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据状态获取书籍
      tags:
      - 书籍详情
  /api/v1/books/tags:
    get:
      consumes:
      - application/json
      description: 根据标签获取书籍列表
      parameters:
      - description: 标签列表(逗号分隔)
        in: query
        name: tags
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据标签获取书籍
      tags:
      - 书籍详情
  /api/v1/bookstore/banners:
    get:
      consumes:
      - application/json
      description: 获取当前激活的Banner列表
      parameters:
      - default: 5
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取激活的Banner列表
      tags:
      - Banner
  /api/v1/bookstore/banners/{id}/click:
    post:
      consumes:
      - application/json
      description: 记录用户点击Banner，增加点击次数统计
      parameters:
      - description: Banner ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 增加Banner点击次数
      tags:
      - Banner
  /api/v1/bookstore/books:
    get:
      consumes:
      - application/json
      description: 获取所有书籍列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.PaginatedResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取书籍列表
      tags:
      - 书籍
  /api/v1/bookstore/books/{id}:
    get:
      consumes:
      - application/json
      description: 根据书籍ID获取书籍的详细信息
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取书籍详情
      tags:
      - 书籍
  /api/v1/bookstore/books/{id}/chapters:
    get:
      consumes:
      - application/json
      description: 获取指定书籍的章节目录，返回树形结构的章节列表
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取书籍章节目录
      tags:
      - 章节目录
  /api/v1/bookstore/books/{id}/chapters/{chapterId}:
    get:
      consumes:
      - application/json
      description: 根据章节ID获取章节详细信息
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取单个章节信息
      tags:
      - 章节目录
  /api/v1/bookstore/books/{id}/similar:
    get:
      consumes:
      - application/json
      description: 基于书籍分类、标签等推荐相似书籍，有四层降级策略
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取相似书籍推荐
      tags:
      - 书籍交互
  /api/v1/bookstore/books/{id}/trial-chapters:
    get:
      consumes:
      - application/json
      description: 获取书籍的试读章节列表（通常前N章免费）
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      - default: 10
        description: 试读章节数量
        in: query
        name: count
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取试读章节列表
      tags:
      - 章节目录
  /api/v1/bookstore/books/{id}/view:
    post:
      consumes:
      - application/json
      description: 记录用户浏览书籍，增加浏览量统计
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 增加书籍浏览量
      tags:
      - 书籍
  /api/v1/bookstore/books/{id}/vip-chapters:
    get:
      consumes:
      - application/json
      description: 获取书籍的VIP章节列表（需要VIP权限）
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取VIP章节列表
      tags:
      - 章节目录
  /api/v1/bookstore/books/featured:
    get:
      consumes:
      - application/json
      description: 获取精选书籍列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取精选书籍
      tags:
      - 书籍推荐
  /api/v1/bookstore/books/recommended:
    get:
      consumes:
      - application/json
      description: 获取推荐书籍列表，支持分页
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取推荐书籍
      tags:
      - 书籍推荐
  /api/v1/bookstore/books/search:
    get:
      consumes:
      - application/json
      description: 根据关键词和过滤条件搜索书籍
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        type: string
      - description: 分类ID
        in: query
        name: categoryId
        type: string
      - description: 作者
        in: query
        name: author
        type: string
      - description: 最低评分
        in: query
        name: minRating
        type: number
      - collectionFormat: csv
        description: 标签
        in: query
        items:
          type: string
        name: tags
        type: array
      - description: 排序字段
        enum:
        - created_at
        - updated_at
        - view_count
        - like_count
        - rating
        in: query
        name: sortBy
        type: string
      - description: 排序方向
        enum:
        - asc
        - desc
        in: query
        name: sortOrder
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 搜索书籍
      tags:
      - 书籍
  /api/v1/bookstore/books/search/author:
    get:
      consumes:
      - application/json
      description: 根据作者姓名进行模糊搜索，支持分页。优先使用SearchService (Milvus向量搜索)，失败或空结果时fallback到MongoDB
      parameters:
      - description: 作者姓名
        in: query
        name: author
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 按作者搜索书籍
      tags:
      - 书籍搜索
  /api/v1/bookstore/books/search/title:
    get:
      consumes:
      - application/json
      description: 根据书籍标题进行模糊搜索，支持分页。优先使用SearchService (Milvus向量搜索)，失败或空结果时fallback到MongoDB
      parameters:
      - description: 标题关键词
        in: query
        name: title
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 按标题搜索书籍
      tags:
      - 书籍搜索
  /api/v1/bookstore/books/status:
    get:
      consumes:
      - application/json
      description: 根据书籍连载状态筛选书籍，支持分页
      parameters:
      - description: 书籍状态
        enum:
        - ongoing
        - completed
        - paused
        in: query
        name: status
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 按状态筛选书籍
      tags:
      - 书籍筛选
  /api/v1/bookstore/books/tags:
    get:
      consumes:
      - application/json
      description: 根据一个或多个标签筛选书籍，ANY语义（命中任一即可）
      parameters:
      - description: 标签列表（逗号分隔）
        in: query
        name: tags
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 按标签筛选书籍
      tags:
      - 书籍筛选
  /api/v1/bookstore/categories/{categoryId}/books:
    get:
      consumes:
      - application/json
      description: 根据分类ID获取该分类下的书籍列表，支持分页
      parameters:
      - description: 分类ID
        in: path
        name: categoryId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据分类获取书籍列表
      tags:
      - 书籍
  /api/v1/bookstore/categories/{id}:
    get:
      consumes:
      - application/json
      description: 根据分类ID获取分类的详细信息
      parameters:
      - description: 分类ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取分类详情
      tags:
      - 分类
  /api/v1/bookstore/categories/tree:
    get:
      consumes:
      - application/json
      description: 获取完整的分类树结构
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取分类树
      tags:
      - 分类
  /api/v1/bookstore/chapters/{chapterId}/access:
    get:
      consumes:
      - application/json
      description: 检查用户对指定章节的访问权限
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 检查章节访问权限
      tags:
      - 章节购买
  /api/v1/bookstore/chapters/{chapterId}/price:
    get:
      consumes:
      - application/json
      description: 获取指定章节的价格信息
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取章节价格
      tags:
      - 章节购买
  /api/v1/bookstore/homepage:
    get:
      consumes:
      - application/json
      description: 获取书城首页的Banner、推荐书籍、精选书籍、分类等数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取书城首页数据
      tags:
      - 书城
  /api/v1/bookstore/rankings/{type}:
    get:
      consumes:
      - application/json
      description: 根据榜单类型获取指定周期的榜单数据
      parameters:
      - description: 榜单类型
        enum:
        - realtime
        - weekly
        - monthly
        - newbie
        in: path
        name: type
        required: true
        type: string
      - description: 周期
        in: query
        name: period
        type: string
      - default: 20
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 根据类型获取榜单
      tags:
      - 书籍排行榜
  /api/v1/bookstore/rankings/monthly:
    get:
      consumes:
      - application/json
      description: 获取指定月份的月榜单数据
      parameters:
      - description: '月份 (格式: 2024-01)'
        in: query
        name: period
        type: string
      - default: 20
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取月榜单
      tags:
      - 书籍排行榜
  /api/v1/bookstore/rankings/newbie:
    get:
      consumes:
      - application/json
      description: 获取指定月份的新人榜单数据
      parameters:
      - description: '月份 (格式: 2024-01)'
        in: query
        name: period
        type: string
      - default: 20
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取新人榜单
      tags:
      - 书籍排行榜
  /api/v1/bookstore/rankings/realtime:
    get:
      consumes:
      - application/json
      description: 获取当日实时榜单数据
      parameters:
      - default: 20
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取实时榜单
      tags:
      - 书籍排行榜
  /api/v1/bookstore/rankings/weekly:
    get:
      consumes:
      - application/json
      description: 获取指定周期的周榜单数据
      parameters:
      - description: '周期 (格式: 2024-W01)'
        in: query
        name: period
        type: string
      - default: 20
        description: 限制数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取周榜单
      tags:
      - 书籍排行榜
  /api/v1/chapters:
    post:
      consumes:
      - application/json
      description: 创建新的章节
      parameters:
      - description: 章节信息
        in: body
        name: chapter
        required: true
        schema:
          $ref: '#/definitions/bookstore.Chapter'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 创建章节
      tags:
      - 章节
  /api/v1/chapters/{id}:
    delete:
      consumes:
      - application/json
      description: 删除章节
      parameters:
      - description: 章节ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 删除章节
      tags:
      - 章节
    get:
      consumes:
      - application/json
      description: 根据章节ID获取章节详细信息
      parameters:
      - description: 章节ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取章节详情
      tags:
      - 章节
    put:
      consumes:
      - application/json
      description: 更新章节信息
      parameters:
      - description: 章节ID
        in: path
        name: id
        required: true
        type: string
      - description: 章节信息
        in: body
        name: chapter
        required: true
        schema:
          $ref: '#/definitions/bookstore.Chapter'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 更新章节
      tags:
      - 章节
  /api/v1/chapters/{id}/content:
    get:
      consumes:
      - application/json
      description: 根据章节ID获取章节内容
      parameters:
      - description: 章节ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取章节内容
      tags:
      - 章节
  /api/v1/chapters/{id}/next:
    get:
      consumes:
      - application/json
      description: 根据当前章节ID获取下一章节
      parameters:
      - description: 当前章节ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取下一章节
      tags:
      - 章节
  /api/v1/chapters/{id}/previous:
    get:
      consumes:
      - application/json
      description: 根据当前章节ID获取上一章节
      parameters:
      - description: 当前章节ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取上一章节
      tags:
      - 章节
  /api/v1/chapters/search:
    get:
      consumes:
      - application/json
      description: 根据关键词搜索章节
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - description: 书籍ID(可选)
        in: query
        name: book_id
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 搜索章节
      tags:
      - 章节
  /api/v1/characters/{characterId}:
    delete:
      consumes:
      - application/json
      description: 删除指定角色
      parameters:
      - description: 角色ID
        in: path
        name: characterId
        required: true
        type: string
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除角色
      tags:
      - 角色管理
    get:
      consumes:
      - application/json
      description: 根据ID获取角色详细信息
      parameters:
      - description: 角色ID
        in: path
        name: characterId
        required: true
        type: string
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取角色详情
      tags:
      - 角色管理
    put:
      consumes:
      - application/json
      description: 更新角色信息
      parameters:
      - description: 角色ID
        in: path
        name: characterId
        required: true
        type: string
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      - description: 更新角色请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新角色
      tags:
      - 角色管理
  /api/v1/characters/relations:
    post:
      consumes:
      - application/json
      description: 创建两个角色之间的关系
      parameters:
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      - description: 创建关系请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建角色关系
      tags:
      - 角色管理
  /api/v1/characters/relations/{relationId}:
    delete:
      consumes:
      - application/json
      description: 删除指定的角色关系
      parameters:
      - description: 关系ID
        in: path
        name: relationId
        required: true
        type: string
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除角色关系
      tags:
      - 角色管理
  /api/v1/documents/{documentId}/versions:
    get:
      consumes:
      - application/json
      description: 获取文档的版本历史列表
      parameters:
      - description: 文档ID
        in: path
        name: documentId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取版本历史
      tags:
      - 版本控制
  /api/v1/documents/{documentId}/versions/{versionId}:
    get:
      consumes:
      - application/json
      description: 获取文档的特定版本内容
      parameters:
      - description: 文档ID
        in: path
        name: documentId
        required: true
        type: string
      - description: 版本ID
        in: path
        name: versionId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取特定版本
      tags:
      - 版本控制
  /api/v1/documents/{documentId}/versions/{versionId}/restore:
    post:
      consumes:
      - application/json
      description: 将文档恢复到特定版本
      parameters:
      - description: 文档ID
        in: path
        name: documentId
        required: true
        type: string
      - description: 版本ID
        in: path
        name: versionId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 恢复版本
      tags:
      - 版本控制
  /api/v1/documents/{documentId}/versions/compare:
    get:
      consumes:
      - application/json
      description: 比较两个版本的差异
      parameters:
      - description: 文档ID
        in: path
        name: documentId
        required: true
        type: string
      - description: 源版本ID
        in: query
        name: fromVersion
        required: true
        type: string
      - description: 目标版本ID
        in: query
        name: toVersion
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 比较版本
      tags:
      - 版本控制
  /api/v1/documents/{id}:
    delete:
      consumes:
      - application/json
      description: 删除文档（软删除）
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除文档
      tags:
      - 文档管理
    get:
      consumes:
      - application/json
      description: 根据ID获取文档详细信息
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取文档详情
      tags:
      - 文档管理
    put:
      consumes:
      - application/json
      description: 更新文档信息
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新文档请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新文档
      tags:
      - 文档管理
  /api/v1/documents/{id}/audit:
    post:
      consumes:
      - application/json
      description: 对文档进行全文审核并创建审核记录
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 审核请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 全文审核文档
      tags:
      - 审核
  /api/v1/documents/{id}/audit-result:
    get:
      consumes:
      - application/json
      description: 根据文档ID获取审核结果
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - default: document
        description: 目标类型
        in: query
        name: targetType
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取审核结果
      tags:
      - 审核
  /api/v1/documents/{id}/autosave:
    post:
      consumes:
      - application/json
      description: 自动保存文档内容（支持版本冲突检测）
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 自动保存请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "409":
          description: 版本冲突
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 自动保存文档
      tags:
      - 编辑器
  /api/v1/documents/{id}/content:
    get:
      consumes:
      - application/json
      description: 获取文档的完整内容（用于编辑器加载）
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取文档内容
      tags:
      - 编辑器
    put:
      consumes:
      - application/json
      description: 手动更新文档内容（非自动保存）
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新内容请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新文档内容
      tags:
      - 编辑器
  /api/v1/documents/{id}/move:
    put:
      consumes:
      - application/json
      description: 移动文档到新的父节点
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 移动文档请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 移动文档
      tags:
      - 文档管理
  /api/v1/documents/{id}/save-status:
    get:
      consumes:
      - application/json
      description: 获取文档的保存状态和最后保存时间
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取保存状态
      tags:
      - 编辑器
  /api/v1/documents/{id}/word-count:
    post:
      consumes:
      - application/json
      description: 计算文档内容的字数统计（支持Markdown过滤）
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 字数统计请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.WordCountRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 计算字数
      tags:
      - 编辑器
  /api/v1/files:
    get:
      description: 查询用户的文件列表
      parameters:
      - description: 分类
        in: query
        name: category
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页大小
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 查询文件列表
      tags:
      - 文件存储
  /api/v1/files/{file_id}/access:
    delete:
      consumes:
      - application/json
      description: 撤销用户文件访问权限
      parameters:
      - description: 文件ID
        in: path
        name: file_id
        required: true
        type: string
      - description: 用户ID
        in: query
        name: user_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 撤销访问权限
      tags:
      - 文件存储
    post:
      consumes:
      - application/json
      description: 授予用户文件访问权限
      parameters:
      - description: 文件ID
        in: path
        name: file_id
        required: true
        type: string
      - description: 请求体
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 授予访问权限
      tags:
      - 文件存储
  /api/v1/files/{id}:
    delete:
      description: 删除文件
      parameters:
      - description: 文件ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 删除文件
      tags:
      - 文件存储
    get:
      description: 获取文件详细信息
      parameters:
      - description: 文件ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取文件信息
      tags:
      - 文件存储
  /api/v1/files/{id}/download:
    get:
      description: 下载文件
      parameters:
      - description: 文件ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/octet-stream
      responses:
        "200":
          description: 文件内容
          schema:
            type: file
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 下载文件
      tags:
      - 文件存储
  /api/v1/files/{id}/url:
    get:
      description: 生成临时下载链接
      parameters:
      - description: 文件ID
        in: path
        name: id
        required: true
        type: string
      - default: 3600
        description: 过期时间(秒)
        in: query
        name: expires_in
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取下载链接
      tags:
      - 文件存储
  /api/v1/files/multipart/abort:
    post:
      consumes:
      - application/json
      description: 中止分片上传任务
      parameters:
      - description: 上传ID
        in: query
        name: upload_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 中止分片上传
      tags:
      - 文件存储
  /api/v1/files/multipart/complete:
    post:
      consumes:
      - application/json
      description: 完成所有分片上传，合并文件
      parameters:
      - description: 完成请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/storage.CompleteMultipartUploadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 完成分片上传
      tags:
      - 文件存储
  /api/v1/files/multipart/init:
    post:
      consumes:
      - application/json
      description: 初始化大文件分片上传
      parameters:
      - description: 初始化请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/storage.InitiateMultipartUploadRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 初始化分片上传
      tags:
      - 文件存储
  /api/v1/files/multipart/progress:
    get:
      description: 获取分片上传进度
      parameters:
      - description: 上传ID
        in: query
        name: upload_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取上传进度
      tags:
      - 文件存储
  /api/v1/files/multipart/upload:
    post:
      consumes:
      - multipart/form-data
      description: 上传单个文件分片
      parameters:
      - description: 上传ID
        in: formData
        name: upload_id
        required: true
        type: string
      - description: 分片索引
        in: formData
        name: chunk_index
        required: true
        type: integer
      - description: 分片文件
        in: formData
        name: chunk
        required: true
        type: file
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 上传文件分片
      tags:
      - 文件存储
  /api/v1/files/thumbnail:
    post:
      consumes:
      - application/json
      description: 为图片生成缩略图
      parameters:
      - description: 文件ID
        in: query
        name: file_id
        required: true
        type: string
      - default: 200
        description: 宽度
        in: query
        name: width
        type: integer
      - default: 200
        description: 高度
        in: query
        name: height
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 生成缩略图
      tags:
      - 文件存储
  /api/v1/files/upload:
    post:
      consumes:
      - multipart/form-data
      description: 上传单个文件（小文件 <50MB）
      parameters:
      - description: 文件
        in: formData
        name: file
        required: true
        type: file
      - default: attachment
        description: 分类
        in: formData
        name: category
        type: string
      - default: false
        description: 是否公开
        in: formData
        name: is_public
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 上传文件
      tags:
      - 文件存储
  /api/v1/finance/author/earnings:
    get:
      consumes:
      - application/json
      description: 获取作者的收入记录列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取作者收入列表
      tags:
      - 作者收入
  /api/v1/finance/author/earnings/:bookId:
    get:
      consumes:
      - application/json
      description: 获取指定书籍的收入记录
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取某本书的收入
      tags:
      - 作者收入
  /api/v1/finance/author/revenue-details:
    get:
      consumes:
      - application/json
      description: 获取作者的收入明细
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取收入明细
      tags:
      - 作者收入
  /api/v1/finance/author/revenue-statistics:
    get:
      consumes:
      - application/json
      description: 获取作者的收入统计数据
      parameters:
      - description: 统计周期
        enum:
        - daily
        - monthly
        - yearly
        in: query
        name: period
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取收入统计
      tags:
      - 作者收入
  /api/v1/finance/author/settlements:
    get:
      consumes:
      - application/json
      description: 获取作者的结算记录
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取结算记录
      tags:
      - 作者收入
  /api/v1/finance/author/settlements/:id:
    get:
      consumes:
      - application/json
      description: 获取指定结算记录的详细信息
      parameters:
      - description: 结算ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取结算详情
      tags:
      - 作者收入
  /api/v1/finance/author/tax-info:
    get:
      consumes:
      - application/json
      description: 获取作者的税务信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取税务信息
      tags:
      - 作者收入
    put:
      consumes:
      - application/json
      description: 更新作者的税务信息
      parameters:
      - description: 税务信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/finance.UpdateTaxInfoRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 更新税务信息
      tags:
      - 作者收入
  /api/v1/finance/author/withdraw:
    post:
      consumes:
      - application/json
      description: 作者申请提现
      parameters:
      - description: 提现信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_finance.WithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 申请提现
      tags:
      - 作者收入
  /api/v1/finance/author/withdrawals:
    get:
      consumes:
      - application/json
      description: 获取用户的提现申请记录
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取提现记录
      tags:
      - 作者收入
  /api/v1/finance/membership/benefits:
    get:
      consumes:
      - application/json
      description: 获取会员权益列表
      parameters:
      - description: 会员等级
        in: query
        name: level
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取会员权益列表
      tags:
      - 会员系统
  /api/v1/finance/membership/cancel:
    post:
      consumes:
      - application/json
      description: 取消会员自动续费
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 取消自动续费
      tags:
      - 会员系统
  /api/v1/finance/membership/cards:
    get:
      consumes:
      - application/json
      description: 获取会员卡列表（管理员）
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取会员卡列表
      tags:
      - 会员系统
  /api/v1/finance/membership/cards/activate:
    post:
      consumes:
      - application/json
      description: 使用卡密激活会员
      parameters:
      - description: 激活信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/finance.ActivateCardRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 激活会员卡
      tags:
      - 会员系统
  /api/v1/finance/membership/plans:
    get:
      consumes:
      - application/json
      description: 获取所有可用的会员套餐
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      summary: 获取会员套餐列表
      tags:
      - 会员系统
  /api/v1/finance/membership/renew:
    put:
      consumes:
      - application/json
      description: 手动续费会员
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 手动续费
      tags:
      - 会员系统
  /api/v1/finance/membership/status:
    get:
      consumes:
      - application/json
      description: 获取当前用户的会员状态信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取会员状态
      tags:
      - 会员系统
  /api/v1/finance/membership/subscribe:
    post:
      consumes:
      - application/json
      description: 用户订阅会员套餐
      parameters:
      - description: 订阅信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/finance.SubscribeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 订阅会员
      tags:
      - 会员系统
  /api/v1/finance/membership/usage:
    get:
      consumes:
      - application/json
      description: 获取当前用户的权益使用情况
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取会员权益使用情况
      tags:
      - 会员系统
  /api/v1/finance/wallet:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的钱包完整信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取钱包信息
      tags:
      - 钱包
  /api/v1/finance/wallet/balance:
    get:
      consumes:
      - application/json
      description: 查询当前登录用户的钱包余额
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 查询钱包余额
      tags:
      - 钱包
  /api/v1/finance/wallet/consume:
    post:
      consumes:
      - application/json
      description: 使用钱包余额消费
      parameters:
      - description: 消费信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/finance.ConsumeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 钱包消费
      tags:
      - 钱包
  /api/v1/finance/wallet/recharge:
    post:
      consumes:
      - application/json
      description: 用户钱包充值
      parameters:
      - description: 充值信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/finance.RechargeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 钱包充值
      tags:
      - 钱包
  /api/v1/finance/wallet/transactions:
    get:
      consumes:
      - application/json
      description: 查询用户的交易记录列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 交易类型
        in: query
        name: type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取交易记录
      tags:
      - 钱包
  /api/v1/finance/wallet/transfer:
    post:
      consumes:
      - application/json
      description: 向其他用户转账
      parameters:
      - description: 转账信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/finance.TransferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 用户转账
      tags:
      - 钱包
  /api/v1/finance/wallet/withdraw:
    post:
      consumes:
      - application/json
      description: 用户申请提现
      parameters:
      - description: 提现信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_finance.WithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 申请提现
      tags:
      - 钱包
  /api/v1/finance/wallet/withdrawals:
    get:
      consumes:
      - application/json
      description: 查询用户提现申请列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/finance.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/finance.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 查询提现申请
      tags:
      - 钱包
  /api/v1/notifications:
    get:
      consumes:
      - application/json
      description: 获取当前用户的通知列表（分页）
      parameters:
      - description: 页码（默认1）
        in: query
        name: page
        type: integer
      - description: 每页大小（默认20）
        in: query
        name: page_size
        type: integer
      - description: 是否已读过滤
        in: query
        name: is_read
        type: boolean
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取通知列表
      tags:
      - 通知
    post:
      consumes:
      - application/json
      description: 创建系统通知（仅管理员）
      parameters:
      - description: 创建请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/shared.CreateNotificationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 创建系统通知
      tags:
      - 通知
  /api/v1/notifications/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定通知
      parameters:
      - description: 通知ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 删除通知
      tags:
      - 通知
    get:
      consumes:
      - application/json
      description: 根据ID获取通知详情
      parameters:
      - description: 通知ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取通知详情
      tags:
      - notifications
  /api/v1/notifications/{id}/read:
    put:
      consumes:
      - application/json
      description: 标记指定通知为已读
      parameters:
      - description: 通知ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 标记为已读
      tags:
      - 通知
  /api/v1/notifications/batch-delete:
    delete:
      consumes:
      - application/json
      description: 批量删除多个通知
      parameters:
      - description: 通知ID列表
        in: body
        name: request
        required: true
        schema:
          properties:
            ids:
              items:
                type: string
              type: array
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量删除通知
      tags:
      - notifications
  /api/v1/notifications/delete-all:
    delete:
      consumes:
      - application/json
      description: 删除当前用户的所有通知
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除所有通知
      tags:
      - notifications
  /api/v1/notifications/mark-read:
    put:
      consumes:
      - application/json
      description: 将多个通知标记为已读
      parameters:
      - description: 通知ID列表
        in: body
        name: request
        required: true
        schema:
          properties:
            ids:
              items:
                type: string
              type: array
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量标记通知为已读
      tags:
      - notifications
  /api/v1/notifications/preferences:
    get:
      consumes:
      - application/json
      description: 获取当前用户的通知偏好设置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取通知偏好设置
      tags:
      - notifications
    put:
      consumes:
      - application/json
      description: 更新当前用户的通知偏好设置
      parameters:
      - description: 偏好设置
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新通知偏好设置
      tags:
      - notifications
  /api/v1/notifications/preferences/reset:
    post:
      consumes:
      - application/json
      description: 重置当前用户的通知偏好设置为默认值
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 重置通知偏好设置
      tags:
      - notifications
  /api/v1/notifications/push/devices:
    get:
      consumes:
      - application/json
      description: 获取当前用户的推送设备列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取推送设备列表
      tags:
      - notifications
  /api/v1/notifications/push/register:
    post:
      consumes:
      - application/json
      description: 注册新的推送设备
      parameters:
      - description: 设备信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 注册推送设备
      tags:
      - notifications
  /api/v1/notifications/push/unregister/{deviceId}:
    delete:
      consumes:
      - application/json
      description: 取消注册推送设备
      parameters:
      - description: 设备ID
        in: path
        name: deviceId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 取消注册推送设备
      tags:
      - notifications
  /api/v1/notifications/read-all:
    put:
      consumes:
      - application/json
      description: 标记当前用户的所有通知为已读
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 标记所有为已读
      tags:
      - 通知
  /api/v1/notifications/stats:
    get:
      consumes:
      - application/json
      description: 获取当前用户的通知统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取通知统计
      tags:
      - notifications
  /api/v1/notifications/unread-count:
    get:
      consumes:
      - application/json
      description: 获取当前用户的未读通知数量
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  additionalProperties:
                    format: int64
                    type: integer
                  type: object
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取未读数量
      tags:
      - 通知
  /api/v1/projects:
    get:
      consumes:
      - application/json
      description: 获取当前用户的项目列表（支持分页和筛选）
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: pageSize
        type: integer
      - description: 项目状态
        in: query
        name: status
        type: string
      - description: 项目分类
        in: query
        name: category
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取项目列表
      tags:
      - 项目管理
    post:
      consumes:
      - application/json
      description: 创建一个新的写作项目
      parameters:
      - description: 创建项目请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建项目
      tags:
      - 项目管理
  /api/v1/projects/{id}:
    delete:
      consumes:
      - application/json
      description: 删除项目（软删除）
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除项目
      tags:
      - 项目管理
    get:
      consumes:
      - application/json
      description: 根据ID获取项目详细信息
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取项目详情
      tags:
      - 项目管理
    put:
      consumes:
      - application/json
      description: 更新项目信息
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新项目请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新项目
      tags:
      - 项目管理
  /api/v1/projects/{id}/statistics:
    put:
      consumes:
      - application/json
      description: 更新项目的统计信息（字数、章节数等）
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新项目统计信息
      tags:
      - 项目管理
  /api/v1/projects/{projectId}/characters:
    get:
      consumes:
      - application/json
      description: 获取指定项目的所有角色
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取项目角色列表
      tags:
      - 角色管理
    post:
      consumes:
      - application/json
      description: 在项目中创建一个新角色
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - description: 创建角色请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建角色
      tags:
      - 角色管理
  /api/v1/projects/{projectId}/characters/graph:
    get:
      consumes:
      - application/json
      description: 获取项目的角色关系图（包含所有角色和关系）
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取角色关系图
      tags:
      - 角色管理
  /api/v1/projects/{projectId}/characters/relations:
    get:
      consumes:
      - application/json
      description: 获取项目或指定角色的关系列表
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - description: 角色ID（可选，不传则返回项目所有关系）
        in: query
        name: characterId
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取角色关系列表
      tags:
      - 角色管理
  /api/v1/projects/{projectId}/documents:
    get:
      consumes:
      - application/json
      description: 获取项目下的文档列表（支持分页）
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取文档列表
      tags:
      - 文档管理
    post:
      consumes:
      - application/json
      description: 在项目中创建新文档
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - description: 创建文档请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建文档
      tags:
      - 文档管理
  /api/v1/projects/{projectId}/documents/reorder:
    put:
      consumes:
      - application/json
      description: 批量更新同级文档的顺序
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - description: 排序请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 重新排序文档
      tags:
      - 文档管理
  /api/v1/projects/{projectId}/documents/tree:
    get:
      consumes:
      - application/json
      description: 获取项目的文档树形结构
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取文档树
      tags:
      - 文档管理
  /api/v1/reader/annotations:
    post:
      parameters:
      - description: 创建标注请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.CreateAnnotationRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建标注
      tags:
      - 阅读器
  /api/v1/reader/annotations/{id}:
    delete:
      parameters:
      - description: 标注ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除标注
      tags:
      - 阅读器
    put:
      parameters:
      - description: 标注ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新标注请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.UpdateAnnotationRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新标注
      tags:
      - 阅读器
  /api/v1/reader/annotations/batch:
    delete:
      parameters:
      - description: 批量删除注记请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.BatchDeleteAnnotationsRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量删除注记
      tags:
      - 阅读器
    post:
      parameters:
      - description: 批量创建注记请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.BatchCreateAnnotationsRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量创建注记
      tags:
      - 阅读器
    put:
      parameters:
      - description: 批量更新注记请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.BatchUpdateAnnotationsRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量更新注记
      tags:
      - 阅读器
  /api/v1/reader/annotations/book:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书籍标注
      tags:
      - 阅读器
  /api/v1/reader/annotations/bookmarks:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书签
      tags:
      - 阅读器
  /api/v1/reader/annotations/bookmarks/latest:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取最新书签
      tags:
      - 阅读器
  /api/v1/reader/annotations/chapter:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      - description: 章节ID
        in: query
        name: chapterId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取章节标注
      tags:
      - 阅读器
  /api/v1/reader/annotations/export:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      - default: json
        description: 导出格式 (json/markdown/txt)
        in: query
        name: format
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 导出注记
      tags:
      - 阅读器
  /api/v1/reader/annotations/highlights:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取高亮
      tags:
      - 阅读器
  /api/v1/reader/annotations/notes:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取笔记
      tags:
      - 阅读器
  /api/v1/reader/annotations/notes/search:
    get:
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 搜索笔记
      tags:
      - 阅读器
  /api/v1/reader/annotations/public:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      - description: 章节ID
        in: query
        name: chapterId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取公开标注
      tags:
      - 阅读器
  /api/v1/reader/annotations/recent:
    get:
      parameters:
      - default: 20
        description: 数量限制
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取最近标注
      tags:
      - 阅读器
  /api/v1/reader/annotations/stats:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取注记统计
      tags:
      - 阅读器
  /api/v1/reader/annotations/sync:
    post:
      parameters:
      - description: 同步注记请求
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 同步注记
      tags:
      - 阅读器
  /api/v1/reader/behavior:
    post:
      consumes:
      - application/json
      description: 记录读者的阅读行为（浏览、完读、跳出等）
      parameters:
      - description: 读者行为数据
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 记录读者行为
      tags:
      - Stats
  /api/v1/reader/bookmarks:
    get:
      consumes:
      - application/json
      description: 获取用户的书签列表，支持筛选和分页
      parameters:
      - description: 颜色筛选
        in: query
        name: color
        type: string
      - description: 标签筛选
        in: query
        name: tag
        type: string
      - description: 是否公开
        in: query
        name: isPublic
        type: boolean
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书签列表
      tags:
      - Reader-Bookmark
  /api/v1/reader/bookmarks/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定书签
      parameters:
      - description: 书签ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除书签
      tags:
      - Reader-Bookmark
    get:
      consumes:
      - application/json
      description: 获取单个书签的详细信息
      parameters:
      - description: 书签ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书签详情
      tags:
      - Reader-Bookmark
    put:
      consumes:
      - application/json
      description: 更新书签信息
      parameters:
      - description: 书签ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.UpdateBookmarkRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新书签
      tags:
      - Reader-Bookmark
  /api/v1/reader/bookmarks/export:
    get:
      consumes:
      - application/json
      description: 导出用户的所有书签
      parameters:
      - description: 导出格式
        enum:
        - json
        - csv
        in: query
        name: format
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: file
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 导出书签
      tags:
      - Reader-Bookmark
  /api/v1/reader/bookmarks/search:
    get:
      consumes:
      - application/json
      description: 在笔记、引用、标签中搜索关键词
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 搜索书签
      tags:
      - Reader-Bookmark
  /api/v1/reader/bookmarks/stats:
    get:
      consumes:
      - application/json
      description: 获取用户的书签统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 书签统计
      tags:
      - Reader-Bookmark
  /api/v1/reader/books:
    get:
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书架
      tags:
      - 阅读器-书架
  /api/v1/reader/books/{bookId}:
    delete:
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 从书架移除
      tags:
      - 阅读器-书架
    post:
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 添加到书架
      tags:
      - 阅读器-书架
  /api/v1/reader/books/{bookId}/bookmarks:
    get:
      consumes:
      - application/json
      description: 获取用户的书签列表，支持筛选和分页
      parameters:
      - description: 书籍ID（可选，获取某本书的书签）
        in: path
        name: bookId
        type: string
      - description: 颜色筛选
        in: query
        name: color
        type: string
      - description: 标签筛选
        in: query
        name: tag
        type: string
      - description: 是否公开
        in: query
        name: isPublic
        type: boolean
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书签列表
      tags:
      - Reader-Bookmark
    post:
      consumes:
      - application/json
      description: 在指定章节位置创建书签
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      - description: 书签信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.CreateBookmarkRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "409":
          description: 书签已存在
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建书签
      tags:
      - Reader-Bookmark
  /api/v1/reader/books/{bookId}/chapters:
    get:
      consumes:
      - application/json
      description: 获取书籍的章节目录列表
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 50
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取章节目录
      tags:
      - 阅读器-章节
  /api/v1/reader/books/{bookId}/chapters/{chapterId}/next:
    get:
      consumes:
      - application/json
      description: 获取当前章节的下一章信息
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      - description: 当前章节ID
        in: path
        name: chapterId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取下一章
      tags:
      - 阅读器-章节
  /api/v1/reader/books/{bookId}/chapters/{chapterId}/previous:
    get:
      consumes:
      - application/json
      description: 获取当前章节的上一章信息
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      - description: 当前章节ID
        in: path
        name: chapterId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取上一章
      tags:
      - 阅读器-章节
  /api/v1/reader/books/{bookId}/chapters/by-number/{chapterNum}:
    get:
      consumes:
      - application/json
      description: 根据章节号获取章节内容
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      - description: 章节号
        in: path
        name: chapterNum
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 根据章节号获取内容
      tags:
      - 阅读器-章节
  /api/v1/reader/books/{bookId}/like:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - Bearer: []
      summary: 取消点赞书籍
      tags:
      - 阅读端-点赞
    post:
      consumes:
      - application/json
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - Bearer: []
      summary: 点赞书籍
      tags:
      - 阅读端-点赞
  /api/v1/reader/books/{bookId}/like/info:
    get:
      consumes:
      - application/json
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取书籍点赞信息
      tags:
      - 阅读端-点赞
  /api/v1/reader/books/{bookId}/status:
    put:
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      - description: 状态信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.UpdateBookStatusRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新书籍状态
      tags:
      - 阅读器-书架
  /api/v1/reader/books/{id}/buy-all:
    post:
      consumes:
      - application/json
      description: 批量购买书籍的所有付费章节（享受折扣）
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 购买全书
      tags:
      - 章节购买
  /api/v1/reader/books/batch/status:
    put:
      parameters:
      - description: 批量状态信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.BatchUpdateBookStatusRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量更新书籍状态
      tags:
      - 阅读器-书架
  /api/v1/reader/books/finished:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取已读完的书
      tags:
      - 阅读器-书架
  /api/v1/reader/books/recent:
    get:
      parameters:
      - default: 10
        description: 数量限制
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取最近阅读
      tags:
      - 阅读器-书架
  /api/v1/reader/books/unfinished:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取未读完的书
      tags:
      - 阅读器-书架
  /api/v1/reader/chapters/{chapterId}/comments:
    post:
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      - description: 评论内容
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发表章节评论
      tags:
      - 阅读器-章节评论
  /api/v1/reader/chapters/{chapterId}/info:
    get:
      consumes:
      - application/json
      description: 获取章节信息（不含内容）
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取章节信息
      tags:
      - 阅读器-章节
  /api/v1/reader/chapters/{chapterId}/paragraph-comments:
    get:
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取章节所有段落评论概览
      tags:
      - 阅读器-段落评论
    post:
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      - description: 评论内容
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发表段落级评论
      tags:
      - 阅读器-段落评论
  /api/v1/reader/chapters/{chapterId}/paragraphs/{paragraphIndex}/comments:
    get:
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      - description: 段落索引
        in: query
        name: paragraphIndex
        required: true
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取段落级评论
      tags:
      - 阅读器-段落评论
  /api/v1/reader/chapters/{chapterId}/purchase:
    post:
      consumes:
      - application/json
      description: 购买单个付费章节
      parameters:
      - description: 章节ID
        in: path
        name: chapterId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 购买章节
      tags:
      - 章节购买
  /api/v1/reader/collections:
    get:
      consumes:
      - application/json
      parameters:
      - description: 收藏夹ID
        in: query
        name: folder_id
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取收藏列表
      tags:
      - 阅读端-收藏
    post:
      consumes:
      - application/json
      parameters:
      - description: 收藏信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.AddCollectionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 添加收藏
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 收藏ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 删除收藏
      tags:
      - 阅读端-收藏
    put:
      consumes:
      - application/json
      parameters:
      - description: 收藏ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.UpdateCollectionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 更新收藏
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/{id}/share:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 收藏ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 取消分享收藏
      tags:
      - 阅读端-收藏
    post:
      consumes:
      - application/json
      parameters:
      - description: 收藏ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 分享收藏
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/check/{book_id}:
    get:
      consumes:
      - application/json
      parameters:
      - description: 书籍ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 检查是否已收藏
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/folders:
    get:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取收藏夹列表
      tags:
      - 阅读端-收藏
    post:
      consumes:
      - application/json
      parameters:
      - description: 收藏夹信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.CreateFolderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 创建收藏夹
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/folders/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 收藏夹ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 删除收藏夹
      tags:
      - 阅读端-收藏
    put:
      consumes:
      - application/json
      parameters:
      - description: 收藏夹ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.UpdateFolderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 更新收藏夹
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/public:
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取公开收藏列表
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/stats:
    get:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取收藏统计
      tags:
      - 阅读端-收藏
  /api/v1/reader/collections/tags/{tag}:
    get:
      consumes:
      - application/json
      parameters:
      - description: 标签
        in: path
        name: tag
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 根据标签获取收藏
      tags:
      - 阅读端-收藏
  /api/v1/reader/comments:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: book_id
        required: true
        type: string
      - default: latest
        description: 排序方式(latest/hot)
        in: query
        name: sortBy
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取评论列表
      tags:
      - 评论
    post:
      parameters:
      - description: 评论信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.CreateCommentRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发表评论
      tags:
      - 评论
  /api/v1/reader/comments/{commentId}:
    delete:
      parameters:
      - description: 评论ID
        in: path
        name: commentId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除章节评论
      tags:
      - 阅读器-章节评论
    get:
      parameters:
      - description: 评论ID
        in: path
        name: commentId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取单条评论详情
      tags:
      - 阅读器-章节评论
    put:
      parameters:
      - description: 评论ID
        in: path
        name: commentId
        required: true
        type: string
      - description: 更新内容
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新章节评论
      tags:
      - 阅读器-章节评论
  /api/v1/reader/comments/{commentId}/like:
    delete:
      parameters:
      - description: 评论ID
        in: path
        name: commentId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 取消点赞章节评论
      tags:
      - 阅读器-章节评论
    post:
      parameters:
      - description: 评论ID
        in: path
        name: commentId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 点赞章节评论
      tags:
      - 阅读器-章节评论
  /api/v1/reader/comments/{id}:
    delete:
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除评论
      tags:
      - 评论
    get:
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取评论详情
      tags:
      - 评论
    put:
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      - description: 评论内容
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.UpdateCommentRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新评论
      tags:
      - 评论
  /api/v1/reader/comments/{id}/like:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - Bearer: []
      summary: 取消点赞评论
      tags:
      - 阅读端-点赞
    post:
      consumes:
      - application/json
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - Bearer: []
      summary: 点赞评论
      tags:
      - 阅读端-点赞
  /api/v1/reader/comments/{id}/replies:
    get:
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取评论回复列表
      tags:
      - 评论
  /api/v1/reader/comments/{id}/reply:
    post:
      parameters:
      - description: 父评论ID
        in: path
        name: id
        required: true
        type: string
      - description: 回复内容
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.ReplyCommentRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 回复评论
      tags:
      - 评论
  /api/v1/reader/comments/{id}/thread:
    get:
      parameters:
      - description: 评论ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取评论完整线程
      tags:
      - 评论
  /api/v1/reader/comments/top:
    get:
      parameters:
      - description: 书籍ID
        in: query
        name: book_id
        required: true
        type: string
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取热门评论
      tags:
      - 评论
  /api/v1/reader/fonts:
    get:
      parameters:
      - description: 字体分类：serif/sans-serif/monospace
        in: query
        name: category
        type: string
      - description: 仅显示内置字体
        in: query
        name: builtin
        type: boolean
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取可用字体列表
      tags:
      - 阅读器-字体
    post:
      parameters:
      - description: 创建字体请求
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建自定义字体
      tags:
      - 阅读器-字体
  /api/v1/reader/fonts/{id}:
    delete:
      parameters:
      - description: 字体ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除自定义字体
      tags:
      - 阅读器-字体
    put:
      parameters:
      - description: 字体ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新字体请求
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新自定义字体
      tags:
      - 阅读器-字体
  /api/v1/reader/fonts/{name}:
    get:
      parameters:
      - description: 字体名称
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 根据名称获取字体
      tags:
      - 阅读器-字体
  /api/v1/reader/likes/books:
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取用户点赞的书籍列表
      tags:
      - 阅读端-点赞
  /api/v1/reader/likes/stats:
    get:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - Bearer: []
      summary: 获取用户点赞统计
      tags:
      - 阅读端-点赞
  /api/v1/reader/progress:
    post:
      parameters:
      - description: 保存进度请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.SaveProgressRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 保存阅读进度
      tags:
      - 阅读器
  /api/v1/reader/progress/{bookId}:
    get:
      parameters:
      - description: 书籍ID
        in: path
        name: bookId
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取阅读进度
      tags:
      - 阅读器
  /api/v1/reader/progress/finished:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取已读完的书籍
      tags:
      - 阅读器
  /api/v1/reader/progress/history:
    get:
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取阅读历史
      tags:
      - 阅读器
  /api/v1/reader/progress/merge:
    post:
      consumes:
      - application/json
      description: 批量合并离线阅读进度
      parameters:
      - description: 合并请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.MergeProgressRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 合并离线进度
      tags:
      - Reader-Sync
  /api/v1/reader/progress/reading-time:
    put:
      parameters:
      - description: 更新时长请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.UpdateReadingTimeRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新阅读时长
      tags:
      - 阅读器
  /api/v1/reader/progress/recent:
    get:
      parameters:
      - default: 20
        description: 数量限制
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取最近阅读记录
      tags:
      - 阅读器
  /api/v1/reader/progress/stats:
    get:
      parameters:
      - default: '"all"'
        description: 统计周期
        in: query
        name: period
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取阅读统计
      tags:
      - 阅读器
  /api/v1/reader/progress/sync:
    post:
      consumes:
      - application/json
      description: 同步阅读进度到服务器并推送到其他设备
      parameters:
      - description: 同步请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.SyncProgressRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 同步阅读进度
      tags:
      - Reader-Sync
  /api/v1/reader/progress/sync-status:
    get:
      consumes:
      - application/json
      description: 获取当前用户的同步状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取同步状态
      tags:
      - Reader-Sync
  /api/v1/reader/progress/unfinished:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取未读完的书籍
      tags:
      - 阅读器
  /api/v1/reader/progress/ws:
    get:
      consumes:
      - application/json
      description: 建立WebSocket连接进行实时进度同步
      parameters:
      - description: JWT Token
        in: header
        name: token
        required: true
        type: string
      produces:
      - application/json
      responses:
        "101":
          description: Switching Protocols
          schema:
            type: string
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: WebSocket进度同步
      tags:
      - Reader-Sync
  /api/v1/reader/purchases:
    get:
      consumes:
      - application/json
      description: 获取用户的章节购买记录列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取购买记录
      tags:
      - 章节购买
  /api/v1/reader/purchases/{bookId}:
    get:
      consumes:
      - application/json
      description: 获取用户对指定书籍的购买记录
      parameters:
      - description: 书籍ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取某本书的购买记录
      tags:
      - 章节购买
  /api/v1/reader/reading-history:
    delete:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 清空历史记录
      tags:
      - 阅读历史
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 书籍ID
        in: query
        name: book_id
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取阅读历史
      tags:
      - 阅读历史
    post:
      consumes:
      - application/json
      parameters:
      - description: 阅读记录参数
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/reader.RecordReadingRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 记录阅读历史
      tags:
      - 阅读历史
  /api/v1/reader/reading-history/:id:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 历史记录ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除历史记录
      tags:
      - 阅读历史
  /api/v1/reader/reading-history/stats:
    get:
      consumes:
      - application/json
      parameters:
      - default: 30
        description: 统计天数
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取阅读统计
      tags:
      - 阅读历史
  /api/v1/reader/settings:
    get:
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取阅读设置
      tags:
      - 阅读器
    post:
      parameters:
      - description: 阅读设置
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 保存阅读设置
      tags:
      - 阅读器
    put:
      parameters:
      - description: 更新设置请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/reader.UpdateSettingsRequest'
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新阅读设置
      tags:
      - 阅读器
  /api/v1/reader/settings/font:
    post:
      parameters:
      - description: 字体偏好
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 设置字体偏好
      tags:
      - 阅读器-字体
  /api/v1/reader/themes:
    get:
      parameters:
      - description: 仅显示内置主题
        in: query
        name: builtin
        type: boolean
      - description: 仅显示公开主题
        in: query
        name: public
        type: boolean
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取可用主题列表
      tags:
      - 阅读器-主题
    post:
      parameters:
      - description: 创建主题请求
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建自定义主题
      tags:
      - 阅读器-主题
  /api/v1/reader/themes/{id}:
    delete:
      parameters:
      - description: 主题ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除自定义主题
      tags:
      - 阅读器-主题
    put:
      parameters:
      - description: 主题ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新主题请求
        in: body
        name: request
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新自定义主题
      tags:
      - 阅读器-主题
  /api/v1/reader/themes/{name}:
    get:
      parameters:
      - description: 主题名称
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 根据名称获取主题
      tags:
      - 阅读器-主题
  /api/v1/reader/themes/{name}/activate:
    post:
      parameters:
      - description: 主题名称
        in: path
        name: name
        required: true
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 激活主题（应用到阅读设置）
      tags:
      - 阅读器-主题
  /api/v1/reading-stats/my/daily:
    get:
      consumes:
      - application/json
      parameters:
      - default: 30
        description: 天数
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取我的每日阅读统计
      tags:
      - 阅读统计
  /api/v1/reading-stats/my/history:
    get:
      consumes:
      - application/json
      parameters:
      - default: 30
        description: 天数
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取我的阅读历史统计
      tags:
      - 阅读统计
  /api/v1/reading-stats/my/ranking:
    get:
      consumes:
      - application/json
      parameters:
      - default: week
        description: 周期(week/month/all)
        in: query
        name: period
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取我的阅读排名
      tags:
      - 阅读统计
  /api/v1/reading-stats/my/reading-time:
    get:
      consumes:
      - application/json
      parameters:
      - default: 7
        description: 天数
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取我的阅读时长统计
      tags:
      - 阅读统计
  /api/v1/reading-stats/my/stats:
    get:
      consumes:
      - application/json
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取我的阅读统计
      tags:
      - 阅读统计
  /api/v1/reading-stats/recommendations:
    get:
      consumes:
      - application/json
      parameters:
      - default: personal
        description: 推荐类型(hot/new/personal)
        in: query
        name: type
        type: string
      - default: 10
        description: 数量限制
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取阅读推荐
      tags:
      - 阅读统计
  /api/v1/reading/books/{book_id}/average-rating:
    get:
      consumes:
      - application/json
      description: 根据图书ID获取该图书的平均评分
      parameters:
      - description: 图书ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取图书平均评分
      tags:
      - 图书评分
  /api/v1/reading/books/{book_id}/favorite:
    post:
      consumes:
      - application/json
      description: 为指定图书增加收藏量
      parameters:
      - description: 图书ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 增加成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 增加收藏量
      tags:
      - 图书统计
  /api/v1/reading/books/{book_id}/rating-distribution:
    get:
      consumes:
      - application/json
      description: 根据图书ID获取该图书的评分分布统计
      parameters:
      - description: 图书ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取图书评分分布
      tags:
      - 图书评分
  /api/v1/reading/books/{book_id}/ratings:
    get:
      consumes:
      - application/json
      description: 根据图书ID获取该图书的所有评分列表
      parameters:
      - description: 图书ID
        in: path
        name: book_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取图书的所有评分
      tags:
      - 图书评分
  /api/v1/reading/books/{book_id}/statistics:
    get:
      consumes:
      - application/json
      description: 根据图书ID获取统计信息
      parameters:
      - description: 图书ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: 统计信息不存在
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取图书统计信息
      tags:
      - 图书统计
  /api/v1/reading/books/{book_id}/view:
    post:
      consumes:
      - application/json
      description: 为指定图书增加浏览量
      parameters:
      - description: 图书ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 增加成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 增加浏览量
      tags:
      - 图书统计
  /api/v1/reading/ratings:
    post:
      consumes:
      - application/json
      description: 为图书创建新的评分
      parameters:
      - description: 评分信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "201":
          description: 创建成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 创建评分
      tags:
      - 图书评分
  /api/v1/reading/ratings/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定ID的评分
      parameters:
      - description: 评分ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 删除成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: 评分不存在
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 删除评分
      tags:
      - 图书评分
    get:
      consumes:
      - application/json
      description: 根据评分ID获取评分详情信息
      parameters:
      - description: 评分ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: 评分不存在
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取评分详情
      tags:
      - 图书评分
    put:
      consumes:
      - application/json
      description: 更新指定ID的评分信息
      parameters:
      - description: 评分ID
        in: path
        name: id
        required: true
        type: string
      - description: 评分信息
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: 更新成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "404":
          description: 评分不存在
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 更新评分
      tags:
      - 图书评分
  /api/v1/reading/ratings/{id}/like:
    post:
      consumes:
      - application/json
      description: 为指定评分点赞
      parameters:
      - description: 评分ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 点赞成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 点赞评分
      tags:
      - 图书评分
  /api/v1/reading/ratings/{id}/unlike:
    post:
      consumes:
      - application/json
      description: 取消对指定评分的点赞
      parameters:
      - description: 评分ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 取消点赞成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 取消点赞评分
      tags:
      - 图书评分
  /api/v1/reading/ratings/search:
    get:
      consumes:
      - application/json
      description: 根据关键词搜索评分
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 搜索评分
      tags:
      - 图书评分
  /api/v1/reading/statistics/aggregated:
    get:
      consumes:
      - application/json
      description: 获取系统整体的聚合统计信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取聚合统计信息
      tags:
      - 图书统计
  /api/v1/reading/statistics/daily-report:
    get:
      consumes:
      - application/json
      description: 获取指定日期的统计报告
      parameters:
      - description: 日期
        format: date
        in: query
        name: date
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取日统计报告
      tags:
      - 图书统计
  /api/v1/reading/statistics/hottest:
    get:
      consumes:
      - application/json
      description: 获取热度最高的图书列表
      parameters:
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取最热门的图书
      tags:
      - 图书统计
  /api/v1/reading/statistics/monthly-report:
    get:
      consumes:
      - application/json
      description: 获取指定月份的统计报告
      parameters:
      - description: 年份
        in: query
        name: year
        required: true
        type: integer
      - description: 月份
        in: query
        name: month
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取月统计报告
      tags:
      - 图书统计
  /api/v1/reading/statistics/search:
    get:
      consumes:
      - application/json
      description: 根据关键词搜索统计信息
      parameters:
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 搜索统计信息
      tags:
      - 图书统计
  /api/v1/reading/statistics/time-range:
    get:
      consumes:
      - application/json
      description: 获取指定时间范围内的统计信息
      parameters:
      - description: 开始时间
        format: date-time
        in: query
        name: start_time
        required: true
        type: string
      - description: 结束时间
        format: date-time
        in: query
        name: end_time
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取时间范围内的统计信息
      tags:
      - 图书统计
  /api/v1/reading/statistics/top-favorited:
    get:
      consumes:
      - application/json
      description: 获取收藏量最高的图书列表
      parameters:
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取最多收藏的图书
      tags:
      - 图书统计
  /api/v1/reading/statistics/top-rated:
    get:
      consumes:
      - application/json
      description: 获取评分最高的图书列表
      parameters:
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取最高评分的图书
      tags:
      - 图书统计
  /api/v1/reading/statistics/top-viewed:
    get:
      consumes:
      - application/json
      description: 获取浏览量最高的图书列表
      parameters:
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取最多浏览的图书
      tags:
      - 图书统计
  /api/v1/reading/statistics/trending:
    get:
      consumes:
      - application/json
      description: 获取当前趋势图书列表
      parameters:
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取趋势图书
      tags:
      - 图书统计
  /api/v1/reading/statistics/weekly-report:
    get:
      consumes:
      - application/json
      description: 获取指定周的统计报告
      parameters:
      - description: 年份
        in: query
        name: year
        required: true
        type: integer
      - description: 周数
        in: query
        name: week
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取周统计报告
      tags:
      - 图书统计
  /api/v1/reading/users/{user_id}/ratings:
    get:
      consumes:
      - application/json
      description: 根据用户ID获取该用户的所有评分列表
      parameters:
      - description: 用户ID
        in: path
        name: user_id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 10
        description: 每页数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "400":
          description: 请求参数错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
        "500":
          description: 服务器内部错误
          schema:
            $ref: '#/definitions/bookstore.APIResponse'
      summary: 获取用户的所有评分
      tags:
      - 图书评分
  /api/v1/recommendation/behavior:
    post:
      parameters:
      - description: 行为数据
        in: body
        name: body
        required: true
        schema:
          type: object
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 记录用户行为
      tags:
      - 推荐系统
  /api/v1/recommendation/category:
    get:
      parameters:
      - description: 分类名称
        in: query
        name: category
        required: true
        type: string
      - default: 20
        description: 推荐数量
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取分类推荐（当前使用热门推荐）
      tags:
      - 推荐系统
  /api/v1/recommendation/homepage:
    get:
      parameters:
      - default: 20
        description: 推荐数量
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取首页推荐（混合推荐策略：个性化+热门）
      tags:
      - 推荐系统
  /api/v1/recommendation/hot:
    get:
      parameters:
      - default: 20
        description: 推荐数量
        in: query
        name: limit
        type: integer
      - default: book
        description: 物品类型
        in: query
        name: type
        type: string
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取热门推荐
      tags:
      - 推荐系统
  /api/v1/recommendation/personalized:
    get:
      parameters:
      - default: 10
        description: 推荐数量
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取个性化推荐
      tags:
      - 推荐系统
  /api/v1/recommendation/similar:
    get:
      parameters:
      - description: 物品ID（书籍ID）
        in: query
        name: itemId
        required: true
        type: string
      - default: 10
        description: 推荐数量
        in: query
        name: limit
        type: integer
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取相似物品推荐
      tags:
      - 推荐系统
  /api/v1/search/batch:
    post:
      consumes:
      - application/json
      description: 一次请求执行多个搜索查询，并发执行
      parameters:
      - description: 批量搜索请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/search.BatchSearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: 批量搜索
      tags:
      - 搜索
  /api/v1/search/grayscale/config:
    post:
      consumes:
      - application/json
      description: 更新灰度配置，支持运行时热更新，无需重启服务
      parameters:
      - description: 灰度配置更新请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/search.UpdateGrayscaleConfigRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: 更新灰度配置
      tags:
      - 搜索-灰度
  /api/v1/search/grayscale/metrics:
    get:
      consumes:
      - application/json
      description: 获取完整的灰度监控指标数据，包括配置、使用统计、流量分配、性能指标等
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: 获取灰度指标
      tags:
      - 搜索-灰度
  /api/v1/search/grayscale/status:
    get:
      consumes:
      - application/json
      description: 获取当前灰度配置状态和流量分配统计
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: 获取灰度状态
      tags:
      - 搜索-灰度
  /api/v1/search/grayscale/traffic:
    get:
      consumes:
      - application/json
      description: 获取当前流量分配比例数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "401":
          description: Unauthorized
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: 获取流量分配
      tags:
      - 搜索-灰度
  /api/v1/search/health:
    get:
      consumes:
      - application/json
      description: 检查搜索服务及其各组件的健康状态
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
      summary: 搜索服务健康检查
      tags:
      - 搜索
  /api/v1/search/search:
    post:
      consumes:
      - application/json
      description: 根据类型和关键词进行统一搜索，支持书籍、项目、文档、用户等多种类型
      parameters:
      - description: 搜索请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/api_v1_search.SearchRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
        "400":
          description: Bad Request
          schema:
            type: object
        "500":
          description: Internal Server Error
          schema:
            type: object
      summary: 统一搜索
      tags:
      - 搜索
  /api/v1/search/suggest:
    get:
      consumes:
      - application/json
      description: 根据关键词前缀获取搜索建议（自动补全），支持书籍和文档的搜索建议
      parameters:
      - description: 搜索关键词前缀
        in: query
        name: q
        required: true
        type: string
      - default: 10
        description: 返回数量
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  items:
                    type: string
                  type: array
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取搜索建议
      tags:
      - 搜索
  /api/v1/shared/auth/login:
    post:
      consumes:
      - application/json
      description: 用户登录获取Token
      parameters:
      - description: 登录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 用户登录
      tags:
      - 认证
  /api/v1/shared/auth/logout:
    post:
      consumes:
      - application/json
      description: 用户登出，使Token失效
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 用户登出
      tags:
      - 认证
  /api/v1/shared/auth/permissions:
    get:
      consumes:
      - application/json
      description: 获取当前用户的权限列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取用户权限
      tags:
      - 认证
  /api/v1/shared/auth/refresh:
    post:
      consumes:
      - application/json
      description: 使用当前Token获取新Token
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 刷新Token
      tags:
      - 认证
  /api/v1/shared/auth/register:
    post:
      consumes:
      - application/json
      description: 注册新用户账号
      parameters:
      - description: 注册信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/auth.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 用户注册
      tags:
      - 认证
  /api/v1/shared/auth/roles:
    get:
      consumes:
      - application/json
      description: 获取当前用户的角色列表
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取用户角色
      tags:
      - 认证
  /api/v1/shared/oauth/{provider}/authorize:
    post:
      consumes:
      - application/json
      description: 获取第三方登录授权URL，用户需要访问此URL进行授权
      parameters:
      - description: OAuth提供商 (google/github/qq)
        in: path
        name: provider
        required: true
        type: string
      - description: 授权请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/shared.OAuthAuthorizeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取OAuth授权URL
      tags:
      - OAuth认证
  /api/v1/shared/oauth/{provider}/callback:
    post:
      consumes:
      - application/json
      description: 处理第三方登录回调，完成登录或注册
      parameters:
      - description: OAuth提供商 (google/github/qq)
        in: path
        name: provider
        required: true
        type: string
      - description: 回调请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/shared.OAuthCallbackRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 处理OAuth回调
      tags:
      - OAuth认证
  /api/v1/shared/oauth/accounts:
    get:
      consumes:
      - application/json
      description: 获取当前用户绑定的所有第三方账号
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取绑定的OAuth账号
      tags:
      - OAuth认证
  /api/v1/shared/oauth/accounts/{accountID}:
    delete:
      consumes:
      - application/json
      description: 解绑指定的第三方账号
      parameters:
      - description: OAuth账号ID
        in: path
        name: accountID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 解绑OAuth账号
      tags:
      - OAuth认证
  /api/v1/shared/oauth/accounts/{accountID}/primary:
    put:
      consumes:
      - application/json
      description: 将指定的OAuth账号设为主账号
      parameters:
      - description: OAuth账号ID
        in: path
        name: accountID
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 设置主账号
      tags:
      - OAuth认证
  /api/v1/shared/wallet:
    get:
      consumes:
      - application/json
      description: 获取用户完整钱包信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取钱包信息
      tags:
      - 钱包
  /api/v1/shared/wallet/balance:
    get:
      consumes:
      - application/json
      description: 查询用户钱包余额
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 查询余额
      tags:
      - 钱包
  /api/v1/shared/wallet/consume:
    post:
      consumes:
      - application/json
      description: 用户钱包消费
      parameters:
      - description: 消费信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/shared.ConsumeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 钱包消费
      tags:
      - 钱包
  /api/v1/shared/wallet/recharge:
    post:
      consumes:
      - application/json
      description: 用户钱包充值
      parameters:
      - description: 充值信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/shared.RechargeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 钱包充值
      tags:
      - 钱包
  /api/v1/shared/wallet/transactions:
    get:
      consumes:
      - application/json
      description: 查询用户交易记录列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 交易类型
        in: query
        name: type
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 查询交易记录
      tags:
      - 钱包
  /api/v1/shared/wallet/transfer:
    post:
      consumes:
      - application/json
      description: 向其他用户转账
      parameters:
      - description: 转账信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/shared.TransferRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 用户转账
      tags:
      - 钱包
  /api/v1/shared/wallet/withdraw:
    post:
      consumes:
      - application/json
      description: 用户申请提现
      parameters:
      - description: 提现信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/shared.WithdrawRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 申请提现
      tags:
      - 钱包
  /api/v1/shared/wallet/withdrawals:
    get:
      consumes:
      - application/json
      description: 查询用户提现申请列表
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 状态
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 查询提现申请
      tags:
      - 钱包
  /api/v1/social/authors/{authorId}/follow:
    post:
      consumes:
      - application/json
      parameters:
      - description: 作者ID
        in: path
        name: authorId
        required: true
        type: string
      - description: 关注信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.FollowAuthorRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 关注作者
      tags:
      - 社交-关注
  /api/v1/social/authors/{authorId}/unfollow:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 作者ID
        in: path
        name: authorId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 取消关注作者
      tags:
      - 社交-关注
  /api/v1/social/booklists:
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书单列表
      tags:
      - 社交-书单
    post:
      consumes:
      - application/json
      parameters:
      - description: 书单信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.CreateBookListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 创建书单
      tags:
      - 社交-书单
  /api/v1/social/booklists/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 书单ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 删除书单
      tags:
      - 社交-书单
    get:
      consumes:
      - application/json
      parameters:
      - description: 书单ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书单详情
      tags:
      - 社交-书单
    put:
      consumes:
      - application/json
      parameters:
      - description: 书单ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.UpdateBookListRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 更新书单
      tags:
      - 社交-书单
  /api/v1/social/booklists/{id}/books:
    get:
      consumes:
      - application/json
      parameters:
      - description: 书单ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书单中的书籍
      tags:
      - 社交-书单
  /api/v1/social/booklists/{id}/fork:
    post:
      consumes:
      - application/json
      parameters:
      - description: 书单ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 复制书单
      tags:
      - 社交-书单
  /api/v1/social/booklists/{id}/like:
    post:
      consumes:
      - application/json
      parameters:
      - description: 书单ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 点赞书单
      tags:
      - 社交-书单
  /api/v1/social/follow/{userId}:
    delete:
      consumes:
      - application/json
      description: 取消关注指定用户
      parameters:
      - description: 被取消关注用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 取消关注用户
      tags:
      - 社交-关注
    post:
      consumes:
      - application/json
      description: 关注指定用户
      parameters:
      - description: 被关注用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 关注用户
      tags:
      - 社交-关注
  /api/v1/social/follow/{userId}/status:
    get:
      consumes:
      - application/json
      description: 检查当前用户是否关注指定用户
      parameters:
      - description: 目标用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 检查关注状态
      tags:
      - 社交-关注
  /api/v1/social/following/authors:
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取关注的作者列表
      tags:
      - 社交-关注
  /api/v1/social/mentions:
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取@提醒列表
      tags:
      - 社交-私信
    post:
      consumes:
      - application/json
      parameters:
      - description: 提醒信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/messages.CreateMentionRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 创建@提醒
      tags:
      - 社交-私信
  /api/v1/social/mentions/{id}/read:
    put:
      consumes:
      - application/json
      parameters:
      - description: 提醒ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 标记@提醒已读
      tags:
      - 社交-私信
  /api/v1/social/messages:
    post:
      consumes:
      - application/json
      parameters:
      - description: 消息信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/messages.SendMessageRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 发送私信
      tags:
      - 社交-私信
  /api/v1/social/messages/{conversationId}:
    get:
      consumes:
      - application/json
      parameters:
      - description: 会话ID
        in: path
        name: conversationId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 50
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取会话消息
      tags:
      - 社交-私信
  /api/v1/social/messages/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 删除消息
      tags:
      - 社交-私信
  /api/v1/social/messages/{id}/read:
    put:
      consumes:
      - application/json
      parameters:
      - description: 消息ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 标记消息已读
      tags:
      - 社交-私信
  /api/v1/social/messages/conversations:
    get:
      consumes:
      - application/json
      parameters:
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 获取会话列表
      tags:
      - 社交-私信
    post:
      consumes:
      - application/json
      description: 创建新的私信会话，支持一对一私聊
      parameters:
      - description: 创建会话请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - BearerAuth: []
      summary: 创建会话
      tags:
      - Social Messages
  /api/v1/social/messages/conversations/{conversationId}/messages:
    get:
      consumes:
      - application/json
      description: 分页获取会话的消息列表，支持向上/向下翻页
      parameters:
      - description: 会话ID
        in: path
        name: conversationId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      - description: 获取此消息之前的消息
        in: query
        name: before
        type: string
      - description: 获取此消息之后的消息
        in: query
        name: after
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: 无权访问
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: 会话不存在
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - BearerAuth: []
      summary: 获取消息列表
      tags:
      - Social Messages
    post:
      consumes:
      - application/json
      description: 向会话发送新消息，支持文本、图片、文件等类型
      parameters:
      - description: 会话ID
        in: path
        name: conversationId
        required: true
        type: string
      - description: 发送消息请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: 无权访问
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: 会话不存在
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - BearerAuth: []
      summary: 发送消息
      tags:
      - Social Messages
  /api/v1/social/messages/conversations/{conversationId}/read:
    post:
      consumes:
      - application/json
      description: 标记会话的所有消息为已读状态
      parameters:
      - description: 会话ID
        in: path
        name: conversationId
        required: true
        type: string
      - description: 标记已读请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - BearerAuth: []
      summary: 标记会话已读
      tags:
      - Social Messages
  /api/v1/social/reviews:
    get:
      consumes:
      - application/json
      parameters:
      - description: 书籍ID
        in: query
        name: book_id
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书评列表
      tags:
      - 社交-书评
    post:
      consumes:
      - application/json
      parameters:
      - description: 书评信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.CreateReviewRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 创建书评
      tags:
      - 社交-书评
  /api/v1/social/reviews/{id}:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 书评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 删除书评
      tags:
      - 社交-书评
    get:
      consumes:
      - application/json
      parameters:
      - description: 书评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取书评详情
      tags:
      - 社交-书评
    put:
      consumes:
      - application/json
      parameters:
      - description: 书评ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/social.UpdateReviewRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 更新书评
      tags:
      - 社交-书评
  /api/v1/social/reviews/{id}/like:
    post:
      consumes:
      - application/json
      parameters:
      - description: 书评ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 点赞书评
      tags:
      - 社交-书评
  /api/v1/social/users/{userId}/follow:
    post:
      consumes:
      - application/json
      parameters:
      - description: 被关注用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 关注用户
      tags:
      - 社交-关注
  /api/v1/social/users/{userId}/follow-stats:
    get:
      consumes:
      - application/json
      description: 获取指定用户的粉丝数和关注数
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取关注统计
      tags:
      - 社交-关注
  /api/v1/social/users/{userId}/follow-status:
    get:
      consumes:
      - application/json
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 检查关注状态
      tags:
      - 社交-关注
  /api/v1/social/users/{userId}/followers:
    get:
      consumes:
      - application/json
      description: 获取指定用户的粉丝列表
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取粉丝列表
      tags:
      - 社交-关注
  /api/v1/social/users/{userId}/following:
    get:
      consumes:
      - application/json
      description: 获取指定用户的关注列表
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取关注列表
      tags:
      - 社交-关注
  /api/v1/social/users/{userId}/unfollow:
    delete:
      consumes:
      - application/json
      parameters:
      - description: 被关注用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - Bearer: []
      summary: 取消关注用户
      tags:
      - 社交-关注
  /api/v1/user-management/email-notifications:
    get:
      consumes:
      - application/json
      description: 获取当前用户的邮件通知设置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取邮件通知设置
      tags:
      - notifications
    put:
      consumes:
      - application/json
      description: 更新当前用户的邮件通知设置
      parameters:
      - description: 邮件通知设置
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新邮件通知设置
      tags:
      - notifications
  /api/v1/user-management/sms-notifications:
    get:
      consumes:
      - application/json
      description: 获取当前用户的短信通知设置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取短信通知设置
      tags:
      - notifications
    put:
      consumes:
      - application/json
      description: 更新当前用户的短信通知设置
      parameters:
      - description: 短信通知设置
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新短信通知设置
      tags:
      - notifications
  /api/v1/user/auth/login:
    post:
      consumes:
      - application/json
      description: 用户登录获取Token
      parameters:
      - description: 登录信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.LoginResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 用户登录
      tags:
      - 用户管理-认证
  /api/v1/user/auth/register:
    post:
      consumes:
      - application/json
      description: 注册新用户账户
      parameters:
      - description: 注册信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.RegisterRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.RegisterResponse'
              type: object
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 用户注册
      tags:
      - 用户管理-认证
  /api/v1/user/email/send-code:
    post:
      consumes:
      - application/json
      description: 向用户邮箱发送6位数字验证码，用于验证邮箱
      parameters:
      - description: 发送验证码请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发送邮箱验证码
      tags:
      - 用户安全
  /api/v1/user/email/verify:
    post:
      consumes:
      - application/json
      description: 使用验证码验证用户邮箱
      parameters:
      - description: 验证邮箱请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 验证邮箱
      tags:
      - 用户安全
  /api/v1/user/password:
    put:
      consumes:
      - application/json
      description: 修改当前用户的登录密码
      parameters:
      - description: 密码信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 修改密码
      tags:
      - 用户管理-个人信息
  /api/v1/user/password/reset:
    post:
      consumes:
      - application/json
      description: 使用Token和新密码完成密码重置
      parameters:
      - description: 确认重置密码
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 确认密码重置
      tags:
      - 用户安全
  /api/v1/user/password/reset-request:
    post:
      consumes:
      - application/json
      description: 向用户邮箱发送密码重置链接（包含Token）
      parameters:
      - description: 请求重置密码
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 请求密码重置
      tags:
      - 用户安全
  /api/v1/user/profile:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的详细信息
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserProfileResponse'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 获取当前用户信息
      tags:
      - 用户管理-个人信息
    put:
      consumes:
      - application/json
      description: 更新当前登录用户的个人信息
      parameters:
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdateProfileRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      security:
      - ApiKeyAuth: []
      summary: 更新当前用户信息
      tags:
      - 用户管理-个人信息
  /api/v1/user/shortcuts:
    get:
      consumes:
      - application/json
      description: 获取当前用户的快捷键配置（包括自定义和默认）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户快捷键配置
      tags:
      - 编辑器
    put:
      consumes:
      - application/json
      description: 更新用户的自定义快捷键配置
      parameters:
      - description: 快捷键配置
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.UpdateShortcutsRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新用户快捷键配置
      tags:
      - 编辑器
  /api/v1/user/shortcuts/help:
    get:
      consumes:
      - application/json
      description: 获取快捷键帮助文档（按分类）
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取快捷键帮助
      tags:
      - 编辑器
  /api/v1/user/shortcuts/reset:
    post:
      consumes:
      - application/json
      description: 重置用户快捷键为默认配置
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 重置用户快捷键配置
      tags:
      - 编辑器
  /api/v1/user/stats/my:
    get:
      consumes:
      - application/json
      description: 获取当前登录用户的统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/stats.UserStats'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取我的统计
      tags:
      - 用户管理-统计
  /api/v1/user/stats/my/activity:
    get:
      consumes:
      - application/json
      description: 获取当前用户的活跃度统计（默认7天）
      parameters:
      - description: 统计天数（默认7）
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/stats.ActivityStats'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取活跃度统计
      tags:
      - 用户管理-统计
  /api/v1/user/stats/my/content:
    get:
      consumes:
      - application/json
      description: 获取当前用户的内容统计数据
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/stats.ContentStats'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取内容统计
      tags:
      - 用户管理-统计
  /api/v1/user/stats/my/revenue:
    get:
      consumes:
      - application/json
      description: 获取当前用户的收益统计
      parameters:
      - description: 开始日期（YYYY-MM-DD）
        in: query
        name: start_date
        type: string
      - description: 结束日期（YYYY-MM-DD）
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/stats.RevenueStats'
              type: object
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取收益统计
      tags:
      - 用户管理-统计
  /api/v1/user/users/{id}:
    get:
      consumes:
      - application/json
      description: 获取指定用户的公开信息
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.UserProfileResponse'
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取用户信息
      tags:
      - 用户管理-公开信息
  /api/v1/user/users/{id}/books:
    get:
      consumes:
      - application/json
      description: 获取指定用户的已发布作品列表
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      - description: 状态筛选
        enum:
        - published
        - completed
        in: query
        name: status
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.GetUserBooksResponse'
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取用户作品列表
      tags:
      - 用户管理-公开信息
  /api/v1/user/users/{id}/profile:
    get:
      consumes:
      - application/json
      description: 获取指定用户的详细资料，用于展示用户主页
      parameters:
      - description: 用户ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.PublicUserProfileResponse'
              type: object
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取用户详细资料
      tags:
      - 用户管理-公开信息
  /api/v1/users/{userId}/violation-summary:
    get:
      consumes:
      - application/json
      description: 获取指定用户的违规统计信息
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户违规统计
      tags:
      - 审核
  /api/v1/users/{userId}/violations:
    get:
      consumes:
      - application/json
      description: 获取指定用户的所有违规记录
      parameters:
      - description: 用户ID
        in: path
        name: userId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取用户违规记录
      tags:
      - 审核
  /api/v1/users/devices/{deviceId}:
    delete:
      consumes:
      - application/json
      description: 删除用户的登录设备
      parameters:
      - description: 设备ID
        in: path
        name: deviceId
        required: true
        type: string
      - description: 删除设备请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.DeleteDeviceRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: 密码错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: 设备不存在
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除设备
      tags:
      - User Profile
  /api/v1/users/email/unbind:
    delete:
      consumes:
      - application/json
      description: 解除用户邮箱绑定，需要验证密码
      parameters:
      - description: 解绑邮箱请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UnbindEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: 密码错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 解绑邮箱
      tags:
      - User Profile
  /api/v1/users/email/verify:
    post:
      consumes:
      - application/json
      description: 验证用户邮箱，验证成功后标记邮箱已验证
      parameters:
      - description: 验证邮箱请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.VerifyEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.VerifyEmailResponse'
              type: object
        "400":
          description: 验证码无效或过期
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 验证邮箱
      tags:
      - User Verification
  /api/v1/users/password:
    put:
      consumes:
      - application/json
      description: 修改当前用户密码（需要验证旧密码）
      parameters:
      - description: 修改密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UpdatePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: 旧密码错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - BearerAuth: []
      summary: 修改密码
      tags:
      - User Password
  /api/v1/users/password/reset/send:
    post:
      consumes:
      - application/json
      description: 向用户邮箱发送密码重置验证码
      parameters:
      - description: 发送重置验证码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.SendPasswordResetRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.SendPasswordResetResponse'
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发送密码重置验证码
      tags:
      - User Password
  /api/v1/users/password/reset/verify:
    post:
      consumes:
      - application/json
      description: 验证重置码并重置用户密码
      parameters:
      - description: 重置密码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.ResetPasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.ResetPasswordResponse'
              type: object
        "400":
          description: 验证码无效
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 重置密码
      tags:
      - User Password
  /api/v1/users/phone/unbind:
    delete:
      consumes:
      - application/json
      description: 解除用户手机绑定（模拟实现，直接返回成功）
      parameters:
      - description: 解绑手机请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.UnbindPhoneRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 解绑手机
      tags:
      - User Profile
  /api/v1/users/verify/email/send:
    post:
      consumes:
      - application/json
      description: 向用户邮箱发送6位数字验证码，有效期5分钟
      parameters:
      - description: 发送验证码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.SendEmailCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.SendCodeResponse'
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "429":
          description: 发送过于频繁
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发送邮箱验证码
      tags:
      - User Verification
  /api/v1/users/verify/phone/send:
    post:
      consumes:
      - application/json
      description: 向用户手机发送6位数字验证码（模拟实现：控制台打印）
      parameters:
      - description: 发送验证码请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/dto.SendPhoneCodeRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            allOf:
            - $ref: '#/definitions/shared.APIResponse'
            - properties:
                data:
                  $ref: '#/definitions/dto.SendCodeResponse'
              type: object
        "400":
          description: 参数错误
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发送手机验证码
      tags:
      - User Verification
  /api/v1/writer/batch-operations:
    post:
      consumes:
      - application/json
      description: 提交批量删除/移动/复制等操作，包含Preflight预检查
      parameters:
      - description: 批量操作请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.SubmitBatchOperationRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/writer.SubmitBatchOperationResponse'
      summary: 提交批量操作
      tags:
      - batch-operations
  /api/v1/writer/batch-operations/{id}:
    get:
      consumes:
      - application/json
      description: 查询批量操作的执行状态和进度
      parameters:
      - description: 批量操作ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: object
      summary: 获取批量操作状态
      tags:
      - batch-operations
  /api/v1/writer/batch-operations/{id}/cancel:
    post:
      consumes:
      - application/json
      description: 取消正在运行的批量操作
      parameters:
      - description: 批量操作ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: 取消批量操作
      tags:
      - batch-operations
  /api/v1/writer/batch-operations/{id}/undo:
    post:
      consumes:
      - application/json
      description: 撤销已完成的批量操作
      parameters:
      - description: 批量操作ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
      summary: 撤销批量操作
      tags:
      - batch-operations
  /api/v1/writer/books/{book_id}/daily-stats:
    get:
      consumes:
      - application/json
      description: 获取作品最近N天的每日统计数据
      parameters:
      - description: 作品ID
        in: path
        name: book_id
        required: true
        type: string
      - default: 7
        description: 天数
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取作品每日统计
      tags:
      - Stats
  /api/v1/writer/books/{book_id}/drop-off-points:
    get:
      consumes:
      - application/json
      description: 获取跳出率最高的章节列表
      parameters:
      - description: 作品ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取作品跳出点分析
      tags:
      - Stats
  /api/v1/writer/books/{book_id}/heatmap:
    get:
      consumes:
      - application/json
      description: 获取作品各章节的阅读热度分布
      parameters:
      - description: 作品ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取作品阅读热力图
      tags:
      - Stats
  /api/v1/writer/books/{book_id}/retention:
    get:
      consumes:
      - application/json
      description: 获取作品的N日留存率
      parameters:
      - description: 作品ID
        in: path
        name: book_id
        required: true
        type: string
      - default: 7
        description: 天数
        in: query
        name: days
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取作品留存率
      tags:
      - Stats
  /api/v1/writer/books/{book_id}/revenue:
    get:
      consumes:
      - application/json
      description: 获取作品的收入细分数据
      parameters:
      - description: 作品ID
        in: path
        name: book_id
        required: true
        type: string
      - description: 开始日期 (YYYY-MM-DD)
        in: query
        name: start_date
        type: string
      - description: 结束日期 (YYYY-MM-DD)
        in: query
        name: end_date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取作品收入统计
      tags:
      - Stats
  /api/v1/writer/books/{book_id}/stats:
    get:
      consumes:
      - application/json
      description: 获取作品的完整统计信息，包括阅读、收入、互动等数据
      parameters:
      - description: 作品ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取作品统计数据
      tags:
      - Stats
  /api/v1/writer/books/{book_id}/top-chapters:
    get:
      consumes:
      - application/json
      description: 获取作品的热门章节统计（阅读量最高、收入最高、完读率最低、跳出率最高）
      parameters:
      - description: 作品ID
        in: path
        name: book_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取热门章节列表
      tags:
      - Stats
  /api/v1/writer/chapters/{chapter_id}/stats:
    get:
      consumes:
      - application/json
      description: 获取单个章节的统计信息
      parameters:
      - description: 章节ID
        in: path
        name: chapter_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取章节统计数据
      tags:
      - Stats
  /api/v1/writer/comments/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定批注
      parameters:
      - description: 批注ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除批注
      tags:
      - Writer-Comment
    get:
      consumes:
      - application/json
      description: 获取单个批注的详细信息
      parameters:
      - description: 批注ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取批注详情
      tags:
      - Writer-Comment
    put:
      consumes:
      - application/json
      description: 更新批注内容
      parameters:
      - description: 批注ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.UpdateCommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新批注
      tags:
      - Writer-Comment
  /api/v1/writer/comments/{id}/reply:
    post:
      consumes:
      - application/json
      description: 回复批注
      parameters:
      - description: 批注ID
        in: path
        name: id
        required: true
        type: string
      - description: 回复内容
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.ReplyCommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 回复批注
      tags:
      - Writer-Comment
  /api/v1/writer/comments/{id}/resolve:
    post:
      consumes:
      - application/json
      description: 标记批注为已解决
      parameters:
      - description: 批注ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 标记批注为已解决
      tags:
      - Writer-Comment
  /api/v1/writer/comments/{id}/unresolve:
    post:
      consumes:
      - application/json
      description: 标记批注为未解决
      parameters:
      - description: 批注ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 标记批注为未解决
      tags:
      - Writer-Comment
  /api/v1/writer/comments/batch-delete:
    post:
      consumes:
      - application/json
      description: 批量删除批注
      parameters:
      - description: 批量删除请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.BatchDeleteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量删除批注
      tags:
      - Writer-Comment
  /api/v1/writer/comments/threads/{threadId}:
    get:
      consumes:
      - application/json
      description: 获取批注线程及其所有回复
      parameters:
      - description: 线程ID
        in: path
        name: threadId
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取批注线程
      tags:
      - Writer-Comment
  /api/v1/writer/documents/{id}/comments:
    get:
      consumes:
      - application/json
      description: 获取文档的所有批注
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 是否包含已解决
        in: query
        name: resolved
        type: boolean
      - description: 批注类型
        in: query
        name: type
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取批注列表
      tags:
      - Writer-Comment
    post:
      consumes:
      - application/json
      description: 在文档中添加批注
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 批注信息
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.CreateCommentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建批注
      tags:
      - Writer-Comment
  /api/v1/writer/documents/{id}/comments/search:
    get:
      consumes:
      - application/json
      description: 在文档中搜索批注
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 搜索关键词
        in: query
        name: keyword
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 搜索批注
      tags:
      - Writer-Comment
  /api/v1/writer/documents/{id}/comments/stats:
    get:
      consumes:
      - application/json
      description: 获取文档的批注统计信息
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批注统计
      tags:
      - Writer-Comment
  /api/v1/writer/documents/{id}/duplicate:
    post:
      consumes:
      - application/json
      description: 复制文档到指定位置，可选择是否复制内容
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 复制文档请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 复制文档
      tags:
      - 文档管理
  /api/v1/writer/documents/{id}/export:
    post:
      consumes:
      - application/json
      description: 将文档导出为指定格式（TXT/MD/DOCX）
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      - description: 导出请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 导出文档
      tags:
      - 导出管理
  /api/v1/writer/documents/{id}/lock:
    delete:
      consumes:
      - application/json
      description: 解锁文档，允许其他用户编辑
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: 无权解锁
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 解锁文档
      tags:
      - Writer-Lock
    post:
      consumes:
      - application/json
      description: 锁定文档以进行编辑，防止多人同时编辑冲突
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 锁定请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.LockDocumentRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "409":
          description: 文档已被锁定
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 锁定文档
      tags:
      - Writer-Lock
  /api/v1/writer/documents/{id}/lock/extend:
    post:
      consumes:
      - application/json
      description: 延长文档锁定时间
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 延长请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.ExtendLockRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 延长锁
      tags:
      - Writer-Lock
  /api/v1/writer/documents/{id}/lock/force:
    post:
      consumes:
      - application/json
      description: 管理员强制解锁文档
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: 需要管理员权限
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 强制解锁
      tags:
      - Writer-Lock
  /api/v1/writer/documents/{id}/lock/refresh:
    put:
      consumes:
      - application/json
      description: 发送心跳以保持文档锁定状态
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 刷新锁
      tags:
      - Writer-Lock
  /api/v1/writer/documents/{id}/lock/status:
    get:
      consumes:
      - application/json
      description: 获取文档当前的锁定状态
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取锁状态
      tags:
      - Writer-Lock
  /api/v1/writer/documents/{id}/publish:
    post:
      consumes:
      - application/json
      description: 将单个文档发布到书城平台
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      - description: 发布请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发布文档（章节）
      tags:
      - 发布管理
  /api/v1/writer/documents/{id}/publish-status:
    put:
      consumes:
      - application/json
      description: 更新文档的发布状态（发布/取消发布、免费/付费等）
      parameters:
      - description: 文档ID
        in: path
        name: id
        required: true
        type: string
      - description: 项目ID
        in: query
        name: projectId
        required: true
        type: string
      - description: 更新请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新文档发布状态
      tags:
      - 发布管理
  /api/v1/writer/exports/{id}:
    delete:
      consumes:
      - application/json
      description: 删除指定的导出任务及其文件
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除导出任务
      tags:
      - 导出管理
    get:
      consumes:
      - application/json
      description: 根据任务ID获取导出任务的详细状态
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取导出任务状态
      tags:
      - 导出管理
  /api/v1/writer/exports/{id}/cancel:
    post:
      consumes:
      - application/json
      description: 取消正在处理或等待中的导出任务
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 取消导出任务
      tags:
      - 导出管理
  /api/v1/writer/exports/{id}/download:
    get:
      consumes:
      - application/json
      description: 下载已完成的导出文件
      parameters:
      - description: 任务ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 下载导出文件
      tags:
      - 导出管理
  /api/v1/writer/projects/{id}/export:
    post:
      consumes:
      - application/json
      description: 将整个项目导出为ZIP包
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      - description: 导出请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 导出项目
      tags:
      - 导出管理
  /api/v1/writer/projects/{id}/publication-status:
    get:
      consumes:
      - application/json
      description: 获取项目的发布状态和统计信息
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取项目发布状态
      tags:
      - 发布管理
  /api/v1/writer/projects/{id}/publish:
    post:
      consumes:
      - application/json
      description: 将项目发布到指定书城平台
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      - description: 发布请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 发布项目到书城
      tags:
      - 发布管理
  /api/v1/writer/projects/{id}/unpublish:
    post:
      consumes:
      - application/json
      description: 将项目从书城平台下架
      parameters:
      - description: 项目ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 取消发布项目
      tags:
      - 发布管理
  /api/v1/writer/projects/{projectId}/documents/batch-publish:
    post:
      consumes:
      - application/json
      description: 批量发布多个文档到书城平台
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - description: 批量发布请求
        in: body
        name: request
        required: true
        schema:
          type: object
      produces:
      - application/json
      responses:
        "202":
          description: Accepted
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 批量发布文档
      tags:
      - 发布管理
  /api/v1/writer/projects/{projectId}/exports:
    get:
      consumes:
      - application/json
      description: 获取指定项目的所有导出任务
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取导出任务列表
      tags:
      - 导出管理
  /api/v1/writer/projects/{projectId}/publications:
    get:
      consumes:
      - application/json
      description: 获取项目的所有发布记录
      parameters:
      - description: 项目ID
        in: path
        name: projectId
        required: true
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: pageSize
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取发布记录列表
      tags:
      - 发布管理
  /api/v1/writer/publications/{id}:
    get:
      consumes:
      - application/json
      description: 根据ID获取发布记录的详细信息
      parameters:
      - description: 记录ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取发布记录详情
      tags:
      - 发布管理
  /api/v1/writer/search/documents:
    get:
      consumes:
      - application/json
      description: 根据关键词搜索用户项目中的文档
      parameters:
      - description: 搜索关键词
        in: query
        name: q
        required: true
        type: string
      - description: 项目ID过滤
        in: query
        name: project_id
        type: string
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: page_size
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      security:
      - ApiKeyAuth: []
      summary: 搜索文档
      tags:
      - 写作端-搜索
  /api/v1/writer/templates:
    get:
      consumes:
      - application/json
      description: 获取模板列表（支持分页和过滤）
      parameters:
      - description: 项目ID（为空则查询全局模板）
        in: query
        name: projectId
        type: string
      - description: 模板类型 (chapter/outline/setting)
        in: query
        name: type
        type: string
      - description: 模板状态 (active/deprecated)
        in: query
        name: status
        type: string
      - description: 模板分类
        in: query
        name: category
        type: string
      - description: 关键词搜索
        in: query
        name: keyword
        type: string
      - description: 是否为系统模板
        in: query
        name: isSystem
        type: boolean
      - default: 1
        description: 页码
        in: query
        name: page
        type: integer
      - default: 20
        description: 每页数量
        in: query
        name: pageSize
        type: integer
      - default: created_at
        description: 排序字段
        in: query
        name: sortBy
        type: string
      - default: -1
        description: 排序方向 (1=升序, -1=降序)
        in: query
        name: sortOrder
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.PaginatedResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 列出模板
      tags:
      - 模板管理
    post:
      consumes:
      - application/json
      description: 创建新的文档模板
      parameters:
      - description: 创建模板请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.CreateTemplateRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 创建模板
      tags:
      - 模板管理
  /api/v1/writer/templates/{id}:
    delete:
      consumes:
      - application/json
      description: 删除模板（软删除）
      parameters:
      - description: 模板ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 删除模板
      tags:
      - 模板管理
    get:
      consumes:
      - application/json
      description: 根据ID获取模板详细信息
      parameters:
      - description: 模板ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 获取模板详情
      tags:
      - 模板管理
    put:
      consumes:
      - application/json
      description: 更新模板信息
      parameters:
      - description: 模板ID
        in: path
        name: id
        required: true
        type: string
      - description: 更新模板请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.UpdateTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "403":
          description: Forbidden
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 更新模板
      tags:
      - 模板管理
  /api/v1/writer/templates/{id}/apply:
    post:
      consumes:
      - application/json
      description: 渲染模板并应用到文档
      parameters:
      - description: 模板ID
        in: path
        name: id
        required: true
        type: string
      - description: 应用模板请求
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/writer.ApplyTemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/shared.APIResponse'
      summary: 应用模板
      tags:
      - 模板管理
  /system/health:
    get:
      consumes:
      - application/json
      description: 检查系统整体健康状态
      produces:
      - application/json
      responses:
        "200":
          description: 健康
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: 不健康
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 系统健康检查
      tags:
      - 系统监控
  /system/health/{service}:
    get:
      consumes:
      - application/json
      description: 检查指定服务的健康状态
      parameters:
      - description: 服务名称
        in: path
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 健康
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: 服务不存在
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: 不健康
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 特定服务健康检查
      tags:
      - 系统监控
  /system/metrics:
    get:
      consumes:
      - application/json
      description: 获取所有服务的运行指标
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取所有服务指标
      tags:
      - 系统监控
  /system/metrics/{service}:
    get:
      consumes:
      - application/json
      description: 获取指定服务的运行指标
      parameters:
      - description: 服务名称
        in: path
        name: service
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: 成功
          schema:
            $ref: '#/definitions/shared.APIResponse'
        "404":
          description: 服务不存在
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
        "500":
          description: 失败
          schema:
            $ref: '#/definitions/shared.ErrorResponse'
      summary: 获取特定服务指标
      tags:
      - 系统监控
  /ws/messages:
    get:
      description: 实时接收会话消息，需要在URL中传递token参数
      parameters:
      - description: JWT认证token
        in: query
        name: token
        required: true
        type: string
      responses: {}
      summary: WebSocket消息端点
      tags:
      - Social Messages
  /ws/notifications:
    get:
      description: 实时接收用户通知，需要在URL中传递token参数
      parameters:
      - description: JWT认证token
        in: query
        name: token
        required: true
        type: string
      responses: {}
      summary: WebSocket通知端点
      tags:
      - Notifications
securityDefinitions:
  Bearer:
    description: Type "Bearer" followed by a space and JWT token.
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
tags:
- description: 书城相关接口，包括首页、书籍列表、分类等
  name: 书城
- description: 书籍详情、搜索、评分等功能
  name: 书籍
- description: 用户注册、登录、个人信息管理
  name: 用户
- description: 写作项目管理
  name: 项目
- description: 文档编辑、版本控制
  name: 文档
- description: AI写作辅助功能
  name: AI辅助
- description: 钱包、充值、提现功能
  name: 钱包
